{"version":3,"sources":["components/simulator.ts","components/SimFrame.tsx","components/Joystick.tsx","components/GameButtons.tsx","components/GamePlayer.tsx","sprite-editor/bitmap.ts","bitmap_helpers.ts","components/TabBar.tsx","components/ColorPicker.tsx","telemetry/appinsights.ts","games/bunny_hop/bin.js.ts","sprite-editor/svgUtil.ts","sprite-editor/svgEvents.ts","sprite-editor/util.ts","sprite-editor/tools.ts","sprite-editor/buttons.ts","sprite-editor/sidebar.ts","sprite-editor/canvasGrid.ts","sprite-editor/canvasState.ts","sprite-editor/spriteEditor.ts","components/SpriteEditor.tsx","components/SpriteGallery.tsx","components/GameModder.tsx","App.tsx","components/Share.tsx","index.tsx"],"names":["SimulatorButton","SimFrame","props","className","ref","simulator","setFrame","title","allow","sandbox","Simulator","frame","buttonState","changeListeners","framePromise","readyPromise","lastRunBinary","messageHandler","ev","msg","data","handleMessage","this","window","addEventListener","resolve","button","sendButtonState","cb","indexOf","push","index","splice","binaryjs","waitForSimFrameAsync","then","undefined","id","Math","random","setAttribute","src","waitForSimReadyAsync","sendMessage","type","code","removeEventListener","pressed","updateButtonState","forEach","contentWindow","postMessage","command","runCode","Promise","promise","Deferrable","_resolve","_reject","reject","SVG_WIDTH","HALF_WIDTH","getTouch","identifier","i","changedTouches","length","Joystick","dPadUp","dPadDown","dPadLeft","dPadRight","joystickHandle","joystickAnimation","handleX","handleY","lastOctet","buttonChangeListener","isPressed","Down","updateDirection","Up","Left","Right","refs","bindEvents","addChangeListener","removeChangeListener","changeMode","onClick","xmlns","viewBox","width","height","cx","cy","r","fill","stroke","strokeWidth","x","y","rx","ry","div","PointerEvent","bindPointerEvents","navigator","maxTouchPoints","bindTouchEvents","bindMouseEvents","inGesture","updateJoystickDrag","clientX","clientY","startAnimation","touchIdentifier","touch","preventDefault","bounds","getBoundingClientRect","dx","left","dy","top","angle","atan2","distance","min","sqrt","pow","setHandlePosition","cos","sin","clearButtonPresses","stopAnimation","requestAnimationFrame","animationFrame","getHandleDistance","getHandleAngle","max","cancelAnimationFrame","animation","octet","floor","PI","right","up","down","pressButton","releaseButton","React","Component","GameButtons","sim","aButton","aLabel","bButton","bLabel","textAnchor","fontSize","aDistance","bDistance","setButtonState","A","B","isAButton","circle","label","updateButtonGesture","GamePlayer","binJs","Bitmap","x0","y0","buf","Uint8Array","ceil","col","row","value","coordToIndex","setCore","getCore","sub","c","set","get","change","current","transparent","other","cell","imageLiteralToBitmap","text","defaultPattern","replace","trim","rows","split","sprite","spriteWidth","rowValues","spriteHeight","result","f4EncodeImg","w","h","bpp","getPix","hex2","ptr","curr","shift","pushBits","n","j","toString","slice","parseColorString","color","parseInt","substr","_r","_g","_b","defaultPalletColors","colors","res","toNumbers","bitmapToBinHex","bitmap","bind","textToBitmap","bmp","bitmapToUrl","context","scale","canvas","document","createElement","cellSize","getContext","fillStyle","fillRect","bitmapToCanvas","toDataURL","R","SVG_W","TAB_SVG_H","IMG_SPACE","TabBar","TabBarSvg","TOTAL_IMG_SPACE","LEFT_SPACE","TABS_START","state","currentTab","startTab","tabImages","idx","tabW","tabStart","tabFinish","TAB_MARGIN_T","tabPath","getTabPath","tabImgs","map","img","clickHandler","setState","tabChange","d","key","href","Swatch","style","backgroundColor","classes","selected","backgroundImg","SAMPLE_TREE","ColorPicker","colorPicker","selection","selectionChanged","swatchs","tickEvent","measures","isLocalHost","appInsights","trackEvent","test","location","e","PatternUnits","LengthUnit","isTouchEnabled","hasPointerEvents","BaseElement","el","titleElement","elt","attributes","Object","keys","at","name","ns","setAttributeNS","join","cls","classList","add","baseVal","addSingleClass","remove","filter","removeSingleClass","addClassInternal","removeClassInternal","firstChild","insertBefore","appendChild","textContent","visible","DrawContext","Text","Circle","Rect","Line","Polygon","Polyline","Path","Drawable","drawable","draw","g","Group","child","handler","events","buttons","SVG","parent","defs","DefsElement","scaleFactor","updateTransform","factor","StyleElement","transform","Pattern","kind","objectBoundingBox","RadialGradient","LinearGradient","ClipPath","css","opacity","url","family","size","units","lengthWithUnits","unit","px","radius","corners","x1","y1","x2","y2","from","to","PolyElement","points","PathContext","toAttribute","update","Gradient","offset","s","fx","fy","fr","createElementNS","ops","op","c1x","c1y","c2x","c2y","dc1x","dc1y","dc2x","dc2y","dcx","dcy","xRotate","large","sweepClockwise","args","em","ex","in","cm","mm","pt","pc","percent","MapTools","Bitmask","mask","cellIndex","pointerEvents","move","enter","leave","PaintTool","getPaintToolShortcut","tool","Normal","Rectangle","Fill","Erase","Marquee","Cursor","offsetX","offsetY","Edit","canvasWidth","canvasHeight","toolWidth","startCol","startRow","isStarted","showPreview","doEditCore","cursorCol","cursorRow","mergeFloatingLayer","SelectionEdit","endCol","endRow","isDragged","PaintEdit","interpolate","xStep","yStep","dErr","abs","err","drawCore","endY","image","setPixel","OutlineEdit","tl","topLeft","br","bottomRight","drawRectangle","LineEdit","bresenham","CircleEdit","hypot","midpoint","FillEdit","replColor","q","pop","tryPush","MarqueeEdit","isMove","floatingLayer","inFloatingLayer","layerOffsetX","layerOffsetY","copyToLayer","BUTTON_CORNER_RADIUS","BUTTON_BORDER_WIDTH","BUTTON_BOTTOM_BORDER_WIDTH","Button","root","_title","_shortcut","appendClass","removeClass","translate","setRootTitle","disabled","editClass","TextButton","textEl","mkText","moveTo","getComputedTextLength","CursorButton","mkIconButton","icon","drawSingleButton","mkXIconButton","drawLeftButton","lip","border","svg","bg","lineBy","arcBy","close","fg","CursorMultiButton","indexHandler","group","widths","buttonGroup","b","handleClick","cursorIndex","sizeAdjective","getElement","setSelected","UndoRedoGroup","host","undo","redo","setDisabled","drawMidButton","drawRightButton","segments","available","segmentWidth","anchor","InputEvent","GestureType","UNDO_REDO_WIDTH","UNDO_REDO_HEIGHT","SideBar","palette","colorSwatches","pencilTool","eraseTool","rectangleTool","fillTool","marqueeTool","sizeGroup","paletteGroup","selectedTool","selectedSwatch","colorPreview","undoRedo","initSizes","initTools","initPalette","updateState","setActiveTool","getButtonForTool","addClass","setActiveColor","SELECTED_BORDER_WIDTH","setToolWidth","onSelected","setCursorSize","initButton","TOOL_BUTTON_WIDTH","setTool","COLOR_PREVIEW_HEIGHT","bgHeight","def","create","clipPathUnits","TOOLBAR_WIDTH","swatch","PALETTE_BORDER_WIDTH","clipPath","setColor","xicon","btn","shortcut","setIconsToDefault","lightModeBackground","CanvasGrid","lightMode","cellWidth","cellHeight","gesture","fadeAnimation","selectAnimation","backgroundLayer","paintLayer","overlayLayer","mouseCol","mouseRow","upHandler","endDrag","clientEventToCell","handle","stopPropagation","leaveHandler","Leave","moveHandler","Move","hoverHandler","isHover","alpha","hideOverlay","on","clearContext","drawImage","drawFloatingLayer","edit","doEdit","drawCursor","cursor","getCursor","repaint","drawColor","strokeStyle","strokeRect","transparency","copy","resizeGrid","kill","showOverlay","stopSelectAnimation","toastLeft","toastWidth","toastTop","Fade","dead","globalAlpha","font","textBaseline","textAlign","fillText","toastHeight","visibility","rowLength","numCells","lockAspectRatio","maxCellWidth","maxCellHeight","aspectRatio","setCellDimensions","initDragSurface","subscribe","Drag","layoutCanvas","drawBackground","start","end","alphaCols","alphaRows","ac","ar","coord","touches","te","clientCoord","scrollX","pageXOffset","scrollY","pageYOffset","drawSelectionAnimation","dashOffset","lineWidth","setLineDash","lineDashOffset","drawLayer","setInterval","clearRect","GestureState","utils","surface","evId","startDrag","position","clearInterval","lastCol","lastRow","isDown","handlers","event","fire","delay","duration","slope","Date","now","setTimeout","v","CanvasState","equals","apply","cut","COLORS","SpriteEditor","blocksInfo","toolbarRoot","paintSurface","sidebar","header","cachedState","activeTool","undoStack","redoStack","columns","shiftDown","altDown","mouseDown","closeHandler","keyDown","keyCode","shiftAction","discardEdit","setEyedropperMouse","didSomething","updateEdit","pushState","restore","switchIconTo","keyUp","clearShiftAction","undoRedoEvent","controlOrMeta","ctrlKey","metaKey","setClass","createDefs","drag","debug","setCell","onEditEnd","rePaint","commit","concat","updateUndoRedo","paintCell","onEditStart","paintEdit","layout","attr","outerHeight","canvasHolder","render","setGridDimensions","paintAreaTop","paintAreaLeft","updateBounds","setPalette","todo","resizeBitmap","afterResize","presets","PADDING","ch","updateIcon","setText","removeMouseListeners","showResizeOverlay","gestureEnd","applyEdit","stack","newEdit","writeColor","Outline","define","p","userSpaceOnUse","SpriteEditorComp","spriteEditorHolder","editor","startImage","renderSpriteEditor","console","log","getElementsByTagName","currImg","spriteEditor","canvases","getElementsByClassName","controls","oldW","getAttribute","oldH","newW","newH","setSizePresets","outerWidth","overflow","addKeyListeners","onClose","onPlay","Item","SpriteGallery","spriteGallery","options","items","IsGameModderState","userImages","moddableImages","CALL_TO_ACTION","img2Rows","imgTxt","rows2img","resizeUp","targW","targH","left2add","top2add","numL","numR","l","repeat","o","addCols","numT","len","newR","Array","_","addRows","resizeTo24x24","mirror","reverse","SAMPLE_CHARACTERS","SAMPLE_OBSTACLES","SAMPLE_OBSTACLES2","dir","lastBinary","playTimestamp","GameModder","playBtn","gameModderState","imgs","CreateEmptyImageText","callToAction","default","currentImg","currentBackground","assign","k","galleryHolder","gallerySvg","galleryEnd","galleryEndPath","GAL_SVG_H","newState","m","old","saveCurrentUserImage","applyImage","save","load","isBackgroundTab","body","wScale","clientWidth","hScale","clientHeight","spriteGalleryHeight","colorPickerHeight","spriteGalleryOptions","startImg","galKey","onTabChange","onBackgroundColorChanged","SE","onSpriteGalleryPick","ontouchmove","modBackground","modImg","bin","MOD_PREFIX_LEN","BIN_PREFIX_LEN","newHex","oldToFind","oldStartIncl","oldEndExcl","oldHex","newColor","template","nw","gameBinJs","playHandler","Share","role","App","mode","setVh","vh","innerHeight","documentElement","setProperty","playGame","includeCookie","config","t","arguments","queue","f","u","a","parentNode","cookie","version","disableExceptionTracking","instrumentationKey","disableAjaxTracking","overridePageViewDuration","isCookieUseDisabled","isStorageUseDisabled","scrubUrl","addTelemetryInitializer","envelope","telemetryItem","baseData","properties","trackPageView","urlReferrer","referrer","loadAppInsights","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.bfa5a211.chunk.js","sourcesContent":["export enum SimulatorButton {\n    A,\n    B,\n    Up,\n    Down,\n    Left,\n    Right,\n    Menu,\n    Reset\n}\n\ninterface SimulatorMessage {\n    type: string;\n}\n\ninterface SimulatorReadyMessage extends SimulatorMessage {\n    type: \"ready\";\n}\n\ninterface SimulatorRestartMessage extends SimulatorMessage {\n    type: \"simulator\";\n    command: \"restart\";\n}\n\ninterface SimulatorRunMessage extends SimulatorMessage {\n    type: \"run\";\n    code: string;\n}\n\ninterface SimulatorButtonMessage extends SimulatorMessage {\n    type: \"button-pressed\"\n    button: SimulatorButton;\n    pressed: boolean;\n}\n\ntype SentMessage = SimulatorRunMessage | SimulatorButtonMessage;\ntype ReceivedMessage = SimulatorReadyMessage | SimulatorRestartMessage;\n\n// No trailing slash!!!\nconst baseurl = \"https://trg-arcade.userpxt.io/beta---simulator\"\n\nexport class Simulator {\n    protected frame: HTMLIFrameElement | undefined;\n    protected buttonState: boolean[] = [];\n\n    protected changeListeners: ((button: SimulatorButton, pressed: boolean) => void)[] = [];\n    protected framePromise: Deferrable;\n    protected readyPromise: Deferrable;\n\n    protected lastRunBinary: string;\n\n    constructor(frame?: HTMLIFrameElement) {\n        this.frame = frame;\n\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n\n    setFrame(frame: HTMLIFrameElement | null) {\n        if (frame) {\n            this.frame = frame;\n            if (this.framePromise) this.framePromise.resolve();\n        }\n    }\n\n    pressButton(button: SimulatorButton) {\n        if (!this.buttonState[button]) {\n            this.sendButtonState(button, true);\n        }\n    }\n\n    releaseButton(button: SimulatorButton) {\n        if (this.buttonState[button]) {\n            this.sendButtonState(button, false);\n        }\n    }\n\n    isPressed(button: SimulatorButton) {\n        return !!this.buttonState[button];\n    }\n\n    addChangeListener(cb: (button: SimulatorButton, pressed: boolean) => void) {\n        if (this.changeListeners.indexOf(cb) === -1) {\n            this.changeListeners.push(cb);\n        }\n    }\n\n    removeChangeListener(cb: (button: SimulatorButton, pressed: boolean) => void) {\n        const index = this.changeListeners.indexOf(cb);\n        if (index !== -1) {\n            this.changeListeners.splice(index, 1);\n        }\n    }\n\n    runCode(binaryjs: string) {\n        this.lastRunBinary = binaryjs;\n\n        this.waitForSimFrameAsync()\n            .then(() => {\n                this.readyPromise = undefined;\n\n                const id = `sim-frame-${Math.random() * 1000000}`;\n                this.frame.setAttribute(\"id\", id);\n                this.frame.src = `${baseurl}?justscreen=1&run=${id}#${id}`;\n\n                this.waitForSimReadyAsync()\n                    .then(() => {\n                        this.sendMessage({\n                            type: \"run\",\n                            code: binaryjs\n                        });\n                    });\n            })\n    }\n\n    dispose() {\n        window.removeEventListener(\"message\", this.messageHandler);\n    }\n\n    protected sendButtonState(button: SimulatorButton, pressed: boolean) {\n        this.updateButtonState(button, pressed);\n        this.sendMessage({\n            type: \"button-pressed\",\n            button,\n            pressed\n        });\n    }\n\n    protected updateButtonState(button: SimulatorButton, pressed: boolean) {\n        if ((!!this.buttonState[button]) !== pressed) {\n            this.buttonState[button] = pressed;\n            this.changeListeners.forEach(cb => cb(button, pressed));\n        }\n    }\n\n    protected sendMessage(msg: SentMessage) {\n        if (this.frame && this.frame.contentWindow) {\n            this.frame.contentWindow.postMessage(msg, \"*\");\n        }\n    }\n\n    protected handleMessage(msg: ReceivedMessage) {\n        switch (msg.type) {\n            case \"ready\":\n                if (this.readyPromise) this.readyPromise.resolve();\n                break;\n            case \"simulator\":\n                if (msg.command === \"restart\") this.runCode(this.lastRunBinary);\n        }\n    }\n\n    protected messageHandler = (ev: MessageEvent) => {\n        const msg = ev.data as ReceivedMessage;\n        this.handleMessage(msg);\n    }\n\n    protected waitForSimFrameAsync() {\n        if (this.frame) return Promise.resolve();\n        if (this.framePromise) return this.framePromise.promise;\n\n        this.framePromise = new Deferrable();\n\n        return this.framePromise.promise;\n    }\n\n    protected waitForSimReadyAsync() {\n        if (this.readyPromise) return this.readyPromise.promise;\n\n        this.readyPromise = new Deferrable();\n\n        return this.readyPromise.promise;\n    }\n}\n\nclass Deferrable {\n    promise: Promise<void>;\n    protected _resolve: () => void;\n    protected _reject: (reason?: any) => void;\n\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n        });\n    }\n\n    resolve() {\n        if (this._resolve) this._resolve();\n        this._resolve = undefined;\n        this._reject = undefined;\n    }\n\n    reject() {\n        if (this._reject) this._reject();\n        this._resolve = undefined;\n        this._reject = undefined;\n    }\n\n    isFinished() {\n        return !this._resolve;\n    }\n}","import React from 'react';\nimport \"../css/SimFrame.css\";\nimport { Simulator } from './simulator';\n\n// https://arcade.makecode.com/beta/--run?fullscreen=1&nofooter=1&id=13415-29846-81435-24572\n\nexport interface SimFrameProps {\n    simulator: Simulator;\n}\n\nconst SimFrame: React.FC<SimFrameProps> = props => {\n    return (\n        <div className=\"game-embed\">\n            <iframe ref={ref => props.simulator.setFrame(ref)} className=\"game-embed-frame\" title=\"MakeCode Arcade Simulator\" allow=\"autoplay\" sandbox=\"allow-same-origin allow-scripts\" />\n        </div>\n    );\n}\n\n\nexport default SimFrame;","import React from 'react';\n\nimport { Simulator, SimulatorButton } from \"./simulator\";\n\nimport '../css/Joystick.css';\n\nexport interface JoystickProps {\n    simulator: Simulator;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst SVG_WIDTH = 40;\nconst HALF_WIDTH = SVG_WIDTH >> 1;\n\nexport class Joystick extends React.Component<JoystickProps, {}> {\n    protected dPadUp: SVGRectElement | undefined;\n    protected dPadDown: SVGRectElement | undefined;\n    protected dPadLeft: SVGRectElement | undefined;\n    protected dPadRight: SVGRectElement | undefined;\n    protected joystickHandle: SVGCircleElement | undefined;\n\n    protected joystickAnimation: number | undefined;\n\n    protected handleX = SVG_WIDTH >> 1;\n    protected handleY = SVG_WIDTH >> 1;\n    protected lastOctet: number | undefined;\n\n    componentDidMount() {\n        this.dPadUp = this.refs[\"dpad-up\"] as SVGRectElement;\n        this.dPadDown = this.refs[\"dpad-down\"] as SVGRectElement;\n        this.dPadLeft = this.refs[\"dpad-left\"] as SVGRectElement;\n        this.dPadRight = this.refs[\"dpad-right\"] as SVGRectElement;\n        this.joystickHandle = this.refs[\"joystick-handle\"] as SVGCircleElement;\n\n        this.bindEvents(this.refs[\"joystick-bounds\"] as HTMLDivElement);\n\n        this.props.simulator.addChangeListener(this.buttonChangeListener);\n    }\n\n    componentWillUnmount() {\n        this.dPadUp = undefined;\n        this.dPadDown = undefined;\n        this.dPadLeft = undefined;\n        this.dPadRight = undefined;\n        this.joystickHandle = undefined;\n\n        this.props.simulator.removeChangeListener(this.buttonChangeListener);\n    }\n\n    render() {\n        const { changeMode } = this.props;\n        return (\n            <div ref=\"joystick-container\" className=\"game-joystick\">\n                <div className=\"spacer\" />\n                <div className=\"action-button\">\n                    <button className=\"share-mod-button\" onClick={() => changeMode(\"mod\")}>Mod</button>\n                </div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" ref=\"joystick-bounds\" className=\"game-joystick-svg\" viewBox=\"1 0 40 40\" width=\"200px\" height=\"200px\">\n                    <circle id=\"joystick-background\" cx=\"20\" cy=\"20\" r=\"16\" fill=\"#397382\" stroke=\"#397382\" strokeWidth=\"2\"/>\n                    <rect ref=\"dpad-up\" x=\"16\" y=\"6\" width=\"8\" height=\"12\" rx=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-down\" x=\"16\" y=\"22\" width=\"8\" height=\"12\" rx=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-right\" x=\"22\" y=\"16\" width=\"12\" height=\"8\" ry=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-left\" x=\"6\" y=\"16\" width=\"12\" height=\"8\" ry=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <circle cx=\"20\" cy=\"20\" r=\"6\" fill=\"#cecece\" />\n                    <circle ref=\"joystick-handle\" cx=\"20\" cy=\"20\" r=\"6\" fill=\"#333\" stroke=\"#999\" strokeWidth=\"2\" />\n                </svg>\n            </div>\n        )\n    }\n\n    protected buttonChangeListener = (button: SimulatorButton, isPressed: boolean) => {\n        switch (button) {\n            case SimulatorButton.Down:\n                this.updateDirection(this.dPadDown, isPressed);\n                break;\n            case SimulatorButton.Up:\n                this.updateDirection(this.dPadUp, isPressed);\n                break;\n            case SimulatorButton.Left:\n                this.updateDirection(this.dPadLeft, isPressed);\n                break;\n            case SimulatorButton.Right:\n                this.updateDirection(this.dPadRight, isPressed);\n                break;\n        }\n    }\n\n    protected updateDirection(button: SVGRectElement | undefined, isPressed: boolean) {\n        if (button) {\n            button.setAttribute(\"fill\", isPressed ? \"#249ca3\" : \"#cecece\");\n        }\n    }\n\n    protected bindEvents(div: HTMLDivElement) {\n        if (!div) return;\n\n        if (hasPointerEvents()) {\n            this.bindPointerEvents(div);\n        }\n        else if (isTouchEnabled()) {\n            this.bindTouchEvents(div);\n        }\n        else {\n            this.bindMouseEvents(div);\n        }\n    }\n\n    protected bindPointerEvents(div: HTMLDivElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"pointerup\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"pointerdown\", ev => {\n            this.updateJoystickDrag(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"pointermove\", ev => {\n            if (inGesture) this.updateJoystickDrag(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"pointerleave\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindMouseEvents(div: HTMLDivElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"mouseup\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"mousedown\", ev => {\n            this.updateJoystickDrag(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"mousemove\", ev => {\n            if (inGesture) this.updateJoystickDrag(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"mouseleave\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindTouchEvents(div: HTMLDivElement) {\n        let touchIdentifier: number | undefined;\n\n        div.addEventListener(\"touchend\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    this.startAnimation();\n                    ev.preventDefault();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n\n        div.addEventListener(\"touchstart\", ev => {\n            touchIdentifier = ev.changedTouches[0].identifier;\n            this.updateJoystickDrag(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);\n        });\n\n        div.addEventListener(\"touchmove\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    ev.preventDefault();\n                }\n            }\n        });\n\n        div.addEventListener(\"touchcancel\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    this.startAnimation();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n    }\n\n    protected updateJoystickDrag(x: number, y: number) {\n        if (this.joystickHandle) {\n            const bounds = (this.refs[\"joystick-bounds\"] as HTMLDivElement).getBoundingClientRect();\n\n            const dx = ((x - bounds.left) * (SVG_WIDTH / bounds.width)) - HALF_WIDTH;\n            const dy = ((y - bounds.top) * (SVG_WIDTH / bounds.height)) - HALF_WIDTH;\n\n            const angle = Math.atan2(dy, dx);\n            const distance = Math.min(Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2)), 10);\n\n            this.setHandlePosition(HALF_WIDTH + distance * Math.cos(angle), HALF_WIDTH + distance * Math.sin(angle));\n        }\n    }\n\n    protected startAnimation() {\n        this.clearButtonPresses();\n        if (this.joystickHandle) {\n            this.stopAnimation();\n\n            const animationFrame = () => {\n                let distance = this.getHandleDistance();\n\n                if (distance < 0.5) {\n                    this.setHandlePosition(HALF_WIDTH, HALF_WIDTH, true);\n                    this.stopAnimation();\n                }\n                else {\n                    const angle = this.getHandleAngle();\n                    distance = Math.max(distance - 1, 0);\n                    this.setHandlePosition(HALF_WIDTH + distance * Math.cos(angle), HALF_WIDTH + distance * Math.sin(angle), true);\n                    this.joystickAnimation = requestAnimationFrame(animationFrame);\n                }\n            }\n\n            this.joystickAnimation = requestAnimationFrame(animationFrame);\n        }\n    }\n\n    protected stopAnimation() {\n        if (this.joystickAnimation) {\n            cancelAnimationFrame(this.joystickAnimation);\n            this.joystickAnimation = undefined;\n        }\n    }\n\n    /**\n     *\n     * @param x The x location in SVG coordinates\n     * @param y The y location in SVG coordinates\n     */\n    protected setHandlePosition(x: number, y: number, animation = false) {\n        if (this.joystickHandle) {\n            this.joystickHandle.setAttribute(\"cx\", \"\" + x)\n            this.joystickHandle.setAttribute(\"cy\", \"\" + y)\n\n            this.handleX = x;\n            this.handleY = y;\n\n            if (!animation) {\n                if (this.getHandleDistance() < 5) {\n                    this.clearButtonPresses();\n                }\n                else {\n                    const { simulator } = this.props;\n                    const angle = this.getHandleAngle();\n                    const octet = (5 + Math.floor((angle / (Math.PI / 4)) - 0.5)) % 8;\n\n                    if (octet === this.lastOctet) return;\n                    this.lastOctet = octet;\n\n                    let left = false;\n                    let right = false;\n                    let up = false;\n                    let down = false;\n\n                    switch (octet) {\n                        case 0:\n                            left = true;\n                            break;\n                        case 1:\n                            left = true;\n                            up = true;\n                            break;\n                        case 2:\n                            up = true;\n                            break;\n                        case 3:\n                            up = true;\n                            right = true;\n                            break;\n                        case 4:\n                            right = true;\n                            break;\n                        case 5:\n                            right = true;\n                            down = true;\n                            break;\n                        case 6:\n                            down = true;\n                            break;\n                        case 7:\n                            left = true;\n                            down = true;\n                            break;\n                    }\n\n                    if (down) simulator.pressButton(SimulatorButton.Down);\n                    else simulator.releaseButton(SimulatorButton.Down);\n\n                    if (up) simulator.pressButton(SimulatorButton.Up);\n                    else simulator.releaseButton(SimulatorButton.Up);\n\n                    if (left) simulator.pressButton(SimulatorButton.Left);\n                    else simulator.releaseButton(SimulatorButton.Left);\n\n                    if (right) simulator.pressButton(SimulatorButton.Right);\n                    else simulator.releaseButton(SimulatorButton.Right);\n                }\n            }\n        }\n    }\n\n    protected getHandleAngle() {\n        return Math.atan2(this.handleY - HALF_WIDTH, this.handleX - HALF_WIDTH);;\n    }\n\n    protected getHandleDistance() {\n        return Math.sqrt(Math.pow(this.handleX - HALF_WIDTH, 2) + Math.pow(this.handleY - HALF_WIDTH, 2));\n    }\n\n    protected clearButtonPresses() {\n        const { simulator } = this.props;\n        simulator.releaseButton(SimulatorButton.Down);\n        simulator.releaseButton(SimulatorButton.Up);\n        simulator.releaseButton(SimulatorButton.Left);\n        simulator.releaseButton(SimulatorButton.Right);\n        this.lastOctet = undefined;\n    }\n}\n\nfunction hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nfunction isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nfunction getTouch(ev: TouchEvent, identifier: number) {\n    for (let i = 0; i < ev.changedTouches.length; i++) {\n        if (ev.changedTouches[i].identifier === identifier) {\n            return ev.changedTouches[i];\n        }\n    }\n\n    return undefined;\n}\n\nexport default Joystick;","import React from 'react';\n\nimport '../css/GameButtons.css';\nimport { Simulator, SimulatorButton } from './simulator';\n\nexport interface GameButtonsProps {\n    simulator: Simulator;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst SVG_WIDTH = 40;\n\nclass GameButtons extends React.Component<GameButtonsProps, {}>  {\n    protected aButton: SVGCircleElement | undefined;\n    protected aLabel: SVGTextElement | undefined;\n    protected bButton: SVGCircleElement | undefined;\n    protected bLabel: SVGTextElement | undefined;\n\n    componentDidMount() {\n        this.aButton = this.refs[\"button-a\"] as SVGCircleElement;\n        this.aLabel = this.refs[\"label-a\"] as SVGTextElement;\n        this.bButton = this.refs[\"button-b\"] as SVGCircleElement;;\n        this.bLabel = this.refs[\"label-b\"] as SVGTextElement;\n\n        this.bindEvents(this.refs[\"button-bounds\"] as HTMLElement)\n    }\n\n    componentWillUnmount() {\n        this.aButton = undefined;\n        this.aLabel = undefined;\n        this.bButton = undefined;\n        this.bLabel = undefined;\n    }\n\n    render() {\n        const { changeMode } = this.props;\n        return (\n            <div className=\"game-buttons\">\n                <div className=\"spacer\" />\n                <div className=\"action-button\">\n                    <button className=\"share-mod-button\" onClick={() => changeMode(\"share\")}>Share</button>\n                </div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" ref=\"button-bounds\" className=\"game-button-svg\" viewBox=\"0 0 40 40\" width=\"200px\" height=\"200px\">\n                    <circle ref=\"button-b\" cx=\"13\" cy=\"28\" r=\"9\" fill=\"#333\" stroke=\"#397382\" strokeWidth=\"2.5\" />\n                    <text ref=\"label-b\" x=\"13\" y=\"28\" textAnchor=\"middle\" dy=\"2.5\" fontSize=\"8\">B</text>\n                    <circle ref=\"button-a\" cx=\"28\" cy=\"11\" r=\"9\" fill=\"#333\" stroke=\"#397382\" strokeWidth=\"2.5\" />\n                    <text ref=\"label-a\" x=\"28\" y=\"11\" textAnchor=\"middle\" dy=\"2.5\" fontSize=\"8\">A</text>\n                </svg>\n            </div>\n        )\n    }\n\n    protected updateButtonGesture(x: number, y: number) {\n        const bounds = (this.refs[\"button-bounds\"] as HTMLDivElement).getBoundingClientRect();\n\n        const dx = ((x - bounds.left) * (SVG_WIDTH / bounds.width));\n        const dy = ((y - bounds.top) * (SVG_WIDTH / bounds.height));\n\n        const aDistance = Math.sqrt(Math.pow(dx - 30, 2) + Math.pow(dy - 13, 2));\n        const bDistance = Math.sqrt(Math.pow(dx - 15, 2) + Math.pow(dy - 28, 2));\n\n        this.setButtonState(SimulatorButton.A, aDistance < 8)\n        this.setButtonState(SimulatorButton.B, bDistance < 8)\n    }\n\n    protected clearButtonPresses() {\n        this.setButtonState(SimulatorButton.A, false);\n        this.setButtonState(SimulatorButton.B, false);\n    }\n\n    protected setButtonState(button: SimulatorButton, pressed: boolean) {\n        const isAButton = button === SimulatorButton.A;\n        const circle = isAButton ? this.aButton : this.bButton;\n        const label = isAButton ? this.aLabel : this.bLabel;\n\n        if (circle && label) {\n            const pressedColor = \"#249ca3\";\n            circle.setAttribute(\"fill\", pressed ? pressedColor : \"#333\")\n            label.setAttribute(\"fill\", pressed ? \"#333\" : \"\")\n        }\n\n        const { simulator } = this.props;\n        if (pressed) simulator.pressButton(button);\n        else simulator.releaseButton(button);\n    }\n\n    protected bindEvents(div: HTMLElement) {\n        if (!div) return;\n\n        if (hasPointerEvents()) {\n            this.bindPointerEvents(div);\n        }\n        else if (isTouchEnabled()) {\n            this.bindTouchEvents(div);\n        }\n        else {\n            this.bindMouseEvents(div);\n        }\n    }\n\n    protected bindPointerEvents(div: HTMLElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"pointerup\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"pointerdown\", ev => {\n            this.updateButtonGesture(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"pointermove\", ev => {\n            if (inGesture) this.updateButtonGesture(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"pointerleave\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindMouseEvents(div: HTMLElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"mouseup\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"mousedown\", ev => {\n            this.updateButtonGesture(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"mousemove\", ev => {\n            if (inGesture) this.updateButtonGesture(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"mouseleave\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindTouchEvents(div: HTMLElement) {\n        let touchIdentifier: number | undefined;\n\n        div.addEventListener(\"touchend\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.clearButtonPresses()\n                    ev.preventDefault();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n\n        div.addEventListener(\"touchstart\", ev => {\n            touchIdentifier = ev.changedTouches[0].identifier;\n            this.updateButtonGesture(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);\n        });\n\n        div.addEventListener(\"touchmove\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateButtonGesture(touch.clientX, touch.clientY);\n                    ev.preventDefault();\n                }\n            }\n        });\n\n        div.addEventListener(\"touchcancel\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.clearButtonPresses();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n    }\n}\n\nfunction hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nfunction isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nfunction getTouch(ev: TouchEvent, identifier: number) {\n    for (let i = 0; i < ev.changedTouches.length; i++) {\n        if (ev.changedTouches[i].identifier === identifier) {\n            return ev.changedTouches[i];\n        }\n    }\n\n    return undefined;\n}\n\nexport default GameButtons;","import React from 'react';\n\nimport SimFrame from './SimFrame';\nimport Joystick from './Joystick';\nimport GameButtons from './GameButtons';\n\nimport '../css/GamePlayer.css';\nimport { Simulator } from './simulator';\n\n\nlet sim: Simulator;\n\nexport interface GamePlayerProps {\n    binJs: string;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst GamePlayer: React.FC<GamePlayerProps> = props => {\n    if (!sim) sim = new Simulator();\n\n    sim.runCode(props.binJs);\n\n    return (\n        <div className=\"game-player\">\n            <Joystick simulator={sim} changeMode={props.changeMode} />\n            <SimFrame simulator={sim} />\n            <GameButtons simulator={sim} changeMode={props.changeMode} />\n            <div className=\"game-player-background\"></div>\n            <div className=\"game-player-logo\">MAKECODE</div>\n            <div className=\"game-player-msft\"></div>\n            <div className=\"game-player-vent\"></div>\n        </div>\n    );\n}\n\nexport default GamePlayer;\n","// These are the characters used to output literals (but we support aliases for some of these)\nconst hexChars = [\".\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\nexport interface Coord {\n    x: number,\n    y: number\n}\n\n/**\n * 16-color sprite\n */\nexport class Bitmap {\n    public buf: Uint8Array;\n\n    constructor(public width: number, public height: number, public x0 = 0, public y0 = 0) {\n        this.buf = new Uint8Array(Math.ceil(width * height / 2));\n    }\n\n    set(col: number, row: number, value: number) {\n        if (col < this.width && row < this.height && col >= 0 && row >= 0) {\n            const index = this.coordToIndex(col, row);\n            this.setCore(index, value);\n        }\n    }\n\n    get(col: number, row: number) {\n        if (col < this.width && row < this.height && col >= 0 && row >= 0) {\n            const index = this.coordToIndex(col, row);\n            return this.getCore(index);\n        }\n        return 0;\n    }\n\n    copy(col = 0, row = 0, width = this.width, height = this.height): Bitmap {\n        const sub = new Bitmap(width, height);\n        sub.x0 = col;\n        sub.y0 = row;\n        for (let c = 0; c < width; c++) {\n            for (let r = 0; r < height; r++) {\n                sub.set(c, r, this.get(col + c, row + r));\n            }\n        }\n        return sub;\n    }\n\n    apply(change: Bitmap, transparent = false) {\n        let current: number;\n        for (let c = 0; c < change.width; c++) {\n            for (let r = 0; r < change.height; r++) {\n                current = change.get(c, r);\n\n                if (!current && transparent) continue;\n                this.set(change.x0 + c, change.y0 + r, current);\n            }\n        }\n    }\n\n    equals(other: Bitmap) {\n        if (this.width === other.width && this.height === other.height && this.x0 === other.x0 && this.y0 === other.y0 && this.buf.length === other.buf.length) {\n            for (let i = 0; i < this.buf.length; i++) {\n                if (this.buf[i] !== other.buf[i]) return false;\n            }\n            return true;\n        }\n\n        return false;\n    }\n\n    protected coordToIndex(col: number, row: number) {\n        return col + row * this.width;\n    }\n\n    protected getCore(index: number) {\n        const cell = Math.floor(index / 2);\n        if (index % 2 === 0) {\n            return this.buf[cell] & 0xf;\n        }\n        else {\n            return (this.buf[cell] & 0xf0) >> 4;\n        }\n    }\n\n    protected setCore(index: number, value: number) {\n        const cell = Math.floor(index / 2);\n        if (index % 2 === 0) {\n            this.buf[cell] = (this.buf[cell] & 0xf0) | (value & 0xf);\n        }\n        else {\n            this.buf[cell] = (this.buf[cell] & 0x0f) | ((value & 0xf) << 4);\n        }\n    }\n}\n\nexport class Bitmask {\n    protected mask: Uint8Array;\n\n    constructor(public width: number, public height: number) {\n        this.mask = new Uint8Array(Math.ceil(width * height / 8));\n    }\n\n    set(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        this.mask[index] |= (1 << offset);\n    }\n\n    get(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        return (this.mask[index] >> offset) & 1;\n    }\n}\n\nexport function resizeBitmap(img: Bitmap, width: number, height: number) {\n    const result = new Bitmap(width, height);\n    result.apply(img);\n    return result;\n}\n\nexport function imageLiteralToBitmap(text: string, defaultPattern?: string): Bitmap {\n    // Strip the tagged template string business and the whitespace. We don't have to exhaustively\n    // replace encoded characters because the compiler will catch any disallowed characters and throw\n    // an error before the decompilation happens. 96 is backtick and 9 is tab\n    text = text.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g, \"\").trim();\n    text = text.replace(/^[\"`\\(\\)]*/, '').replace(/[\"`\\(\\)]*$/, '');\n    text = text.replace(/&#10;/g, \"\\n\");\n\n    if (!text && defaultPattern)\n        text = defaultPattern;\n\n    const rows = text.split(\"\\n\");\n\n    // We support \"ragged\" sprites so not all rows will be the same length\n    const sprite: number[][] = [];\n    let spriteWidth = 0;\n\n    for (let r = 0; r < rows.length; r++) {\n        const row = rows[r];\n        const rowValues: number[] = [];\n        for (let c = 0; c < row.length; c++) {\n            // This list comes from libs/screen/targetOverrides.ts in pxt-arcade\n            // Technically, this could change per target.\n            switch (row[c]) {\n                case \"0\": case \".\": rowValues.push(0); break;\n                case \"1\": case \"#\": rowValues.push(1); break;\n                case \"2\": case \"T\": rowValues.push(2); break;\n                case \"3\": case \"t\": rowValues.push(3); break;\n                case \"4\": case \"N\": rowValues.push(4); break;\n                case \"5\": case \"n\": rowValues.push(5); break;\n                case \"6\": case \"G\": rowValues.push(6); break;\n                case \"7\": case \"g\": rowValues.push(7); break;\n                case \"8\": rowValues.push(8); break;\n                case \"9\": rowValues.push(9); break;\n                case \"a\": case \"A\": case \"R\": rowValues.push(10); break;\n                case \"b\": case \"B\": case \"P\": rowValues.push(11); break;\n                case \"c\": case \"C\": case \"p\": rowValues.push(12); break;\n                case \"d\": case \"D\": case \"O\": rowValues.push(13); break;\n                case \"e\": case \"E\": case \"Y\": rowValues.push(14); break;\n                case \"f\": case \"F\": case \"W\": rowValues.push(15); break;\n            }\n        }\n\n        if (rowValues.length) {\n            sprite.push(rowValues);\n            spriteWidth = Math.max(spriteWidth, rowValues.length);\n        }\n    }\n\n    const spriteHeight = sprite.length;\n\n    const result = new Bitmap(spriteWidth, spriteHeight)\n\n    for (let r = 0; r < spriteHeight; r++) {\n        const row = sprite[r];\n        for (let c = 0; c < spriteWidth; c++) {\n            if (c < row.length) {\n                result.set(c, r, row[c]);\n            }\n            else {\n                result.set(c, r, 0);\n            }\n        }\n    }\n\n    return result;\n}\n\nexport function bitmapToImageLiteral(bitmap: Bitmap): string {\n    let res = \"img`\";\n\n\n    if (bitmap) {\n        for (let r = 0; r < bitmap.height; r++) {\n            res += \"\\n\"\n            for (let c = 0; c < bitmap.width; c++) {\n                res += hexChars[bitmap.get(c, r)] + \" \";\n            }\n        }\n    }\n\n    res += \"\\n\";\n    res += \"`\";\n    return res;\n}","import { Bitmap, bitmapToImageLiteral, imageLiteralToBitmap } from \"./sprite-editor/bitmap\";\n\nexport function f4EncodeImg(w: number, h: number, bpp: number, getPix: (x: number, y: number) => number) {\n    let r = hex2(0xe0 | bpp) + hex2(w) + hex2(h) + \"00\"\n    let ptr = 4\n    let curr = 0\n    let shift = 0\n\n    let pushBits = (n: number) => {\n        curr |= n << shift\n        if (shift == 8 - bpp) {\n            r += hex2(curr)\n            ptr++\n            curr = 0\n            shift = 0\n        } else {\n            shift += bpp\n        }\n    }\n\n    for (let i = 0; i < w; ++i) {\n        for (let j = 0; j < h; ++j)\n            pushBits(getPix(i, j))\n        while (shift != 0)\n            pushBits(0)\n        if (bpp > 1) {\n            while (ptr & 3)\n                pushBits(0)\n        }\n    }\n\n    return r\n\n    function hex2(n: number) {\n        return (\"0\" + n.toString(16)).slice(-2)\n    }\n}\n\nexport function f4PreProcess(s: string) {\n    let matrix: number[][] = []\n    let line: number[] = []\n    let tbl: { [k: string]: number } = {}\n    let maxLen = 0\n    // attrs.groups.forEach((str, n) => {\n    //     for (let c of str) tbl[c] = n\n    // })\n    s += \"\\n\"\n    for (let i = 0; i < s.length; ++i) {\n        let c = s[i]\n        switch (c) {\n            case ' ':\n            case '\\t':\n                break\n            case '\\n':\n                if (line.length > 0) {\n                    matrix.push(line)\n                    maxLen = Math.max(line.length, maxLen)\n                    line = []\n                }\n                break\n            default:\n                let v = tbl[c] // U.lookup(tbl, c) //TODO(dz):\n                if (v == null) {\n                    //     if (attrs.groups.length == 2)\n                    // v = 1 // default anything non-zero to one\n                    //     else\n                    //         throw unhandled(node, lf(\"invalid character in image literal: '{0}'\", v), 9273)\n                }\n                line.push(v)\n                break\n        }\n    }\n\n    let bpp = 8\n    // if (attrs.groups.length <= 2) {\n    //     bpp = 1\n    // } else if (attrs.groups.length <= 16) {\n    bpp = 4 // TODO:\n    // }\n    return f4EncodeImg(maxLen, matrix.length, bpp, (x, y) => matrix[y][x] || 0)\n}\n\nexport function toNumbers(colors: string[]): number[][] {\n    const res: number[][] = [];\n    for (let i = 0; i < colors.length; i++) {\n        const color = parseColorString(colors[i]);\n        res.push([_r(color), _g(color), _b(color)]);\n    }\n    return res;\n}\n\nfunction parseColorString(color: string) {\n    if (color) {\n        if (color.length === 6) {\n            return parseInt(\"0x\" + color);\n        }\n        else if (color.length === 7) {\n            return parseInt(\"0x\" + color.substr(1));\n        }\n    }\n    return 0;\n}\n\nfunction _r(color: number) { return (color >> 16) & 0xff }\nfunction _g(color: number) { return (color >> 8) & 0xff }\nfunction _b(color: number) { return color & 0xff }\n\nconst defaultPalletColors = [\n    \"#000000\",\n    \"#ffffff\",\n    \"#ff2121\",\n    \"#ff93c4\",\n    \"#ff8135\",\n    \"#fff609\",\n    \"#249ca3\",\n    \"#78dc52\",\n    \"#003fad\",\n    \"#87f2ff\",\n    \"#8e2ec4\",\n    \"#a4839f\",\n    \"#5c406c\",\n    \"#e5cdc4\",\n    \"#91463d\",\n    \"#000000\"\n]\nexport const defaultColorArray = toNumbers(defaultPalletColors);\n\nfunction scale_color(v: number) {\n    return v * v\n}\nexport function textToBinHex(text: string): string {\n    // TODO(dz): does this behave different than a roundtrip through Bitmap?\n    return f4PreProcess(text)\n}\nexport function bitmapToBinHex(bitmap: Bitmap): string {\n    // return f4PreProcess(\n    return f4EncodeImg(bitmap.width, bitmap.height, 4, bitmap.get.bind(bitmap))\n}\nexport function bitmapToText(bmp: Bitmap): string {\n    return bitmapToImageLiteral(bmp);\n}\nexport function textToBitmap(text: string): Bitmap {\n    const bmp = imageLiteralToBitmap(text);\n\n    // Ignore invalid bitmaps\n    if (bmp && bmp.width && bmp.height) {\n        return bmp\n    } else {\n        return null;\n    }\n}\n\nexport function bitmapToCanvas(bmp: Bitmap, scale: number = 4) {\n    const colors = defaultPalletColors.slice(1)\n    // const canvas = document.createElementNS(\"http://www.w3.org/2000/svg\", \"canvas\");\n    const canvas = document.createElement(\"canvas\");\n    let width = canvas.width = bmp.width * scale;\n    let height = canvas.height = bmp.height * scale;\n\n    let cellSize = scale\n\n    // TODO: Center the image if it isn't square\n    const xOffset = 0\n    const yOffset = 0\n\n    let context: CanvasRenderingContext2D;\n    context = canvas.getContext(\"2d\");\n\n    for (let c = 0; c < bmp.width; c++) {\n        for (let r = 0; r < bmp.height; r++) {\n            const color = bmp.get(c, r);\n\n            if (color) {\n                context.fillStyle = colors[color - 1];\n                context.fillRect(xOffset + c * cellSize, yOffset + r * cellSize, cellSize, cellSize);\n            }\n        }\n    }\n\n    return canvas;\n}\nexport function bitmapToUrl(bmp: Bitmap): string {\n    return bitmapToCanvas(bmp).toDataURL();\n}\n\nexport function createPngImg(x: number, y: number, w: number, h: number, bmp?: Bitmap): SVGImageElement {\n    let img = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\")\n    img.setAttribute(\"x\", `${x}`)\n    img.setAttribute(\"y\", `${y}`)\n    img.setAttribute(\"width\", `${w}px`)\n    img.setAttribute(\"height\", `${h}px`)\n    if (bmp) {\n        updatePngImg(img, bmp)\n    }\n    return img\n}\n\nexport function updatePngImg(img: SVGImageElement, bmp: Bitmap) {\n    let imgData = bitmapToUrl(bmp)\n    img.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", `${imgData}`)\n}","import React from 'react';\n\nimport { Bitmap } from '../sprite-editor/bitmap';\n\nimport '../css/TabBar.css';\nimport { bitmapToUrl } from '../bitmap_helpers';\n\ninterface TabBarProps {\n    tabImages: Bitmap[],\n    tabChange: (idx: number) => void,\n    startTab: number\n}\ninterface TabBarState {\n    currentTab: number\n}\n\nconst R = 10\nconst ICON_H = 64\nconst ICON_W = 64\nconst TAB_MARGIN_T = 10\nconst TAB_MARGIN_B = 20\nconst SVG_W = 541\nconst TAB_SVG_H = R * 2 + ICON_H + TAB_MARGIN_T + TAB_MARGIN_B\nconst IMG_SPACE = R * 2 + ICON_W\nconst OUT = TAB_MARGIN_T + TAB_MARGIN_B + 5\nconst TOTAL_TAB_W = R * 4 + ICON_W\n\nexport class TabBar extends React.Component<TabBarProps, TabBarState>\n{\n    public TabBarSvg: SVGSVGElement | undefined;\n\n    private TOTAL_IMG_SPACE: number;\n    private LEFT_SPACE: number;\n    private TABS_START: number;\n\n    constructor(props: TabBarProps) {\n        super(props);\n\n        this.state = {\n            currentTab: props.startTab\n        }\n\n        this.TOTAL_IMG_SPACE = IMG_SPACE * this.props.tabImages.length\n        this.LEFT_SPACE = (SVG_W - this.TOTAL_IMG_SPACE) / 2\n        this.TABS_START = this.LEFT_SPACE - R\n    }\n\n    componentDidMount() {\n        this.TabBarSvg = this.refs[\"tab-bar-svg\"] as SVGSVGElement\n    }\n    componentWillUnmount() {\n        this.TabBarSvg = undefined\n    }\n\n    getTabPath(idx: number): string {\n        let tabW = ICON_W + R * 2\n        let tabStart = this.TABS_START + tabW * idx\n        let tabFinish = SVG_W - (tabStart + tabW)\n        let tabPath = `M -${OUT},${(TAB_SVG_H - TAB_MARGIN_B) + OUT} l 0,-${OUT} l ${OUT},0 h ${tabStart} q ${R},0 ${R},-${R} v -${ICON_H} q 0,-${R} ${R},-${R} h ${ICON_W} q ${R},0 ${R},${R} v ${ICON_H} q 0,${R} ${R},${R} h ${tabFinish} l ${OUT},0 l 0,${OUT} z`\n        return tabPath\n    }\n\n    render() {\n        const viewBox = `0 0 ${SVG_W} ${TAB_SVG_H}`\n        const tabPath = this.getTabPath(this.state.currentTab)\n        const tabImgs = this.props.tabImages\n            .map((img, i) => {\n                return {\n                    x: this.TABS_START + R + R + i * IMG_SPACE,\n                    y: TAB_MARGIN_T + R,\n                    w: ICON_W,\n                    h: ICON_H,\n                    idx: i,\n                    data: bitmapToUrl(img)\n                }\n            })\n        function clickHandler(this: TabBar, idx: number) {\n            this.setState({ currentTab: idx })\n            this.props.tabChange(idx)\n        }\n        return (\n            <div ref=\"tab-bar\" className=\"tab-bar\">\n                <svg ref=\"tab-bar-svg\" viewBox={viewBox}>\n                    <path ref=\"tab-path\" d={tabPath}>\n                    </path>\n                    {tabImgs.map(i =>\n                        <image key={i.idx} x={i.x} y={i.y}\n                            width={i.w} height={i.h}\n                            href={i.data}\n                            onClick={clickHandler.bind(this, i.idx)}></image>)}\n                </svg>\n            </div>\n        );\n    }\n}\n\nexport default TabBar;\n","import React, { CSSProperties } from 'react';\n\nimport '../css/ColorPicker.css';\nimport { textToBitmap, bitmapToUrl } from '../bitmap_helpers';\n\ninterface ColorPickerProps {\n    height: number,\n    colors: string[],\n    selected: number,\n    selectionChanged: (idx: number) => void,\n}\ninterface ColorPickerState {\n    selection: number\n}\n\ninterface SwatchProps {\n    color: string,\n    selected: boolean,\n    onClick: () => void\n}\nconst Swatch: React.FC<SwatchProps> = (props: SwatchProps) => {\n    let style: CSSProperties = {\n        backgroundColor: props.color\n    }\n    let classes = `swatch ${props.selected ? \"selected\" : \"\"}`\n    let backgroundImg = bitmapToUrl(SAMPLE_TREE)\n    return (\n        <div className={classes} style={style} onClick={props.onClick}>\n            <img src={backgroundImg}>\n            </img>\n        </div>\n    );\n}\nexport class ColorPicker extends React.Component<ColorPickerProps, ColorPickerState>\n{\n    private colorPicker: HTMLDivElement | undefined;\n\n    constructor(props: ColorPickerProps) {\n        super(props);\n\n        this.state = {\n            selection: this.props.selected\n        }\n\n    }\n\n    componentDidMount() {\n        this.colorPicker = this.refs[\"color-picker\"] as HTMLDivElement\n\n        this.colorPicker.setAttribute(\"style\", `height:${this.props.height}px`)\n    }\n    componentWillUnmount() {\n        this.colorPicker = undefined\n    }\n\n    clickHandler(idx: number) {\n        this.props.selectionChanged(idx)\n        this.setState({ selection: idx })\n    }\n\n    render() {\n        let swatchs = this.props.colors\n            .map((c, i) =>\n                <Swatch key={`swatch-${i}`} color={c} selected={i == this.state.selection}\n                    onClick={this.clickHandler.bind(this, i)}></Swatch>\n            )\n\n        return (\n            <div ref=\"color-picker\"\n                className=\"color-picker\">\n                {swatchs}\n            </div>\n        );\n    }\n}\n\nexport default ColorPicker;\n\nconst TREES = [`\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b . . b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b b . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . b b b . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . b b b . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . b b . . . . b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . b b b b b b b b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . b b b b b b b b . . . b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   `, `\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b . . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b b . b . . . . . . . . . .\n        . . . . . . . . . . . . b . . . b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b . . b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b b b b b b b b b . . b b b b . . . . . . .\n        . . . . . . . . b b . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b . b . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b . b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . . b b b b b . . . . . . . .\n        . . . . . . . . b b . b . . . . b b b b b . . . . . b b b . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   `, `\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . . b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . b . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b b . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . b b b b b . . . b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n    `]\nconst CLOUDS = [\n]\nconst SAMPLE_TREE = textToBitmap(TREES[0])","export function loadAppInsights(includeCookie: any) {\n    var appInsights = (window as any).appInsights || function(config: any) {\n        // @ts-ignore\n        function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o=\"script\",s=\"AuthenticatedUserContext\",h=\"start\",c=\"stop\",l=\"Track\",a=l+\"Event\",v=l+\"Page\",y=u.createElement(o),r,f;y.src=config.url||\"https://az416426.vo.msecnd.net/scripts/a/ai.0.js\";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version=\"1.0\",r=[\"Event\",\"Exception\",\"Metric\",\"PageView\",\"Trace\",\"Dependency\"];r.length;)i(\"track\"+r.pop());return i(\"set\"+s),i(\"clear\"+s),i(h+a),i(c+a),i(h+v),i(c+v),i(\"flush\"),config.disableExceptionTracking||(r=\"onerror\",i(\"_\"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t[\"_\"+r](config,i,u,e,o),s}),t\n    }({\n        instrumentationKey:\"9801ed01-c40f-46ec-aa40-2a1742a9e71c\",\n        disableAjaxTracking: true,\n        overridePageViewDuration: false,\n        disableExceptionTracking: true,\n        isCookieUseDisabled: !includeCookie,\n        isStorageUseDisabled: !includeCookie,\n        url: \"https://pxt.azureedge.net/blob/dd22520c096be24e7432f5b46e8aad59711f31f0/ai.0.js\" // Hardcode docs CDN url for experiment\n    });\n    (window as any).appInsights = appInsights;\n    \n    if (!isLocalHost()) {\n        appInsights.queue.push(function () {\n            appInsights.context.addTelemetryInitializer(function (envelope: any) {\n                var telemetryItem = envelope.data.baseData;\n                telemetryItem.properties = telemetryItem.properties || {};\n                telemetryItem.properties[\"target\"] = \"arcade\";\n                telemetryItem.properties[\"cookie\"] = includeCookie;\n            });\n        });\n        appInsights.trackPageView(null, scrubUrl(window.location.toString()), {urlReferrer: scrubUrl(document.referrer.toString())});\n    }\n\n    // Scrub the key (if any) from the URL.\n    function scrubUrl(url: any) {\n        var scriptIdRegex = /(?:\\d{5}-\\d{5}-\\d{5}-\\d{5})|(?:_[0-9a-zA-Z]{12})/g;\n        return url.replace(scriptIdRegex, \"xxxxx-xxxxx-xxxxx-xxxxx\");\n    }\n}\n\nexport function tickEvent(id: string, data?: any, measures?: any) {\n    // Don't log events for localhost\n    if (!isLocalHost()) (window as any).appInsights.trackEvent(id, data, measures);\n}\n\nfunction isLocalHost(): boolean {\n    try {\n        return typeof window !== \"undefined\"\n            && /^http:\\/\\/(localhost|127\\.0\\.0\\.1):\\d+\\//.test(window.location.href)\n            && !/nolocalhost=1/.test(window.location.href);\n    } catch (e) { return false; }\n}","export const bunny_hop_bin_js: string = `\n(function(ectx){\"use strict\";const runtime=ectx.runtime;const oops=ectx.oops;const doNothing=ectx.doNothing;const pxsim=ectx.pxsim;const globals=ectx.globals;const maybeYield=ectx.maybeYield;const setupDebugger=ectx.setupDebugger;const isBreakFrame=ectx.isBreakFrame;const breakpoint=ectx.breakpoint;const trace=ectx.trace;const checkStack=ectx.checkStack;const leave=ectx.leave;const checkResumeConsumed=ectx.checkResumeConsumed;const setupResume=ectx.setupResume;const setupLambda=ectx.setupLambda;const checkSubtype=ectx.checkSubtype;const failedCast=ectx.failedCast;const buildResume=ectx.buildResume;const mkVTable=ectx.mkVTable;const __this=runtime;const pxtrt=pxsim.pxtrt;let yieldSteps=1;ectx.setupYield(function(){yieldSteps=100});pxsim.setTitle(\"Untitled\");pxsim.setConfigData({37:160,38:120},{DISPLAY_WIDTH:37,DISPLAY_HEIGHT:38});pxtrt.mapKeyNames=[\"\",\"__draw\",\"__drawCore\",\"__preUpdate\",\"__update\",\"__visible\",\"_action\",\"_ax\",\"_ay\",\"_buttonId\",\"_connected\",\"_controlledSprites\",\"_data\",\"_destroyCore\",\"_dt\",\"_factory\",\"_hitbox\",\"_id\",\"_image\",\"_kind\",\"_kindsOverlappedWith\",\"_lastX\",\"_lastY\",\"_layer\",\"_layers\",\"_map\",\"_millis\",\"_obstacles\",\"_overlappers\",\"_owner\",\"_player\",\"_pressed\",\"_pressedElasped\",\"_prune\",\"_repeatCount\",\"_sprites\",\"_text\",\"_tileSets\",\"_update\",\"_vx\",\"_vy\",\"_x\",\"_y\",\"_z\",\"action\",\"activeCard\",\"add\",\"addShape\",\"addSprite\",\"alignX\",\"alignY\",\"allSprites\",\"anchor\",\"animations\",\"apply\",\"applyTo\",\"areaHeight\",\"areaWidth\",\"ax\",\"ay\",\"background\",\"basicCard\",\"bg\",\"bgColor\",\"border\",\"borderColor\",\"bottom\",\"buckets\",\"button\",\"buttons\",\"cachedImage\",\"cachedRender\",\"cachedVx\",\"cachedVy\",\"camera\",\"card\",\"cardSpacing\",\"cardWidth\",\"cardsPerRow\",\"cardsTop\",\"cellHeight\",\"cellWidth\",\"change\",\"changeScoreBy\",\"charHeight\",\"charWidth\",\"clear\",\"clearInterior\",\"clearObstacles\",\"collisionHandlers\",\"color\",\"columnCount\",\"columns\",\"connected\",\"constrain\",\"contains\",\"controlledSprites\",\"countdownEndHandler\",\"countdownExpired\",\"createMovingSprite\",\"createParticle\",\"createdHandlers\",\"cursor\",\"cursorCount\",\"cursorOn\",\"cursorRowHeight\",\"data\",\"defaultLifespan\",\"defaultRate\",\"deltaTime\",\"deltaTimeMillis\",\"destroy\",\"destroyHandler\",\"destroyedHandlers\",\"displayCursor\",\"dispose\",\"distance\",\"down\",\"draw\",\"drawBorder\",\"drawCursorRow\",\"drawLives\",\"drawOffsetX\",\"drawOffsetY\",\"drawPartial\",\"drawParticle\",\"drawPlayer\",\"drawScore\",\"drawText\",\"drawTextCore\",\"dx\",\"dy\",\"effect\",\"enabled\",\"endScreenEffect\",\"eventContext\",\"fastRandom\",\"fc\",\"flags\",\"followingSprites\",\"font\",\"fontColor\",\"frame\",\"frameCallbacks\",\"frameInterval\",\"frameWorker\",\"frames\",\"framesInSample\",\"galois\",\"gameEnd\",\"gameForeverHandlers\",\"generateTile\",\"generator\",\"getObstacle\",\"getState\",\"getText\",\"handler\",\"handlers\",\"hasBackgroundImage\",\"hasLife\",\"hasScore\",\"head\",\"headerFont\",\"headerText\",\"heartImage\",\"height\",\"highScore\",\"icon\",\"iconImage\",\"id\",\"idleCallbacks\",\"image\",\"img\",\"infoFont\",\"infoTop\",\"init\",\"innerLeft\",\"innerTop\",\"insertAABB\",\"insertAtKey\",\"isNewHighScore\",\"isObstacle\",\"isOob\",\"isOutOfScreen\",\"isOutsideMap\",\"isPressed\",\"key\",\"kind\",\"lastFrame\",\"lastNode\",\"layer\",\"left\",\"length\",\"lfsr\",\"life\",\"lifeZeroHandler\",\"lifespan\",\"lock\",\"loop\",\"map\",\"maxLifespan\",\"maxNegativeVelocity\",\"maxSingleStep\",\"maxVelocity\",\"melody\",\"mergeAtKey\",\"millis\",\"minAngle\",\"minLifespan\",\"minSingleStep\",\"move\",\"moveSprite\",\"multiplier\",\"multiplierImage\",\"neighbors\",\"next\",\"nodeInterval\",\"nodes\",\"obstacle\",\"offsetX\",\"offsetY\",\"onEvent\",\"onPlayFinished\",\"onUpdate\",\"options\",\"order\",\"originalImage\",\"otherKind\",\"overlapHandlers\",\"overlapMap\",\"overlaps\",\"overlapsWith\",\"ox\",\"oy\",\"pFlags\",\"padding\",\"parent\",\"particleSources\",\"path\",\"period\",\"physicsEngine\",\"pickRandom\",\"play\",\"playCore\",\"playerIndex\",\"playerStates\",\"position\",\"preferredDelay\",\"prevTimeMillis\",\"priority\",\"raiseButtonDown\",\"raiseButtonRepeat\",\"raiseButtonUp\",\"raiseLifeZero\",\"randomRange\",\"register\",\"registerFrameCallbacks\",\"registerFrameHandler\",\"registerHandler\",\"registerMelody\",\"registerObstacle\",\"remove\",\"removeSprite\",\"renderCore\",\"repeatDelay\",\"repeatInterval\",\"repeatX\",\"repeatY\",\"resizeBuckets\",\"right\",\"rowCount\",\"rows\",\"run\",\"runCallbacks\",\"sayBubbleSprite\",\"scale\",\"scene\",\"sceneDefaultRate\",\"score\",\"scrollOffset\",\"scrollRow\",\"scrollTarget\",\"seed\",\"selectedCard\",\"selection\",\"setAcceleration\",\"setAnchor\",\"setDirection\",\"setFactory\",\"setFlag\",\"setImage\",\"setKind\",\"setOffset\",\"setPosition\",\"setPressed\",\"setRate\",\"setScore\",\"setSelection\",\"setSpeed\",\"setStart\",\"setState\",\"setTheme\",\"setVelocity\",\"shakeAmplitude\",\"shakeDuration\",\"shakeStartTime\",\"shouldBeVisible\",\"show\",\"showLife\",\"showPlayer\",\"showScore\",\"source\",\"sourceFactory\",\"sources\",\"speed\",\"spread\",\"sprite\",\"spriteCollisions\",\"spriteNextId\",\"sprites\",\"spritesByKind\",\"src\",\"start\",\"startScreenEffect\",\"startedAt\",\"state\",\"stop\",\"textAreaHeight\",\"textAreaWidth\",\"textColor\",\"theme\",\"tileIndex\",\"tileMap\",\"tilemapCollisions\",\"timeInSample\",\"timer\",\"times\",\"toString\",\"top\",\"unit\",\"unregister\",\"unregisterMelody\",\"up\",\"update\",\"updateCard\",\"updateParticle\",\"updateSay\",\"updateScrollTarget\",\"value\",\"visibilityFlag\",\"visilibity\",\"vx\",\"vy\",\"width\",\"win\",\"x\",\"xOffset\",\"xRange\",\"xStep\",\"y\",\"yOffset\",\"yRange\",\"yStep\",\"z\"];__this.setupPerfCounters([]);const pxsim_Array__getAt=pxsim.Array_.getAt;const pxsim_Array__length=pxsim.Array_.length;const pxsim_Array__mk=pxsim.Array_.mk;const pxsim_Array__push=pxsim.Array_.push;const pxsim_Boolean__bang=pxsim.Boolean_.bang;const pxsim_String__concat=pxsim.String_.concat;const pxsim_String__stringConv=pxsim.String_.stringConv;const pxsim_numops_toBool=pxsim.numops.toBool;const pxsim_numops_toBoolDecr=pxsim.numops.toBoolDecr;const pxsim_pxtcore_mkAction=pxsim.pxtcore.mkAction;const pxsim_pxtcore_mkClassInstance=pxsim.pxtcore.mkClassInstance;const pxsim_pxtrt_ldlocRef=pxsim.pxtrt.ldlocRef;const pxsim_pxtrt_mapGetByString=pxsim.pxtrt.mapGetByString;const pxsim_pxtrt_stclo=pxsim.pxtrt.stclo;const pxsim_pxtrt_stlocRef=pxsim.pxtrt.stlocRef;const pxsim_Boolean_=pxsim.Boolean_;const pxsim_pxtcore=pxsim.pxtcore;const pxsim_String_=pxsim.String_;const pxsim_ImageMethods=pxsim.ImageMethods;const pxsim_Array_=pxsim.Array_;const pxsim_pxtrt=pxsim.pxtrt;const pxsim_numops=pxsim.numops;function _main___P26156(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:globals.zeroFx8___11504=0;r0=.5*256;s.tmp_0=r0;r0=s.tmp_0|0;globals.oneHalfFx8___11505=r0;globals.oneFx8___11507=1;globals.twoFx8___11508=2;globals._pollEventQueue___11589=undefined;globals._intervals___11596=undefined;globals.minPriority___11610=1;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,inline__P19763);globals.listeners___11611=s.tmp_0;globals.freqs___11758=_hex18694;globals.globalVolume___11762=null;globals.playToneID___11770=0;r0=pxsim_pxtcore_mkClassInstance(music_Melody__C11774_VT);s.tmp_0=r0;s.tmp_1=music_Melody_constructor__P11786_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=\"~15 e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8\";s.pc=1;return s.tmp_1;case 1:r0=s.retval;globals.wawawawaa___11793=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(music_Melody__C11774_VT);s.tmp_0=r0;s.tmp_1=music_Melody_constructor__P11786_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=\"g4:1 c5 e g:2 e:1 g:3\";s.pc=2;return s.tmp_1;case 2:r0=s.retval;globals.powerUp___11796=s.tmp_0;globals.brightness___11826=100;r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charWidth\",6);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charHeight\",8);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"data\",_hex21137);globals.font8___11848=s.tmp_0;r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charWidth\",12);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charHeight\",12);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"data\",_hex14402);globals.font12___11849=s.tmp_0;r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charWidth\",6);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"charHeight\",5);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"data\",_hex19771);globals.font5___11853=s.tmp_0;globals.__updated___11859=false;r0=pxsim.control.runInParallel(inline__P11864);r0=pxsim_pxtcore.setPalette(_hex11887);r0=pxsim.image.create(160,120);globals.screen___11888=r0;s.tmp_0=control___screen_setupUpdate__P11861_mk(s);s.tmp_0.arg0=inline__P11894;s.pc=3;return s.tmp_0;case 3:r0=s.retval;globals.control_EventContext_onStats___11657=inline__P11899;s.tmp_0=settings_initScopes__P11915_mk(s);s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=5;s.tmp_1.arg2=-1;s.pc=5;return s.tmp_1;case 5:r0=s.retval;globals.A___11949=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=6;s.tmp_1.arg2=-1;s.pc=6;return s.tmp_1;case 6:r0=s.retval;globals.B___11950=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=1;s.tmp_1.arg2=-1;s.pc=7;return s.tmp_1;case 7:r0=s.retval;globals.left___11951=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=2;s.tmp_1.arg2=-1;s.pc=8;return s.tmp_1;case 8:r0=s.retval;globals.up___11952=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=3;s.tmp_1.arg2=-1;s.pc=9;return s.tmp_1;case 9:r0=s.retval;globals.right___11953=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=4;s.tmp_1.arg2=-1;s.pc=10;return s.tmp_1;case 10:r0=s.retval;globals.down___11954=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=7;s.tmp_1.arg2=-1;s.pc=11;return s.tmp_1;case 11:r0=s.retval;globals.menu___11955=s.tmp_0;globals._userEventsEnabled___11959=true;globals.defaultRepeatDelay___11960=500;globals.defaultRepeatInterval___11961=30;r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_0=r0;s.tmp_1=controller_Button_constructor__P11972_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=0;s.tmp_1.arg2=-1;s.pc=12;return s.tmp_1;case 12:r0=s.retval;globals.anyButton___12013=s.tmp_0;s.tmp_0=SpriteKind_create__P12116_mk(s);s.pc=13;return s.tmp_0;case 13:r0=s.retval;globals.Player___12117=r0;s.tmp_0=SpriteKind_create__P12116_mk(s);s.pc=14;return s.tmp_0;case 14:r0=s.retval;globals.Food___12120=r0;s.tmp_0=SpriteKind_create__P12116_mk(s);s.pc=15;return s.tmp_0;case 15:r0=s.retval;globals.Enemy___12122=r0;r0=100*256;s.tmp_0=r0;r0=s.tmp_0|0;globals.MAX_TIME_STEP___12141=r0;r0=1|2;globals.SPRITE_CANNOT_COLLIDE___12143=r0;r0=.1*256;s.tmp_0=r0;r0=s.tmp_0|0;globals.MIN_MOVE_GAP___12148=r0;globals.infoState___12170=undefined;s.tmp_0=game_addScenePushHandler__P12174_mk(s);s.tmp_0.arg0=inline__P12175;s.pc=16;return s.tmp_0;case 16:r0=s.retval;s.tmp_0=game_addScenePopHandler__P12190_mk(s);s.tmp_0.arg0=inline__P12191;s.pc=17;return s.tmp_0;case 17:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(info_PlayerInfo__C12248_VT);s.tmp_0=r0;s.tmp_1=info_PlayerInfo_constructor__P12265_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=1;s.pc=18;return s.tmp_1;case 18:r0=s.retval;globals.player1___12270=s.tmp_0;globals.ON_PAINT_Z___12341=-20;globals.TILE_MAP_Z___12343=-1;r0=pxsim_Array__mk();globals.scene_Scene_initializers___12356=r0;globals.debug___12423=false;globals.stats___12424=false;globals.winEffect___12426=undefined;globals.loseEffect___12428=undefined;globals.loseSound___12430=undefined;globals.winSound___12432=undefined;globals.__isOver___12438=false;globals.foreverRunning___12452=false;s.tmp_0=scene_systemMenu_initVolume__P12622_mk(s);s.pc=19;return s.tmp_0;case 19:r0=s.retval;r0=pxsim_Array__push(globals.scene_Scene_initializers___12356,scene_systemMenu_register__P12619);r0=pxsim.image.ofBuffer(_hex12630);globals.CARD_NORMAL___12628=r0;r0=pxsim.image.ofBuffer(_hex12633);globals.CARD_SELECTED___12631=r0;r0=pxsim.image.ofBuffer(_hex12636);globals.CARD_ACTIVE___12634=r0;r0=pxsim.image.ofBuffer(_hex12639);globals.VOLUME_UP_ICON___12637=r0;r0=pxsim.image.ofBuffer(_hex12642);globals.BRIGHTNESS_DOWN_ICON___12640=r0;r0=pxsim.image.ofBuffer(_hex12645);globals.CLOSE_MENU_ICON___12643=r0;r0=pxsim.image.ofBuffer(_hex12648);globals.VOLUME_DOWN_ICON___12646=r0;r0=pxsim.image.ofBuffer(_hex12651);globals.SLEEP_ICON___12649=r0;r0=pxsim.image.ofBuffer(_hex12654);globals.CONSOLE_ICON___12652=r0;r0=pxsim.image.ofBuffer(_hex12657);globals.BRIGHTNESS_UP_ICON___12655=r0;r0=pxsim.image.ofBuffer(_hex12660);globals.STATS_ICON___12658=r0;globals.consoleColor___12661=1;globals.tabSize___12663=8;globals.consoleFont___12667=globals.font5___11853;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_2=r0;s.tmp_5=if_charHeight_1_mk(s);s.tmp_5.arg0=globals.consoleFont___12667;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"charHeight\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"charHeight\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"charHeight\"]}else{s.pc=20;return s.tmp_5}}case 20:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4+2;s.tmp_3=r0;r0=s.tmp_2/s.tmp_3;s.tmp_1=r0;r0=pxsim.Math_.floor(s.tmp_1);s.tmp_0=r0;r0=s.tmp_0-1;globals.consoleLines___12668=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=2*4;s.tmp_3=r0;r0=s.tmp_2-s.tmp_3;s.tmp_1=r0;s.tmp_5=if_charWidth_1_mk(s);s.tmp_5.arg0=globals.consoleFont___12667;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"charWidth\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"charWidth\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"charWidth\"]}else{s.pc=21;return s.tmp_5}}case 21:r0=s.retval;s.tmp_4=r0;r0=s.tmp_1/s.tmp_4;s.tmp_0=r0;r0=pxsim.Math_.floor(s.tmp_0);globals.consoleColumns___12678=r0;s.tmp_0=console_addListener__P11619_mk(s);s.tmp_0.arg0=game_consoleOverlay_listener__P12690;s.pc=22;return s.tmp_0;case 22:r0=s.retval;s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=inline__P12699;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=23;return s.tmp_0;case 23:r0=s.retval;globals.MAX_SOURCES___12697=r0;r0=pxsim_pxtcore_mkClassInstance(particles_SprayFactory__C12764_VT);s.tmp_0=r0;s.tmp_1=particles_SprayFactory_constructor__P12770_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=20;s.tmp_1.arg2=0;s.tmp_1.arg3=60;s.pc=24;return s.tmp_1;case 24:r0=s.retval;globals.defaultFactory___12726=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(Math_FastRandom__C12579_VT);s.tmp_0=r0;s.tmp_1=Math_FastRandom_constructor__P12586_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=undefined;s.pc=25;return s.tmp_1;case 25:r0=s.retval;globals.galois___12747=s.tmp_0;r0=2*3.141592653589793;s.tmp_0=r0;r0=s.tmp_0/100;globals.angleSlice___12751=r0;r0=3.141592653589793/180;globals.ratio___12757=r0;r0=pxsim_pxtcore_mkClassInstance(effects_ScreenEffect__C12837_VT);s.tmp_0=r0;s.tmp_1=effects_ScreenEffect_constructor__P12841_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=10;s.tmp_1.arg2=40;s.tmp_1.arg3=4e3;s.tmp_1.arg4=inline__P15311;s.pc=26;return s.tmp_1;case 26:r0=s.retval;globals.confetti___12847=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C12861_VT);s.tmp_0=r0;s.tmp_1=effects_ImageEffect_constructor__P12865_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=100;s.tmp_1.arg2=inline__P20318;s.pc=27;return s.tmp_1;case 27:r0=s.retval;globals.dissolve___12866=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C12861_VT);s.tmp_0=r0;s.tmp_1=effects_ImageEffect_constructor__P12865_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=125;s.tmp_1.arg2=inline__P17740;s.pc=28;return s.tmp_1;case 28:r0=s.retval;globals.melt___12867=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C12871_VT);s.tmp_0=r0;s.tmp_1=texteffects_TextEffect_constructor__P12872_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=inline__P12876;s.pc=29;return s.tmp_1;case 29:r0=s.retval;globals.shake___12873=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C12871_VT);s.tmp_0=r0;s.tmp_1=texteffects_TextEffect_constructor__P12872_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=inline__P12886;s.pc=30;return s.tmp_1;case 30:r0=s.retval;globals.wave___12883=s.tmp_0;s.tmp_0=game_addScenePushHandler__P12174_mk(s);s.tmp_0.arg0=inline__P13000;s.pc=31;return s.tmp_0;case 31:r0=s.retval;s.tmp_0=game_addScenePopHandler__P12190_mk(s);s.tmp_0.arg0=inline__P13014;s.pc=32;return s.tmp_0;case 32:r0=s.retval;s.tmp_0=game_setWaitAnyButton__P12439_mk(s);s.tmp_0.arg0=controller_pauseUntilAnyButtonIsPressed__P12009;s.pc=33;return s.tmp_0;case 33:r0=s.retval;s.tmp_0=game_eventContext__P12441_mk(s);s.pc=34;return s.tmp_0;case 34:r0=s.retval;s.tmp_0=SpriteKind_create__P12116_mk(s);s.pc=35;return s.tmp_0;case 35:r0=s.retval;globals.Obstacle___26159=r0;s.tmp_0=controller_Button_onEvent__P11967_mk(s);s.tmp_0.arg0=globals.A___11949;s.tmp_0.arg1=2049;s.tmp_0.arg2=inline__P26164;s.pc=36;return s.tmp_0;case 36:r0=s.retval;s.tmp_0=sprites_onOverlap__P12099_mk(s);s.tmp_0.arg0=globals.Player___12117;s.tmp_0.arg1=globals.Obstacle___26159;s.tmp_0.arg2=inline__P26184;s.pc=37;return s.tmp_0;case 37:r0=s.retval;globals.grass___26189=null;globals.projectile___26190=null;globals.cloud___26191=null;globals.tree___26192=null;r0=pxsim_Array__mk();globals.clouds___26193=r0;r0=pxsim_Array__mk();globals.grassImages___26194=r0;r0=pxsim_Array__mk();globals.trees___26195=r0;r0=pxsim_Array__mk();globals.obstacles___26196=r0;r0=pxsim_Array__mk();globals.birdFrames___26197=r0;globals.bird___26198=null;globals.gravity___26177=0;globals.bunny___26168=null;s.tmp_0=scene_setBackgroundColor__P12360_mk(s);s.tmp_0.arg0=13;s.pc=38;return s.tmp_0;case 38:r0=s.retval;s.tmp_0=sprites_create__P12026_mk(s);r0=pxsim.image.ofBuffer(_hex26203);s.tmp_0.arg0=r0;s.tmp_0.arg1=globals.Player___12117;s.pc=39;return s.tmp_0;case 39:r0=s.retval;globals.bunny___26168=r0;globals.gravity___26177=400;s.tmp_0=Sprite_ay__P12044_mk(s);s.tmp_0.arg0=globals.bunny___26168;s.tmp_0.arg1=globals.gravity___26177;s.pc=40;return s.tmp_0;case 40:r0=s.retval;s.tmp_0=Sprite_x__P12034_mk(s);s.tmp_0.arg0=globals.bunny___26168;s.tmp_0.arg1=20;s.pc=41;return s.tmp_0;case 41:r0=s.retval;s.tmp_0=sprites_create__P12026_mk(s);r0=pxsim.image.ofBuffer(_hex26214);s.tmp_0.arg0=r0;s.tmp_0.arg1=1;s.pc=42;return s.tmp_0;case 42:r0=s.retval;globals.bird___26198=r0;s.tmp_0=Sprite_setPosition__P12065_mk(s);s.tmp_0.arg0=globals.bird___26198;s.tmp_0.arg1=160;s.tmp_0.arg2=20;s.pc=43;return s.tmp_0;case 43:r0=s.retval;s.tmp_0=Sprite_setVelocity__P12066_mk(s);s.tmp_0.arg0=globals.bird___26198;s.tmp_0.arg1=-120;s.tmp_0.arg2=0;s.pc=44;return s.tmp_0;case 44:r0=s.retval;s.tmp_0=setupFrames__P26178_mk(s);s.pc=45;return s.tmp_0;case 45:r0=s.retval;s.tmp_0=game_onUpdate__P12450_mk(s);s.tmp_0.arg0=inline__P26223;s.pc=46;return s.tmp_0;case 46:r0=s.retval;s.tmp_0=game_onUpdate__P12450_mk(s);s.tmp_0.arg0=inline__P26233;s.pc=47;return s.tmp_0;case 47:r0=s.retval;s.tmp_0=game_onUpdateInterval__P12451_mk(s);s.tmp_0.arg0=100;s.tmp_0.arg1=inline__P26243;s.pc=48;return s.tmp_0;case 48:r0=s.retval;s.tmp_0=game_onUpdateInterval__P12451_mk(s);s.tmp_0.arg0=100;s.tmp_0.arg1=inline__P26250;s.pc=49;return s.tmp_0;case 49:r0=s.retval;s.tmp_0=forever__P11929_mk(s);s.tmp_0.arg0=inline__P26253;s.pc=50;return s.tmp_0;case 50:r0=s.retval;s.tmp_0=game_onUpdateInterval__P12451_mk(s);s.tmp_0.arg0=200;s.tmp_0.arg1=inline__P26289;s.pc=51;return s.tmp_0;case 51:r0=s.retval;s.tmp_0=game_onUpdateInterval__P12451_mk(s);s.tmp_0.arg0=1e3;s.tmp_0.arg1=inline__P26306;s.pc=52;return s.tmp_0;case 52:r0=s.retval;s.tmp_0=forever__P11929_mk(s);s.tmp_0.arg0=inline__P26310;s.pc=53;return s.tmp_0;case 53:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}_main___P26156.info={start:0,length:0,line:0,column:0,endLine:0,endColumn:0,fileName:\"main.ts\",functionName:\"<main>\",argumentNames:[]};_main___P26156.continuations=[];function _main___P26156_mk(s){checkStack(s.depth);return{parent:s,fn:_main___P26156,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined}}const _hex18694=pxsim.BufferMethods.createBufferFromHex(\"1f00210023002500270029002c002e003100340037003a003e004100450049004e00520057005c00620068006e0075007b0083008b0093009c00a500af00b900c400d000dc00e900f70006011501260137014a015d01720188019f01b801d201ee010b022a024b026e029302ba02e40210033f037003a403dc03170455049704dd0427057505c80520067d06e0064907b8072d08a9082d09b9094d0aea0a900b400cfa0cc00d910e6f0f5a1053115b1272139a14d41520178018f519801b231dde1e\");const _hex21137=pxsim.BufferMethods.createBufferFromHex(\"2000000000000000210000005e0000002200000e000e0000230028fe28fe280024004c92ff926400250002651248a64026006c92926ca000270000000e000000280000007c82000029000000827c00002a005438103854002b0010107c1010002c000000907000002d001010101010002e000000606000002f000060100806003000003c42423c00310000447e4000003200004462524c00330000424a4e320034003028247e20003500004e4a4a32003600003c4a4a30003700000262120e00380000344a4a34003900000c52523c003a0000006c6c00003b000000967600003c001028284444003d002828282828003e004444282810003f0000025909060040003c425a560800410078141214780042007e4a4a4a34004300003c424224004400007e42423c004500007e4a4a42004600007e0a0a02004700003c425234004800007e08087e00490000427e4200004a002040423e02004b00007e081462004c00007e404040004d007e0418047e004e00007e04087e004f003c4242423c005000007e12120c005100003c5262bc005200007e12126c00530000244a522400540002027e0202005500003e40403e005600001e70701e0057007e2018207e00580042241824420059000608700806005a000062524a46005b00007e424200005c000006081060005d000042427e00005e000804020408005f00808080808000600000000204000061000030484878006200007e4848300063000030484848006400003048487e006500003068585000660000107c12040067000018a4a478006800007e08087000690000487a4000006a000040847d00006b00007e102840006c0000427e4000006d007808300870006e000078080870006f00003048483000700000fc24241800710000182424fc0072000078100810007300005058682800740000083e48200075000038404078007600001860601800770038403040380078000048303048007900005ca0a07c007a000048685848007b000008364100007c000000fe0000007d000041360800007e00000804080400a000000000000000a10000007a000000a200003048fc4800a30090fc92928400a400542844285400a5002a2c782c2a00a6000000ee000000a7000094aaaa5200a800000200020000a9003e414955413eaa0000242a2e0000ab00102854284400ac00001010107000ad00001010101000ae003e415d45413eaf00000202020200b000000814140800b1008888be888800b2000024322c0000b30000222a140000b400000004020000b50000f840207800b6000c1e7e027e00b700000010000000b800000080400000b90000243e200000ba0000242a240000bb00442854281000bc00025f70f84000bd00021f90c8b000be0011557af84000bf000030484d2000c000601916186000c100601816196000c200601a151a6000c300601a151a6100c400601914196000c500601a151a6000c6007c0a7e4a4200c700001ea1611200c800007c55564400c900007c56554400ca00007c56554600cb00007c55544500cc0000457e440000cd0000447e450000ce0000467d460000cf0000457c450000d000087e4a423c00d100007e09127d00d200003845463800d300003846453800d400003846453a00d500003a45463900d600003845443900d700442810284400d80000fc724e3f00d900003c41423c00da00003c42413c00db00003c42413e00dc00003c41403d00dd00040872090400de00007e24241800df00007c025a2400e0000030494a7800e10000304a497800e20000304a497a00e3000032494a7900e40000304a487a00e50000304a4d7a00e600304878685000e7000018a4642400e8000030695a5000e90000306a595000ea0000306a595200eb0000306a585200ec0000497a400000ed0000487a410000ee00004a79420000ef00004a78420000f00000304a4b3d00f100007a090a7100f2000030494a3000f30000304a493000f40000304a493200f5000032494a3100f60000304a483200f700101054101000f800007068583800f900003841427800fa00003842417800fb00003842417a00fc00003842407a00fd0000b84241f800fe0000ff24241800ff00005ca1a07d000001601915196000010100304a4a7a000201611a16196000030100314a4a790004013c0a094abc00050100182464bc000601003846452800070100304a4948000801003846452a00090100304a494a000a010038444528000b010030484a48000c010038454629000d010030494a49000e01007c454639000f0100314a497e001001087e4a423c00110130484c7e04001201007d55554500130100326a5a52001401007d56564500150100316a5a51001601007c55544400170100306a5850001801003f65a521001901001874ac28001a01007c555645001b010030695a51001c010038465536001d0100304a49f2001e010039465635001f0100314a4af100200100384455340021010018a4a578002201001ea1691a0023010018a6a578002401007812117a0025017e080a7102002601047e147e04002701047e0c08700028010002457e450029010002497a41002a0100457d4500002b01004a7a4200002c0100014a7a49002d0100014a7a41002e0100217fa100002f0100247da00000300100447d440000310100487840000032017e0022423e0033013d0040847d0034012040463d0600350100800af90200360100bf440a3100370100bf4814200038010078102848003901007c404241003a0100467d4000003b01003fa06020003c0100a17f2000003d01007c414241003e0100457e4100003f01007e40484000400100427e4008004101107e48404000420100527e4800004301007c0a117c00440100780a097000450100bf42043f00460100bc440438004701007c09127d00480100790a09700049010a06780870004a01003f02847f004b01003c048478004c013945454539004d0100324a4a32004e013946464639004f0100314a4a310050013a4544463900510132494832010052013c427e4a420053013048306850005401007c163548005501007812091000560100bf49093600570100bc480408005801007d1635480059010079120910005a010048565524005b0100505a6928005c010048565526005d0100505a692a005e010012a56912005f010028ac741400600100485556250061010050596a290062010101bf410100630100049f641000640104057e050400650100083d4a2100660102127e120200670100183e5820006801003a414239006901003a414279006a01003d41413d006b01003a42427a006c010039424239006d010039424279006e01003a45453a006f01003a45457a0070013a41403a010071013a41407a01007201001f60a01f007301001c60a03c00740178221122780075013842314238007601081261120800770100b84241fa00780104097009040079010064564d44007a0100486a5948007b010064544d44007c010048685a48007d010064554e45007e010048695a49007f0100087c0204008f01003452523c00920100887e090200a0013c42423c0806a101003048483008af01003e403e0806b001003840781008b501006a5a4a4e00b601005878585800d101003845463900d2010030494a3100e601003845563500e7010030494af100fa0100742a750000fb0100304c4a7d00fc0178147e554400fd0130487a695000fe010078744e3d00ff0100706a59380018020012a569120019020028ac7414001a020101bf4101001b0200049f641000bb0200000c0a0000bc0200000a060000bd020000060a0000c602000201020000c702000102010000c902000202020000d802000102020100d902000002000000da02000205020000db02000040800000dc02000201020100dd02020100020100740300000201000075030000804000007a030000c08000007e03000096760000840300000300000085030200030002008603037c12127c008703000010000000880303007e4a4200890303007e087e008a030300427e42008c03033c42423c008e0303000e700e008f03035c62625c00900302003b400200910378141214780092037e4a4a4a34009303007e0202020094036058465860009503007e4a4a420096030062524a46009703007e08087e0098033c4a4a4a3c00990300427e4200009a03007e081462009b036018061860009c037e0418047e009d03007e04087e009e0300424a4a42009f033c4242423c00a003007e02027e00a103007e12120c00a30300665a424200a40302027e020200a503060870080600a60318247e241800a703422418244200a8030e107e100e00a9035c6202625c00aa0300457c450000ab03040970090400ac030030484a7900ad030030685a5100ae0378100a09f000af03003a41200000b0033a4043403a00b103003048487800b20300fe25251a00b3030c30c0300c00b403344a4a4a3000b503003068585000b603021aa6a24200b7033c080404f800b803003c4a4a3c00b903003840200000ba03007820504800bb03641212227c00bc03fc2020103c00bd03182040201800be03112d2ba94100bf03003048483000c003087808780800c103f82424241800c2031824a4a44800c303304848582800c403000838482800c503384040403800c6031c20f8241800c703c4281028c400c8031c20fc201c00c903304820483000ca03000238422000cb03384240423800cc0330484a493000cd03384042413800ce03304822493000d0033c52525c2000d10310344a3c0800d203067804020400d303120a7c020400d4030d7009040800d5031824ff241800d603384828483800d70348302221d800da031c2221a14200db031824a4a44200dc037e1212020200dd0300fc24240400de033e2010087c00df030c0ac9281800e003700c621c7000e10301092516f800e2039ea0bea07e00e30398a0b8a07800e4030c1214107e00e503001028207800e603be9088887000e70348544e443800e803245252524c00e903285454544800ea0364524c526400eb03086458640800ec03385454542200ed03306848682400ee03184a7e4a1800ef031848ff0a0800f003483020205800f10378a4a4a49800f203304848485000f303006080847d00f4033c4a4a4a3c00f5030030585848000004007c555644000104007c55544500020401013f8579000304007c0605040004043c4a4a422400050400244a522400060400427e420000070400457c45000008042040423e020009047c027e4830000a047e087e4830000b0402027e0a72000c04007c102a45000d047c2112087c000e040c5152523d000f043f20e0203f00100478141214780011047e4a4a4a300012047e4a4a4a34001304007e020202001404c07c427ec0001504007e4a4a4200160476087e087600170424424a4a34001804007e08047e001904007d120a7d001a04007e081462001b04403c02027e001c047e0418047e001d04007e08087e001e043c4242423c001f047e0202027e002004007e12120c002104003c42422400220402027e02020023040e5050503e00240418247e241800250442241824420026043f2020bf600027040e1010107e0028047e407e407e0029043f203fa07f002a04027e484830002b047e4848307e002c04007e484830002d0424424a4a3c002e047e183c423c002f04006c12127e0030043048487840003104003c4a4a3100320400786850200033040078080808003404c0704878c000350430686850000036044830783048003704004058683000380478402010780039047942221279003a040078203048003b044030080878003c047810201078003d047810101078003e043048484830003f047808080878004004fc24242418004104304848485000420408087808080043041ca0a0a07c0044041824ff241800450400483030480046043c2020bc60004704182020207800480478407840780049043c203ca07c004a040878505020004b047850502078004c040078505020004d044858683000004e047830304830004f0450282878000050040030696a500051040032686a50005204023f0a887000530400780a09080054040030685848005504005058682800560400487a4000005704004a784200005804004080847d0059047008785020005a047810785020005b04047e141060005c040078223148005d047841221078005e0418a1a2a279005f043c20e0203c006204027f4a4830006304087e5850200070040e107e100e00710418207820180072043c4a4a4a3c0073043068586830007404001e70180c0075040018603010009004007e020203009104007808080c009204087e0a0a0200930420782808080096043b043f043be0970424183c1824c09a04003f040a31c09b04003c101824c0ae04060870080600af040c10e0100c00b004161870181600b1042c30e0302c00b20421120c1221c0b3040024181824c0ba047e0808087000bb04007e08087000d804003452523c00d904002868583000e20400457d450000e304004a7a420000e8043c4a4a4a3c00e904003058583000ee04003d41413d00ef04003a42427a00d005681020285000d105484848784000d205004830600000d305080808780800d405680808087800d505000008780000d605080818680800d705087808087800d805784050487800d905000008180000da0504040404fc00db05484848483800dc050e4848281800dd05087848487800de05582010487000df05000004fc0000e005004040487800e105000878483800e205487840281800e305041c0404fc00e405485848483800e50504f820140800e605485060685000e705f40424241c00e805080808087000e905785058403800ea05487808087800f005087800087800f105081800087800f205081800081800f305000010080000f405100800100800021e7c5455542800031e007e484930000a1e007c454438000b1e003049487e001e1e007c151404001f1e001079140800401e7e0419047e00411e780832087000561e007c15140800571e00fc25241800601e004854552400611e0050586a28006a1e04047d0404006b1e00083d482000801e7c2112207c00811e384132403800821e7c2012217c00831e384032413800841e7c2110217c00851e384230423800f21e040972080400f31e00b84142f800a3207e0a7a120a00a420a8fcaa828400a720087e2a1c0800ab200098a4a6bf02ac20183c5a5a4200af20627f224438009021103854101000912108047e0408009221101054381000932110207e201000942110381010381095212844fe442800\");const _hex14402=pxsim.BufferMethods.createBufferFromHex(\"20000000000000000000000000000000000000000000000000002100000000000006fc0000000000000000000000000000000000220000001c00000000001c0000000000000000000000000000002300a000f807a000f807a00000000000000000000000000000002400000018022404460c8803000000000000000000000000000025003802c4017800200390040803000000000000000000000000260080037804a4041803800340040000000000000000000000002700000000001c00000000000000000000000000000000000000280000000000f8010606010800000000000000000000000000002900000001080606f801000000000000000000000000000000002a00040014000e001400040000000000000000000000000000002b0040004000f8034000400000000000000000000000000000002c000000000000090006000000000000000000000000000000002d000000800080008000000000000000000000000000000000002e000000000000060000000000000000000000000000000000002f00000c800360001c000300000000000000000000000000000030000000f80304040404f80300000000000000000000000000003100000004040404fc07000400040000000000000000000000003200000008060405c4043804000000000000000000000000000033000000080244044404b803000000000000000000000000000034000000800170010801fc070001000000000000000000000000350000023c0424042404c403000000000000000000000000000036000000f0034804440488030000000000000000000000000000370000000400c40734000c00000000000000000000000000000038000000b80344044404b803000000000000000000000000000039000000780284048802f00100000000000000000000000000003a000000000030060000000000000000000000000000000000003b000000000018090006000000000000000000000000000000003c004000a000a000a000100100000000000000000000000000003d002001200120012001200100000000000000000000000000003e0000001001a000a000a00040000000000000000000000000003f000000080084066400180000000000000000000000000000004000f0030c04c20822092409f80900000000000000000000000041000007f8008400f8000007000000000000000000000000000042000000fc0744044404b803000000000000000000000000000043000000f001080204040404080200000000000000000000000044000000fc0704040802f001000000000000000000000000000045000000fc07440444044404000000000000000000000000000046000000fc07440044004400000000000000000000000000000047000000f00108024404c803000000000000000000000000000048000000fc0740004000fc070000000000000000000000000000490000000404fc070404040400000000000000000000000000004a000000000200040004fc0300000000000000000000000000004b000000fc074000f0000c0304040000000000000000000000004c000000fc0700040004000400000000000000000000000000004d000000fc0738007000fc0700000000000000000000000000004e000000fc073800c003fc0700000000000000000000000000004f000000f80304040404f803000000000000000000000000000050000000fc07840084004400780000000000000000000000000051000000fc0102020206fc09000000000000000000000000000052000000fc074400c4013806000000000000000000000000000053000000180224044404880300000000000000000000000000005400000004000400fc070400040000000000000000000000000055000000fc0300040004fc03000000000000000000000000000056000c00f0030004f0030c00000000000000000000000000000057007c008007e001f0010007fc0000000000000000000000000058000404b8034000b80304040000000000000000000000000000590004003800c00730000c0000000000000000000000000000005a0004040407e4041c04040400000000000000000000000000005b0000000000ff0f0108010800000000000000000000000000005c0003001c0060008003000c00000000000000000000000000005d00000001080108ff0f000000000000000000000000000000005e004000380004003800400000000000000000000000000000005f00000800080008000800080000000000000000000000000000600000000000020004000000000000000000000000000000000061000000200390049004e007000000000000000000000000000062000000fc0710041004e003000000000000000000000000000063000000c001200210043004000200000000000000000000000064000000e00310041004fc07000000000000000000000000000065000000e00390049004e0040000000000000000000000000000660000001000f80714001400000000000000000000000000000067000000b806440944093c09040600000000000000000000000068000000fc0710001000e0070000000000000000000000000000690000000000f4070000000000000000000000000000000000006a00000800080008fd07000000000000000000000000000000006b000000fe078000e001100610040000000000000000000000006c0000000000fc030004000400000000000000000000000000006d00f00710001000e0071000e0070000000000000000000000006e000000f00710001000e00700000000000000000000000000006f000000e00310041004e003000000000000000000000000000070000000fc0f04010401f800000000000000000000000000000071000000f80004010401fc0f000000000000000000000000000072000000f00720001000100000000000000000000000000000007300000060029004900420030000000000000000000000000000740000001000fc0310041004000000000000000000000000000075000000f00300040004f007000000000000000000000000000076003000c0030004c003300000000000000000000000000000007700f0000007e003c0010007f000000000000000000000000000780010046003800060031004000000000000000000000000000079000c0870088007f0000c0000000000000000000000000000007a000000000410079004700410040000000000000000000000007b0000004000be070108010800000000000000000000000000007c0000000000ff0f0000000000000000000000000000000000007d00000001080108be07400000000000000000000000000000007e00800040004000800080004000000000000000000000000000\");const _hex19771=pxsim.BufferMethods.createBufferFromHex(\"20000000000000002100001700000000220000030003000023000a1f0a1f0a0024000a17151d0a00250013090412190026000a15150a100027000003000000002800000e11000000290000110e0000002a00000a040a00002b0000040e0400002c000010080000002d000004040400002e000008000000002f0010080402010030000e11110e0000310000121f100000320019151512000033000911150b000034000c0a091f080035001715151509003600081416150800370011090503010038000a1515150a00390002150d0502003a00000a000000003b0000100a0000003c0000040a1100003d00000a0a0a00003e0000110a0400003f0002011505020040000e1115090e0041001e05051e000042001f15150a000043000e111111000044001f11110e000045001f151511000046001f050501000047000e1111150c0048001f04041f00004900111f110000004a000911110f01004b001f040a1100004c001f10101000004d001f0204021f004e001f0204081f004f000e11110e000050001f0505020000510006091916000052001f05050a10005300121515090000540001011f01010055000f10100f0000560007081008070057001f0804081f0058001b04041b0000590001021c0201005a001915131100005b00001f111100005c000102040810005d000011111f00005e000002010200005f00101010101000600000010200000061000c12121e100062001f141408000063000c121212000064000814141f000065000e15151200006600041e0501000067000215150f000068001f04041800006900001d000000006a000010100d00006b001f040a1000006c00000f101000006d001e0204021e006e001e02021c00006f000c12120c000070001e0a0a0400007100040a0a1e000072001c0202020000730010140a0200007400000f1414100075000e10101e1000760006081008060077001e1008101e007800120c0c12000079001214080402007a00121a161200007b0000041f1100007c00001f000000007d00111f040000007e00000404080800d3000c1213130c00f3000c12130d000004010e05051e100005010609191f080006010c121313120007010c121313000018010f0b1b19000019010e151d1a000041011f14121000004201100f1412000043011f0205081f0044011e03031c00005a0110140b0302005b0110140b0300007901121a171300007a01121a171300007b01121b171200007c01121b17120000\");const _hex11887=pxsim.BufferMethods.createBufferFromHex(\"000000ffffffff2121ff93c4ff8135fff609249ca378dc52003fad87f2ff8e2ec4a4839f5c406ce5cdc491463d000000\");const _hex12630=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000011111111111111111111111111110010313333333333333333333333331301111311111111111111111111111131113111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113311111111111111111111111111111133111111111111111111111111111111331111111111111111111111111111113111311111111111111111111111131111031333333333333333333333333130100111111111111111111111111111100\");const _hex12633=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000022222222222222222222222222220020323333333333333333333333332302222322222222222222222222222232223222111111111111111111111111222332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332121111111111111111111111112123321211111111111111111111111121233212111111111111111111111111212332221111111111111111111111112223222322222222222222222222222232222032333333333333333333333333230200222222222222222222222222222200\");const _hex12636=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000044444444444444444444444444440040343333333333333333333333334304444344444444444444444444444434443444111111111111111111111111444334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334141111111111111111111111114143341411111111111111111111111141433414111111111111111111111111414334441111111111111111111111114443444344444444444444444444444434444034333333333333333333333333430400444444444444444444444444444400\");const _hex12639=pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccc0000000000000000000000000000cccc00000000000000000000000000c0cccc0c000000000000000000000000cccccccc0000000000000000000000c0cccccccc0c000000000000000000000000000000000000000000000000000000c000000c00000000000000000000000000cccc000000000000000000000000c0000000000c00000000000000000000000c0000c0000000000000000000000000c0cccc0c00000000000000000000000c00000000c000000000000000000000c0000000000c0000000000000000000000cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12642=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400400000000000000000000000000004444000000000000000000000000004455554400000000000000000000000054555545000000000000000000000040555555550400000000000000000000445555555544000000000000000000004455555555440000000000000000000040555555550400000000000000000000005455554500000000000000000000000044555544000000000000000000000000004444000000000000000000000000000040040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12645=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020020000000000002002000000000000202200000000000022020000000000000022020000000020220000000000000000202200000000220200000000000000000022020000202200000000000000000000202200002202000000000000000000000022022022000000000000000000000000202222020000000000000000000000000022220000000000000000000000000000222200000000000000000000000000202222020000000000000000000000002202202200000000000000000000002022000022020000000000000000000022020000202200000000000000000020220000000022020000000000000000220200000000202200000000000000202200000000000022020000000000002002000000000000200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12648=pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccc0000000000000000000000000000cccc00000000000000000000000000c0cccc0c000000000000000000000000cccccccc0000000000000000000000c0cccccccc0c000000000000000000000000000000000000000000000000000000c000000c00000000000000000000000000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12651=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000505500005505000000000000000000005505000050550000000000000000005055000000005505000000000000000050550000000055050000000000000000555500000000555500000000000000005555000000005555000000000000000055550500005055550000000000000000555555000055555500000000000000005555555555555555000000000000000055555555555555550000000000000000505555555555550500000000000000005055555555555505000000000000000000555555555555000000000000000000005055555555050000000000000000000000505555050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12654=pxsim.BufferMethods.createBufferFromHex(\"8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f0ffffffffffff0f0000000000000000ff0f0000000000f00000000000000000ff0f0000000000f00000000000000000ff0ff00000f000f00000000000000000ff0f000f000f00f00000000000000000ff0f00f0f00000f00000000000000000ff0f00000f0000f00000000000000000ff0f0000000000f00000000000000000ff0f000000000ff00000000000000000ff0f000000000ff00000000000000000ff0f000000000ff00000000000000000ff0f000000000ff00000000000000000ff0f000000000ff00000000000000000ff0f0000000000f00000000000000000ff0f0000000000f00000000000000000f0ffffffffffff0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12657=pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040040000000000000000000000000000444400000000000000000000000000404444040000000000000000000040445455554544040000000000000000405455555555450400000000000000004055555555555504000000000000000040555555555555040000000000000000545555555555554500000000000000405455555555555545040000000000004454555555555555454400000000000044545555555555554544000000000000405455555555555545040000000000000054555555555555450000000000000000405555555555550400000000000000004055555555555504000000000000000040545555555545040000000000000000404454555545440400000000000000000000404444040000000000000000000000000044440000000000000000000000000000400400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex12660=pxsim.BufferMethods.createBufferFromHex(\"8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccc0c000000000000000000000000cc111fc10c00000000000000000000c011111f11c1000000000000000000001c11111111110c0000000000000000001c11111111110c00000000000000c0c0111111111111c100000000000000c0cc111111111111c100000000000000c0ccff11111f11f1cf00000000000000c0cc111121111111c100000000000000c0c0111112111111c10000000000000000001c21111111110c0000000000000000001c11111111110c000000000000000000c011111f11c10000000000000000000000cc111fc10c000000000000000000000000cccc0c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex26203=pxsim.BufferMethods.createBufferFromHex(\"87040c0015000000000000000000000000000000000000000010010000000000000000111110010000000000100110111111010000000000101311111111111101000000003013f1111111111100000010011011f11111111101000010131111f111111101000000003013f11111010000000000000000111110010000000000000000000010010000000000000000000000000000000000\");const _hex26214=pxsim.BufferMethods.createBufferFromHex(\"87041000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");function inline__P11864(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:case 1:r0=pxsim_numops_toBoolDecr(true);if(!r0){step=4;continue}globals.__updated___11859=false;s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=200;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=pxsim_numops_toBoolDecr(globals.__updated___11859);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_2=control___screen_update__P11860_mk(s);s.pc=6;return s.tmp_2;case 6:r0=s.retval;globals.__updated___11859=true;case 2:case 3:{step=1;continue}case 4:return leave(s,r0);default:oops()}}}inline__P11864.info={start:396,length:211,line:17,column:26,endLine:26,endColumn:5,fileName:\"pxt_modules/screen/frame.ts\",functionName:\"inline\",argumentNames:[]};function inline__P11864_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P11864,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P11894(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_pxtcore.updateScreen(globals.screen___11888);r0=undefined;return leave(s,r0);default:oops()}}}inline__P11894.info={start:753,length:26,line:22,column:33,endLine:22,endColumn:59,fileName:\"pxt_modules/screen/targetoverrides.ts\",functionName:\"inline\",argumentNames:[]};function inline__P11894_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P11894,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function inline__P11899(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_pxtcore.updateStats(s.arg0);r0=undefined;return leave(s,r0);default:oops()}}}inline__P11899.info={start:816,length:56,line:23,column:35,endLine:25,endColumn:5,fileName:\"pxt_modules/screen/targetoverrides.ts\",functionName:\"inline\",argumentNames:[\"msg\"]};function inline__P11899_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P11899,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function inline__P12175(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals.infoState___12170);if(!r0){step=3;continue}r0=pxsim_numops_toBoolDecr(globals.infoStateStack___12172);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals.infoStateStack___12172=r0;case 1:case 2:r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"state\",globals.infoState___12170);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"scene\",s.arg0);r0=pxsim_Array__push(globals.infoStateStack___12172,s.tmp_0);globals.infoState___12170=undefined;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}inline__P12175.info={start:1913,length:259,line:73,column:29,endLine:82,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"oldScene\"]};function inline__P12175_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P12175,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P12191(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___12192=undefined;s.nextState___12201=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.scene___12192=r0;globals.infoState___12170=undefined;s.tmp_0=r0=globals.infoStateStack___12172;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array__length(globals.infoStateStack___12172);case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=5;continue}r0=pxsim_Array_.pop(globals.infoStateStack___12172);s.nextState___12201=r0;s.tmp_2=if_scene_1_mk(s);s.tmp_2.arg0=s.nextState___12201;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"scene\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"scene\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"scene\"]}else{s.pc=8;return s.tmp_2}}case 8:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1==s.scene___12192;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_3=if_state_1_mk(s);s.tmp_3.arg0=s.nextState___12201;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"state\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"state\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"state\"]}else{s.pc=9;return s.tmp_3}}case 9:r0=s.retval;globals.infoState___12170=r0;{step=4;continue}case 3:r0=pxsim_Array__push(globals.infoStateStack___12172,s.nextState___12201);case 4:case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}inline__P12191.info={start:2204,length:376,line:84,column:28,endLine:95,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[]};function inline__P12191_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P12191,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,scene___12192:undefined,nextState___12201:undefined}}function inline__P12699(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sz___12700=undefined;s.tmp_0=control_ramSize__P11604_mk(s);s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.sz___12700=r0;s.tmp_1=r0=s.sz___12700;r0=1024*100;s.tmp_2=r0;r0=s.tmp_1<=s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=8;{step=5;continue}{step=4;continue}case 1:s.tmp_4=r0=s.sz___12700;r0=1024*200;s.tmp_5=r0;r0=s.tmp_4<=s.tmp_5;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=2;continue}r0=16;{step=5;continue}{step=3;continue}case 2:r0=50;case 3:case 4:case 5:return leave(s,r0);default:oops()}}}inline__P12699.info={start:189,length:217,line:7,column:25,endLine:16,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[]};function inline__P12699_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P12699,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,sz___12700:undefined}}function inline__P12876(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim.Math_.random();s.tmp_3=r0;r0=s.tmp_3*2;s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"xOffset\",s.tmp_1);r0=pxsim.Math_.random();s.tmp_6=r0;r0=s.tmp_6*2;s.tmp_5=r0;r0=s.tmp_5-1;s.tmp_4=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"yOffset\",s.tmp_4);r0=s.tmp_0;return leave(s,r0);default:oops()}}}inline__P12876.info={start:860,length:117,line:31,column:40,endLine:34,endColumn:5,fileName:\"pxt_modules/game/texteffects.ts\",functionName:\"inline\",argumentNames:[]};function inline__P12876_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P12876,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined}}function inline__P12886(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtrt.mkMap();s.tmp_2=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_2,\"xOffset\",0);r0=pxsim.Math_.sin(s.arg0);s.tmp_4=r0;r0=s.tmp_4*2;s.tmp_3=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_2,\"yOffset\",s.tmp_3);s.tmp_7=Math_sign__P11485_mk(s);r0=pxsim.Math_.sin(s.arg0);s.tmp_7.arg0=r0;s.pc=7;return s.tmp_7;case 7:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6<0;s.tmp_5=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_2,\"up\",s.tmp_5);s.arg1=s.tmp_2;case 1:case 2:s.tmp_1=if_up_1_mk(s);s.tmp_1.arg0=s.arg1;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"up\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"up\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"up\"]}else{s.pc=8;return s.tmp_1}}case 8:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=1;{step=4;continue}case 3:r0=-1;case 4:s.tmp_2=r0;s.tmp_3=if_yOffset_2_mk(s);s.tmp_4=r0=s.arg1;s.tmp_3.arg0=r0;s.tmp_6=if_yOffset_1_mk(s);s.tmp_6.arg0=s.tmp_4;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"yOffset\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"yOffset\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"yOffset\"]}else{s.pc=10;return s.tmp_6}}case 10:r0=s.retval;s.tmp_5=r0;r0=s.tmp_2*.5;s.tmp_7=r0;r0=s.tmp_5+s.tmp_7;s.tmp_3.arg1=r0;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_3.arg0,\"yOffset\",s.tmp_3.arg1)}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"set/yOffset\"];if(s.tmp_3.fn===null){s.tmp_3.arg0.fields[\"yOffset\"]=s.tmp_3.arg1}else if(s.tmp_3.fn===undefined){failedCast(s.tmp_3.arg0)}else{s.pc=9;return s.tmp_3}}case 9:r0=s.retval;s.tmp_2=Math_abs__P11484_mk(s);s.tmp_3=if_yOffset_1_mk(s);s.tmp_3.arg0=s.arg1;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"yOffset\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"yOffset\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"yOffset\"]}else{s.pc=12;return s.tmp_3}}case 12:r0=s.retval;s.tmp_2.arg0=r0;s.pc=11;return s.tmp_2;case 11:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1>2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_6=if_up_1_mk(s);s.tmp_6.arg0=s.arg1;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"up\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"up\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"up\"]}else{s.pc=13;return s.tmp_6}}case 13:r0=s.retval;s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);s.tmp_4=r0;r0=pxsim_Boolean__bang(s.tmp_4);{step=6;continue}case 5:s.tmp_7=if_up_1_mk(s);s.tmp_7.arg0=s.arg1;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"up\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"up\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"up\"]}else{s.pc=14;return s.tmp_7}}case 14:r0=s.retval;case 6:s.tmp_8=r0;s.tmp_9=if_up_2_mk(s);s.tmp_9.arg0=s.arg1;s.tmp_9.arg1=s.tmp_8;if(!s.tmp_9.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_9.arg0,\"up\",s.tmp_9.arg1)}else{s.tmp_9.fn=s.tmp_9.arg0.vtable.iface[\"set/up\"];if(s.tmp_9.fn===null){s.tmp_9.arg0.fields[\"up\"]=s.tmp_9.arg1}else if(s.tmp_9.fn===undefined){failedCast(s.tmp_9.arg0)}else{s.pc=15;return s.tmp_9}}case 15:r0=s.retval;r0=s.arg1;return leave(s,r0);default:oops()}}}inline__P12886.info={start:1127,length:417,line:42,column:39,endLine:55,endColumn:5,fileName:\"pxt_modules/game/texteffects.ts\",functionName:\"inline\",argumentNames:[\"index\",\"state\"]};function inline__P12886_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P12886,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,arg0:undefined,arg1:undefined}}function inline__P13000(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals.animations___12997);if(!r0){step=3;continue}r0=pxsim_numops_toBoolDecr(globals.animationStateStack___12998);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals.animationStateStack___12998=r0;case 1:case 2:r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"state\",globals.animations___12997);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"scene\",s.arg0);r0=pxsim_Array__push(globals.animationStateStack___12998,s.tmp_0);globals.animations___12997=undefined;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}inline__P13000.info={start:251,length:277,line:12,column:29,endLine:21,endColumn:5,fileName:\"pxt_modules/animation/animation-old.ts\",functionName:\"inline\",argumentNames:[\"oldScene\"]};function inline__P13000_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13000,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P13014(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___13015=undefined;s.nextState___13022=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.scene___13015=r0;globals.animations___12997=undefined;s.tmp_0=r0=globals.animationStateStack___12998;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array__length(globals.animationStateStack___12998);case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=5;continue}r0=pxsim_Array_.pop(globals.animationStateStack___12998);s.nextState___13022=r0;s.tmp_2=if_scene_1_mk(s);s.tmp_2.arg0=s.nextState___13022;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"scene\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"scene\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"scene\"]}else{s.pc=8;return s.tmp_2}}case 8:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1==s.scene___13015;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_3=if_state_1_mk(s);s.tmp_3.arg0=s.nextState___13022;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"state\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"state\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"state\"]}else{s.pc=9;return s.tmp_3}}case 9:r0=s.retval;globals.animations___12997=r0;{step=4;continue}case 3:r0=pxsim_Array__push(globals.animationStateStack___12998,s.nextState___13022);case 4:case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}inline__P13014.info={start:560,length:398,line:23,column:28,endLine:34,endColumn:5,fileName:\"pxt_modules/animation/animation-old.ts\",functionName:\"inline\",argumentNames:[]};function inline__P13014_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13014,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,scene___13015:undefined,nextState___13022:undefined}}function inline__P26164(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=animation_stopAnimation__P12980_mk(s);s.tmp_0.arg0=0;s.tmp_0.arg1=globals.bunny___26168;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_2=Sprite_ay__P12043_mk(s);s.tmp_2.arg0=globals.bunny___26168;s.pc=4;return s.tmp_2;case 4:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=Sprite_vy__P12040_mk(s);s.tmp_3.arg0=globals.bunny___26168;s.tmp_3.arg1=-160;s.pc=5;return s.tmp_3;case 5:r0=s.retval;s.tmp_0=Sprite_ay__P12044_mk(s);s.tmp_0.arg0=globals.bunny___26168;s.tmp_0.arg1=globals.gravity___26177;s.pc=6;return s.tmp_0;case 6:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P26164.info={start:125,length:162,line:3,column:52,endLine:9,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26164_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26164,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P26184(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=game_over__P12449_mk(s);s.tmp_0.arg0=false;s.tmp_0.arg1=globals.melt___12867;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P26184.info={start:32757,length:69,line:541,column:58,endLine:543,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[\"sprite\",\"otherSprite\"]};function inline__P26184_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26184,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function inline__P26223(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_2=Sprite_bottom__P12061_mk(s);s.tmp_2.arg0=globals.bunny___26168;s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1>105;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=Sprite_bottom__P12062_mk(s);s.tmp_3.arg0=globals.bunny___26168;s.tmp_3.arg1=105;s.pc=4;return s.tmp_3;case 4:r0=s.retval;s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=globals.bunny___26168;s.tmp_0.arg1=0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=Sprite_ay__P12044_mk(s);s.tmp_0.arg0=globals.bunny___26168;s.tmp_0.arg1=0;s.pc=6;return s.tmp_0;case 6:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P26223.info={start:34555,length:120,line:604,column:14,endLine:610,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26223_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26223,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P26233(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_2=Sprite_x__P12033_mk(s);s.tmp_2.arg0=globals.bird___26198;s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=Sprite_setPosition__P12065_mk(s);s.tmp_3.arg0=globals.bird___26198;r0=pxsim.Math_.randomRange(160,240);s.tmp_3.arg1=r0;r0=pxsim.Math_.randomRange(20,60);s.tmp_3.arg2=r0;s.pc=4;return s.tmp_3;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P26233.info={start:34691,length:122,line:611,column:14,endLine:615,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26233_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26233,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P26243(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=Sprite_x__P12034_mk(s);s.tmp_1=r0=globals.bird___26198;s.tmp_0.arg0=r0;s.tmp_3=Sprite_x__P12033_mk(s);s.tmp_3.arg0=s.tmp_1;s.pc=2;return s.tmp_3;case 2:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2+-1;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P26243.info={start:34842,length:32,line:616,column:27,endLine:618,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26243_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26243,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P26250(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=info_changeScoreBy__P12227_mk(s);s.tmp_0.arg0=1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P26250.info={start:34903,length:41,line:619,column:27,endLine:621,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26250_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26250,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P26253(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.difficultyFactor___26254=undefined;s.osbstacleSpeed___26256=undefined;s.numObstacles___26259=undefined;s.i___26262=undefined;s.newObstacle___26266=undefined;s.tmp_1=game_runtime__P12456_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0/250;s.difficultyFactor___26254=r0;r0=100+s.difficultyFactor___26254;s.osbstacleSpeed___26256=r0;r0=pxsim.Math_.randomRange(1,3);s.numObstacles___26259=r0;s.i___26262=0;case 1:r0=s.i___26262<s.numObstacles___26259;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=r0=globals.obstacles___26196;r0=pxsim_Array__length(globals.obstacles___26196);s.tmp_4=r0;r0=s.tmp_4-1;s.tmp_3=r0;r0=pxsim.Math_.randomRange(0,s.tmp_3);s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_1,s.tmp_2);s.newObstacle___26266=r0;s.tmp_0=sprites_createProjectileFromSide__P12028_mk(s);s.tmp_0.arg0=s.newObstacle___26266;r0=0-s.osbstacleSpeed___26256;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;globals.projectile___26190=r0;s.tmp_0=Sprite_bottom__P12062_mk(s);s.tmp_0.arg0=globals.projectile___26190;s.tmp_0.arg1=105;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=Sprite_setKind__P12064_mk(s);s.tmp_0.arg0=globals.projectile___26190;s.tmp_0.arg1=globals.Obstacle___26159;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=pause__P11666_mk(s);r0=11500/s.osbstacleSpeed___26256;s.tmp_0.arg0=r0;s.pc=7;return s.tmp_0;case 7:r0=s.retval;r0=s.i___26262+1;s.i___26262=r0;{step=1;continue}case 2:s.tmp_0=pause__P11666_mk(s);r0=pxsim.Math_.randomRange(1500,2500);s.tmp_0.arg0=r0;s.pc=8;return s.tmp_0;case 8:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P26253.info={start:34954,length:535,line:622,column:8,endLine:634,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26253_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26253,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,difficultyFactor___26254:undefined,osbstacleSpeed___26256:undefined,numObstacles___26259:undefined,i___26262:undefined,newObstacle___26266:undefined}}function inline__P26289(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=Math_percentChance__P12577_mk(s);s.tmp_1.arg0=40;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=sprites_createProjectileFromSide__P12028_mk(s);s.tmp_3=r0=globals.grassImages___26194;r0=pxsim_Array__length(globals.grassImages___26194);s.tmp_6=r0;r0=s.tmp_6-1;s.tmp_5=r0;r0=pxsim.Math_.randomRange(0,s.tmp_5);s.tmp_4=r0;r0=pxsim_Array__getAt(s.tmp_3,s.tmp_4);s.tmp_2.arg0=r0;s.tmp_10=game_runtime__P12456_mk(s);s.pc=5;return s.tmp_10;case 5:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9/250;s.tmp_8=r0;r0=-100-s.tmp_8;s.tmp_7=r0;r0=s.tmp_7/2;s.tmp_2.arg1=r0;s.tmp_2.arg2=0;s.pc=4;return s.tmp_2;case 4:r0=s.retval;globals.grass___26189=r0;s.tmp_0=Sprite_bottom__P12062_mk(s);s.tmp_0.arg0=globals.grass___26189;s.tmp_0.arg1=100;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=Sprite__C12031_v2_2_mk(s);s.tmp_0.arg0=globals.grass___26189;s.tmp_0.arg1=-1;if(!checkSubtype(s.tmp_0.arg0,Sprite__C12031_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=7;return s.tmp_0;case 7:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P26289.info={start:35518,length:248,line:635,column:27,endLine:641,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26289_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26289,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined}}function inline__P26306(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=Math_percentChance__P12577_mk(s);s.tmp_1.arg0=20;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=createCloud__P26180_mk(s);s.pc=4;return s.tmp_2;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P26306.info={start:35796,length:77,line:642,column:28,endLine:646,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26306_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26306,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P26310(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=Math_percentChance__P12577_mk(s);s.tmp_1.arg0=60;s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=createTree__P26179_mk(s);s.pc=6;return s.tmp_2;case 6:r0=s.retval;s.tmp_1=Math_percentChance__P12577_mk(s);s.tmp_1.arg0=50;s.pc=7;return s.tmp_1;case 7:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=pause__P11666_mk(s);r0=pxsim.Math_.randomRange(150,300);s.tmp_2.arg0=r0;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_0=createTree__P26179_mk(s);s.pc=9;return s.tmp_0;case 9:r0=s.retval;case 1:case 2:case 3:case 4:s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=1500;s.pc=10;return s.tmp_0;case 10:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P26310.info={start:35883,length:211,line:647,column:8,endLine:656,endColumn:1,fileName:\"main.ts\",functionName:\"inline\",argumentNames:[]};function inline__P26310_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P26310,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function createTree__P26179(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=sprites_createProjectileFromSide__P12028_mk(s);s.tmp_1=r0=globals.trees___26195;r0=pxsim_Array__length(globals.trees___26195);s.tmp_4=r0;r0=s.tmp_4-1;s.tmp_3=r0;r0=pxsim.Math_.randomRange(0,s.tmp_3);s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_1,s.tmp_2);s.tmp_0.arg0=r0;s.tmp_8=game_runtime__P12456_mk(s);s.pc=2;return s.tmp_8;case 2:r0=s.retval;s.tmp_7=r0;r0=s.tmp_7/250;s.tmp_6=r0;r0=-100-s.tmp_6;s.tmp_5=r0;r0=s.tmp_5/2;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;globals.tree___26192=r0;s.tmp_0=Sprite_bottom__P12062_mk(s);s.tmp_0.arg0=globals.tree___26192;s.tmp_0.arg1=100;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=Sprite__C12031_v2_2_mk(s);s.tmp_0.arg0=globals.tree___26192;s.tmp_0.arg1=-1;if(!checkSubtype(s.tmp_0.arg0,Sprite__C12031_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}createTree__P26179.info={start:32318,length:191,line:531,column:0,endLine:535,endColumn:1,fileName:\"main.ts\",functionName:\"createTree\",argumentNames:[]};function createTree__P26179_mk(s){checkStack(s.depth);return{parent:s,fn:createTree__P26179,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined}}function createCloud__P26180(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=sprites_createProjectileFromSide__P12028_mk(s);s.tmp_1=r0=globals.clouds___26193;r0=pxsim_Array__length(globals.clouds___26193);s.tmp_4=r0;r0=s.tmp_4-1;s.tmp_3=r0;r0=pxsim.Math_.randomRange(0,s.tmp_3);s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_1,s.tmp_2);s.tmp_0.arg0=r0;s.tmp_0.arg1=-30;s.tmp_0.arg2=0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;globals.cloud___26191=r0;s.tmp_0=Sprite_bottom__P12062_mk(s);s.tmp_0.arg0=globals.cloud___26191;r0=pxsim.Math_.randomRange(30,55);s.tmp_0.arg1=r0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=Sprite__C12031_v2_2_mk(s);s.tmp_0.arg0=globals.cloud___26191;s.tmp_0.arg1=-2;if(!checkSubtype(s.tmp_0.arg0,Sprite__C12031_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}createCloud__P26180.info={start:32510,length:188,line:536,column:0,endLine:540,endColumn:1,fileName:\"main.ts\",functionName:\"createCloud\",argumentNames:[]};function createCloud__P26180_mk(s){checkStack(s.depth);return{parent:s,fn:createCloud__P26180,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function Sprite_z__P12051(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_z\"];s.tmp_1=r0;r0=s.arg1!=s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"_z\"]=s.arg1;s.tmp_1=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0.fields[\"flags\"];s.tmp_3=r0;r0=s.tmp_3|2;s.tmp_2=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_2;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_z__P12051.info={start:7385,length:165,line:261,column:4,endLine:266,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"z\",argumentNames:[\"this\",\"value\"]};function Sprite_z__P12051_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_z__P12051,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function Sprite_z__P12050(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_z\"];return leave(s,r0);default:oops()}}}Sprite_z__P12050.info={start:7242,length:47,line:256,column:4,endLine:258,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"z\",argumentNames:[\"this\"]};function Sprite_z__P12050_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_z__P12050,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function Math_percentChance__P12577(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0>=100;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=true;{step=5;continue}{step=4;continue}case 1:r0=s.arg0<=0;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=2;continue}r0=false;{step=5;continue}case 2:case 3:case 4:r0=pxsim.Math_.randomRange(0,99);s.tmp_2=r0;r0=s.tmp_2<s.arg0;case 5:return leave(s,r0);default:oops()}}}Math_percentChance__P12577.info={start:336,length:259,line:8,column:4,endLine:16,endColumn:5,fileName:\"pxt_modules/game/mathUtil.ts\",functionName:\"percentChance\",argumentNames:[\"percentage\"]};function Math_percentChance__P12577_mk(s){checkStack(s.depth);return{parent:s,fn:Math_percentChance__P12577,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function Sprite_setKind__P12064(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.spritesByKind___13523=undefined;s.overlapMap___13550=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg1==undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0.fields[\"_kind\"];s.tmp_1=r0;r0=s.tmp_1===s.arg1;case 2:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}{step=15;continue}case 3:case 4:s.tmp_3=game_currentScene__P12194_mk(s);s.pc=16;return s.tmp_3;case 16:r0=s.retval;r0=r0.fields[\"spritesByKind\"];s.spritesByKind___13523=r0;r0=s.arg0.fields[\"_kind\"];s.tmp_1=r0;r0=s.tmp_1>=0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=s.arg0.fields[\"_kind\"];s.tmp_2=r0;r0=pxsim_pxtrt.mapGetGeneric(s.spritesByKind___13523,s.tmp_2);case 6:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=7;continue}s.tmp_4=SpriteSet_remove__P12107_mk(s);r0=s.arg0.fields[\"_kind\"];s.tmp_5=r0;r0=pxsim_pxtrt.mapGetGeneric(s.spritesByKind___13523,s.tmp_5);s.tmp_4.arg0=r0;s.tmp_4.arg1=s.arg0;s.pc=17;return s.tmp_4;case 17:r0=s.retval;case 7:case 8:r0=s.arg1>=0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}r0=pxsim_pxtrt.mapGetGeneric(s.spritesByKind___13523,s.arg1);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=9;continue}r0=pxsim_pxtcore_mkClassInstance(SpriteSet__C12101_VT);s.tmp_4=r0;s.tmp_5=SpriteSet_constructor__P12112_mk(s);s.tmp_5.arg0=s.tmp_4;s.pc=18;return s.tmp_5;case 18:r0=s.retval;r0=pxsim_pxtrt.mapSetGeneric(s.spritesByKind___13523,s.arg1,s.tmp_4);case 9:case 10:s.tmp_0=SpriteSet_add__P12105_mk(s);r0=pxsim_pxtrt.mapGetGeneric(s.spritesByKind___13523,s.arg1);s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg0;s.pc=19;return s.tmp_0;case 19:r0=s.retval;case 11:case 12:s.tmp_0=game_currentScene__P12194_mk(s);s.pc=20;return s.tmp_0;case 20:r0=s.retval;r0=r0.fields[\"overlapMap\"];s.overlapMap___13550=r0;r0=pxsim_pxtrt.mapGetGeneric(s.overlapMap___13550,s.arg1);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}s.tmp_3=r0=s.overlapMap___13550;s.tmp_4=r0=s.arg1;r0=pxsim_Array__mk();s.tmp_5=r0;r0=pxsim_pxtrt.mapSetGeneric(s.tmp_3,s.tmp_4,s.tmp_5);case 13:case 14:s.tmp_0=r0=s.arg0;r0=pxsim_pxtrt.mapGetGeneric(s.overlapMap___13550,s.arg1);s.tmp_1=r0;r0=s.tmp_0.fields[\"_kindsOverlappedWith\"]=s.tmp_1;r0=s.arg0.fields[\"_kind\"]=s.arg1;case 15:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_setKind__P12064.info={start:9954,length:655,line:360,column:4,endLine:380,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"setKind\",argumentNames:[\"this\",\"value\"]};function Sprite_setKind__P12064_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_setKind__P12064,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,spritesByKind___13523:undefined,overlapMap___13550:undefined,arg0:undefined,arg1:undefined}}function SpriteSet_constructor__P12112(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_sprites\"]=s.tmp_1;return leave(s,r0);default:oops()}}}SpriteSet_constructor__P12112.info={start:392,length:49,line:18,column:4,endLine:20,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function SpriteSet_constructor__P12112_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_constructor__P12112,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function SpriteSet_remove__P12107(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___13597=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);r0=s.arg0.fields[\"_sprites\"];s.tmp_0=r0;r0=pxsim_Array_.indexOf(s.tmp_0,s.arg1,undefined);s.i___13597=r0;r0=s.i___13597>-1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=helpers_arraySplice__P11461_mk(s);r0=s.arg0.fields[\"_sprites\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=s.i___13597;s.tmp_1.arg2=1;s.pc=4;return s.tmp_1;case 4:r0=s.retval;r0=true;{step=3;continue}case 1:case 2:r0=false;case 3:return leave(s,r0);default:oops()}}}SpriteSet_remove__P12107.info={start:1556,length:207,line:65,column:4,endLine:72,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"remove\",argumentNames:[\"this\",\"sprite\"]};function SpriteSet_remove__P12107_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_remove__P12107,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,i___13597:undefined,arg0:undefined,arg1:undefined}}function helpers_arraySplice__P11461(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___13615=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:s.i___13615=0;case 3:r0=s.i___13615<s.arg2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}r0=pxsim_Array_.removeAt(s.arg0,s.arg1);r0=s.i___13615+1;s.i___13615=r0;{step=3;continue}case 4:case 5:r0=undefined;return leave(s,r0);default:oops()}}}helpers_arraySplice__P11461.info={start:1359,length:213,line:53,column:4,endLine:60,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arraySplice\",argumentNames:[\"arr\",\"start\",\"len\"]};function helpers_arraySplice__P11461_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arraySplice__P11461,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,i___13615:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function SpriteSet_add__P12105(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=false;{step=5;continue}case 1:case 2:r0=s.arg0.fields[\"_sprites\"];s.tmp_4=r0;r0=pxsim_Array_.indexOf(s.tmp_4,s.arg1,undefined);s.tmp_3=r0;r0=s.tmp_3>-1;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}r0=false;{step=5;continue}case 3:case 4:r0=s.arg0.fields[\"_sprites\"];s.tmp_5=r0;r0=pxsim_Array__push(s.tmp_5,s.arg1);r0=true;case 5:return leave(s,r0);default:oops()}}}SpriteSet_add__P12105.info={start:855,length:235,line:40,column:4,endLine:48,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"add\",argumentNames:[\"this\",\"sprite\"]};function SpriteSet_add__P12105_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_add__P12105,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined}}function SpriteSet_contains__P12108(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);r0=s.arg0.fields[\"_sprites\"];s.tmp_1=r0;r0=pxsim_Array_.indexOf(s.tmp_1,s.arg1,undefined);s.tmp_0=r0;r0=s.tmp_0>-1;return leave(s,r0);default:oops()}}}SpriteSet_contains__P12108.info={start:1854,length:92,line:78,column:4,endLine:80,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"contains\",argumentNames:[\"this\",\"sprite\"]};function SpriteSet_contains__P12108_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_contains__P12108,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function sprites_createProjectileFromSide__P12028(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}s.tmp_0=sprites_createProjectile__P12030_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=1;s.tmp_0.arg4=undefined;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}sprites_createProjectileFromSide__P12028.info={start:2403,length:153,line:74,column:4,endLine:76,endColumn:5,fileName:\"pxt_modules/game/sprites.ts\",functionName:\"createProjectileFromSide\",argumentNames:[\"img\",\"vx\",\"vy\"]};function sprites_createProjectileFromSide__P12028_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_createProjectileFromSide__P12028,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function sprites_createProjectile__P12030(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.s___19357=undefined;s.sc___19362=undefined;s.xOff___19370=undefined;s.yOff___19378=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}s.tmp_0=r0=s.arg3;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=1;case 2:s.tmp_1=r0;s.tmp_2=sprites_create__P12026_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.tmp_1;s.pc=21;return s.tmp_2;case 21:r0=s.retval;s.s___19357=r0;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=22;return s.tmp_0;case 22:r0=s.retval;s.sc___19362=r0;s.tmp_0=Sprite_vx__P12038_mk(s);s.tmp_0.arg0=s.s___19357;s.tmp_0.arg1=s.arg1;s.pc=23;return s.tmp_0;case 23:r0=s.retval;s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=s.s___19357;s.tmp_0.arg1=s.arg2;s.pc=24;return s.tmp_0;case 24:r0=s.retval;r0=s.sc___19362.fields[\"tileMap\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.s___19357.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=0-s.tmp_1;{step=4;continue}case 3:r0=s.s___19357.fields[\"_image\"];s.tmp_6=r0;r0=pxsim_ImageMethods.width(s.tmp_6);s.tmp_5=r0;r0=s.tmp_5>>1;s.tmp_4=r0;r0=s.tmp_4-1;case 4:s.tmp_7=r0;s.xOff___19370=s.tmp_7;r0=s.sc___19362.fields[\"tileMap\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.s___19357.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=0-s.tmp_1;{step=6;continue}case 5:r0=s.s___19357.fields[\"_image\"];s.tmp_6=r0;r0=pxsim_ImageMethods.height(s.tmp_6);s.tmp_5=r0;r0=s.tmp_5>>1;s.tmp_4=r0;r0=s.tmp_4-1;case 6:s.tmp_7=r0;s.yOff___19378=s.tmp_7;case 7:r0=s.arg1==0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=8;continue}r0=s.tmp_0;{step=9;continue}case 8:r0=s.arg2==0;case 9:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=10;continue}r0=pxsim.Math_.randomRange(-100,100);s.arg1=r0;r0=pxsim.Math_.randomRange(-100,100);s.arg2=r0;{step=7;continue}case 10:r0=s.arg1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}s.tmp_1=Sprite_x__P12034_mk(s);s.tmp_1.arg0=s.s___19357;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2+s.xOff___19370;s.tmp_1.arg1=r0;s.pc=25;return s.tmp_1;case 25:r0=s.retval;{step=14;continue}case 11:r0=s.arg1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=12;continue}s.tmp_1=Sprite_x__P12034_mk(s);s.tmp_1.arg0=s.s___19357;r0=0-s.xOff___19370;s.tmp_1.arg1=r0;s.pc=26;return s.tmp_1;case 26:r0=s.retval;case 12:case 13:case 14:r0=s.arg2<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}s.tmp_1=Sprite_y__P12036_mk(s);s.tmp_1.arg0=s.s___19357;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2+s.yOff___19378;s.tmp_1.arg1=r0;s.pc=27;return s.tmp_1;case 27:r0=s.retval;{step=18;continue}case 15:r0=s.arg2>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=16;continue}s.tmp_1=Sprite_y__P12036_mk(s);s.tmp_1.arg0=s.s___19357;r0=0-s.yOff___19378;s.tmp_1.arg1=r0;s.pc=28;return s.tmp_1;case 28:r0=s.retval;case 16:case 17:case 18:s.tmp_0=r0=s.s___19357;r0=s.tmp_0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2|4;s.tmp_1=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_1;s.tmp_0=r0=s.s___19357;r0=s.tmp_0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2|16;s.tmp_1=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_1;r0=pxsim_numops_toBoolDecr(s.arg4);if(!r0){step=19;continue}s.tmp_0=Sprite_x__P12034_mk(s);s.tmp_0.arg0=s.s___19357;s.tmp_1=Sprite_x__P12033_mk(s);s.tmp_1.arg0=s.arg4;s.pc=30;return s.tmp_1;case 30:r0=s.retval;s.tmp_0.arg1=r0;s.pc=29;return s.tmp_0;case 29:r0=s.retval;s.tmp_0=Sprite_y__P12036_mk(s);s.tmp_0.arg0=s.s___19357;s.tmp_1=Sprite_y__P12035_mk(s);s.tmp_1.arg0=s.arg4;s.pc=32;return s.tmp_1;case 32:r0=s.retval;s.tmp_0.arg1=r0;s.pc=31;return s.tmp_0;case 31:r0=s.retval;case 19:case 20:r0=s.s___19357;return leave(s,r0);default:oops()}}}sprites_createProjectile__P12030.info={start:4034,length:1115,line:106,column:4,endLine:142,endColumn:5,fileName:\"pxt_modules/game/sprites.ts\",functionName:\"createProjectile\",argumentNames:[\"img\",\"vx\",\"vy\",\"kind\",\"sprite\"]};function sprites_createProjectile__P12030_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_createProjectile__P12030,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,s___19357:undefined,sc___19362:undefined,xOff___19370:undefined,yOff___19378:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function Sprite_height__P12054(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"];s.tmp_0=r0;r0=pxsim_ImageMethods.height(s.tmp_0);return leave(s,r0);default:oops()}}}Sprite_height__P12054.info={start:7866,length:54,line:279,column:4,endLine:281,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"height\",argumentNames:[\"this\"]};function Sprite_height__P12054_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_height__P12054,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite_width__P12053(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"];s.tmp_0=r0;r0=pxsim_ImageMethods.width(s.tmp_0);return leave(s,r0);default:oops()}}}Sprite_width__P12053.info={start:7721,length:52,line:274,column:4,endLine:276,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"width\",argumentNames:[\"this\"]};function Sprite_width__P12053_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_width__P12053,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite_vx__P12038(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_vx\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_vx__P12038.info={start:2030,length:51,line:80,column:4,endLine:82,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"vx\",argumentNames:[\"this\",\"v\"]};function Sprite_vx__P12038_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_vx__P12038,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function Sprite_vx__P12037(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_vx\"];s.tmp_0=r0;r0=s.tmp_0/256;return leave(s,r0);default:oops()}}}Sprite_vx__P12037.info={start:1868,length:60,line:75,column:4,endLine:77,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"vx\",argumentNames:[\"this\"]};function Sprite_vx__P12037_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_vx__P12037,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Fx_toFloat__P11524(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0/256;return leave(s,r0);default:oops()}}}Fx_toFloat__P11524.info={start:2087,length:81,line:68,column:4,endLine:70,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"toFloat\",argumentNames:[\"v\"]};function Fx_toFloat__P11524_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_toFloat__P11524,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function Sprite_y__P12036(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=Sprite_top__P12060_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=r0=s.arg1;r0=s.arg0.fields[\"_image\"];s.tmp_4=r0;r0=pxsim_ImageMethods.height(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_y__P12036.info={start:1677,length:73,line:69,column:4,endLine:71,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"y\",argumentNames:[\"this\",\"v\"]};function Sprite_y__P12036_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_y__P12036,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function Sprite_top__P12060(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.physics___19322=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=r0.fields[\"physicsEngine\"];s.physics___19322=r0;s.tmp_0=PhysicsEngine__C12133_v2_4_mk(s);s.tmp_0.arg0=s.physics___19322;s.tmp_0.arg1=s.arg0;s.tmp_0.arg2=globals.zeroFx8___11504;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.arg0.fields[\"_y\"];s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0.arg3=r0;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.moveSprite;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_top__P12060.info={start:8932,length:256,line:320,column:4,endLine:330,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"top\",argumentNames:[\"this\",\"value\"]};function Sprite_top__P12060_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_top__P12060,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,physics___19322:undefined,arg0:undefined,arg1:undefined}}function PhysicsEngine_moveSprite__P12136(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}PhysicsEngine_moveSprite__P12136.info={start:230,length:43,line:13,column:4,endLine:13,endColumn:47,fileName:\"pxt_modules/game/physics.ts\",functionName:\"moveSprite\",argumentNames:[\"this\",\"s\",\"dx\",\"dy\"]};function PhysicsEngine_moveSprite__P12136_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_moveSprite__P12136,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function Fx_sub__P11513(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0-s.arg1;return leave(s,r0);default:oops()}}}Fx_sub__P11513.info={start:736,length:118,line:26,column:4,endLine:28,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"sub\",argumentNames:[\"a\",\"b\"]};function Fx_sub__P11513_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_sub__P11513,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Sprite_top__P12059(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_y\"];s.tmp_0=r0;r0=s.tmp_0+128;s.tmp_1=r0;r0=s.tmp_1>>8;return leave(s,r0);default:oops()}}}Sprite_top__P12059.info={start:8803,length:51,line:315,column:4,endLine:317,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"top\",argumentNames:[\"this\"]};function Sprite_top__P12059_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_top__P12059,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Fx_toInt__P11523(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0+128;s.tmp_0=r0;r0=s.tmp_0>>8;return leave(s,r0);default:oops()}}}Fx_toInt__P11523.info={start:1996,length:86,line:65,column:4,endLine:67,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"toInt\",argumentNames:[\"v\"]};function Fx_toInt__P11523_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_toInt__P11523,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite_y__P12035(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_y\"];s.tmp_1=r0;r0=s.tmp_1+128;s.tmp_2=r0;r0=s.tmp_2>>8;s.tmp_0=r0;r0=s.arg0.fields[\"_image\"];s.tmp_5=r0;r0=pxsim_ImageMethods.height(s.tmp_5);s.tmp_4=r0;r0=s.tmp_4>>1;s.tmp_3=r0;r0=s.tmp_0+s.tmp_3;return leave(s,r0);default:oops()}}}Sprite_y__P12035.info={start:1505,length:84,line:64,column:4,endLine:66,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"y\",argumentNames:[\"this\"]};function Sprite_y__P12035_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_y__P12035,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined}}function game_runtime__P12456(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_1;case 1:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0.fields[\"_millis\"];return leave(s,r0);default:oops()}}}game_runtime__P12456.info={start:9690,length:81,line:318,column:4,endLine:320,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"runtime\",argumentNames:[]};function game_runtime__P12456_mk(s){checkStack(s.depth);return{parent:s,fn:game_runtime__P12456,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function scene_Scene_millis__P12351(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"_millis\"];return leave(s,r0);default:oops()}}}scene_Scene_millis__P12351.info={start:5724,length:61,line:164,column:8,endLine:166,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"millis\",argumentNames:[\"this\"]};function scene_Scene_millis__P12351_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_millis__P12351,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function forever__P11929(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_forever__P12453_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}forever__P11929.info={start:264,length:62,line:6,column:0,endLine:8,endColumn:1,fileName:\"pxt_modules/game/gameoverrides.ts\",functionName:\"forever\",argumentNames:[\"a\"]};function forever__P11929_mk(s){checkStack(s.depth);return{parent:s,fn:forever__P11929,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function game_forever__P12453(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals.foreverRunning___12452);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}globals.foreverRunning___12452=true;r0=pxsim.control.runInParallel(inline__P13634);case 1:case 2:r0=pxsim_pxtcore_mkClassInstance(scene_GameForeverHandler__C12327_VT);s.tmp_0=r0;s.tmp_1=scene_GameForeverHandler_constructor__P12328_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_3=game_currentScene__P12194_mk(s);s.pc=4;return s.tmp_3;case 4:r0=s.retval;r0=r0.fields[\"gameForeverHandlers\"];s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_2,s.tmp_0);r0=undefined;return leave(s,r0);default:oops()}}}game_forever__P12453.info={start:8009,length:820,line:263,column:4,endLine:286,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"forever\",argumentNames:[\"action\"]};function game_forever__P12453_mk(s){checkStack(s.depth);return{parent:s,fn:game_forever__P12453,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function inline__P13634(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.handlers___13636=undefined;case 1:r0=pxsim_numops_toBoolDecr(1);if(!r0){step=2;continue}s.tmp_0=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=r0.fields[\"gameForeverHandlers\"];s.handlers___13636=r0;s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.handlers___13636;s.tmp_0.arg1=inline__P13644;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=20;s.pc=5;return s.tmp_0;case 5:r0=s.retval;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P13634.info={start:8161,length:535,line:266,column:34,endLine:280,endColumn:13,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[]};function inline__P13634_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13634,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,handlers___13636:undefined}}function inline__P13644(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"lock\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"lock\"]=true;r0=pxsim_pxtcore_mkAction(1,inline__P13653);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim.control.runInParallel(s.tmp_0);case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P13644.info={start:8312,length:319,line:269,column:37,endLine:277,endColumn:21,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P13644_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13644,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P13653(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=lambda_1_mk(s);r0=s.caps[0].fields[\"handler\"];s.tmp_0.argL=r0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=s.caps[0].fields[\"lock\"]=false;r0=undefined;return leave(s,r0);default:oops()}}}inline__P13653.info={start:8451,length:130,line:272,column:50,endLine:275,endColumn:29,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[]};function inline__P13653_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13653,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function scene_GameForeverHandler_constructor__P12328(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_GameForeverHandler__C12327_VT))failedCast(r0);r0=s.arg0.fields[\"handler\"]=s.arg1;return leave(s,r0);default:oops()}}}scene_GameForeverHandler_constructor__P12328.info={start:643,length:65,line:29,column:8,endLine:31,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[\"this\",\"handler\"]};function scene_GameForeverHandler_constructor__P12328_mk(s){checkStack(s.depth);return{parent:s,fn:scene_GameForeverHandler_constructor__P12328,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function helpers_arrayForEach__P11472(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.len___13671=undefined;s.i___13674=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__length(s.arg0);s.len___13671=r0;s.i___13674=0;case 1:r0=s.i___13674<s.len___13671;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=lambda_3_mk(s);s.tmp_1.argL=s.arg1;r0=pxsim_Array__getAt(s.arg0,s.i___13674);s.tmp_1.arg0=r0;s.tmp_1.arg1=s.i___13674;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=s.i___13674+1;s.i___13674=r0;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}helpers_arrayForEach__P11472.info={start:4686,length:250,line:158,column:4,endLine:163,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayForEach\",argumentNames:[\"arr\",\"callbackfn\"]};function helpers_arrayForEach__P11472_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayForEach__P11472,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,len___13671:undefined,i___13674:undefined,arg0:undefined,arg1:undefined}}function info_changeScoreBy__P12227(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=info_PlayerInfo_changeScoreBy__P12254_mk(s);s.tmp_0.arg0=globals.player1___12270;s.tmp_0.arg1=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}info_changeScoreBy__P12227.info={start:7719,length:90,line:264,column:4,endLine:266,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"changeScoreBy\",argumentNames:[\"value\"]};function info_changeScoreBy__P12227_mk(s){checkStack(s.depth);return{parent:s,fn:info_changeScoreBy__P12227,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function info_PlayerInfo_constructor__P12265(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);r0=s.arg0.fields[\"_player\"]=s.arg1;r0=s.arg0.fields[\"border\"]=1;r0=s.arg0.fields[\"fc\"]=1;r0=s.arg0.fields[\"visilibity\"]=0;r0=s.arg0.fields[\"showScore\"]=undefined;r0=s.arg0.fields[\"showLife\"]=undefined;r0=s.arg0.fields[\"showPlayer\"]=undefined;r0=s.arg0.fields[\"left\"]=undefined;r0=s.arg0.fields[\"up\"]=undefined;r0=s.arg0.fields[\"_player\"];s.tmp_1=r0;r0=s.tmp_1===1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=1;continue}r0=0;{step=2;continue}case 1:r0=2;case 2:s.tmp_3=r0;r0=s.arg0.fields[\"bg\"]=s.tmp_3;r0=s.arg0.fields[\"x\"]=0;r0=s.arg0.fields[\"y\"]=0;{step=14;continue}case 3:r0=s.arg1===2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=4;continue}r0=0;{step=5;continue}case 4:r0=8;case 5:s.tmp_2=r0;r0=s.arg0.fields[\"bg\"]=s.tmp_2;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_1=r0;r0=s.tmp_0.fields[\"x\"]=s.tmp_1;r0=s.arg0.fields[\"y\"]=0;r0=s.arg0.fields[\"left\"]=true;{step=13;continue}case 6:r0=s.arg1===3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=7;continue}r0=0;{step=8;continue}case 7:r0=4;case 8:s.tmp_2=r0;r0=s.arg0.fields[\"bg\"]=s.tmp_2;r0=s.arg0.fields[\"x\"]=0;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_1=r0;r0=s.tmp_0.fields[\"y\"]=s.tmp_1;r0=s.arg0.fields[\"up\"]=true;{step=12;continue}case 9:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=10;continue}r0=0;{step=11;continue}case 10:r0=7;case 11:s.tmp_1=r0;r0=s.arg0.fields[\"bg\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_1=r0;r0=s.tmp_0.fields[\"x\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_1=r0;r0=s.tmp_0.fields[\"y\"]=s.tmp_1;r0=s.arg0.fields[\"left\"]=true;r0=s.arg0.fields[\"up\"]=true;case 12:case 13:case 14:r0=pxsim_numops_toBoolDecr(globals.players___12171);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}r0=pxsim_Array__mk();globals.players___12171=r0;case 15:case 16:s.tmp_0=r0=globals.players___12171;r0=s.arg0.fields[\"_player\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_Array_.setAt(s.tmp_0,s.tmp_1,s.arg0);return leave(s,r0);default:oops()}}}info_PlayerInfo_constructor__P12265.info={start:15459,length:1370,line:516,column:8,endLine:553,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"this\",\"player\"]};function info_PlayerInfo_constructor__P12265_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_constructor__P12265,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function info_PlayerInfo_changeScoreBy__P12254(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_setScore__P12253_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_2=info_PlayerInfo_score__P12252_mk(s);s.tmp_2.arg0=s.arg0;s.pc=2;return s.tmp_2;case 2:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1+s.arg1;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_changeScoreBy__P12254.info={start:18528,length:95,line:613,column:8,endLine:615,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"changeScoreBy\",argumentNames:[\"this\",\"value\"]};function info_PlayerInfo_changeScoreBy__P12254_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_changeScoreBy__P12254,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function info_PlayerInfo_setScore__P12253(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___15069=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.state___15069=r0;s.tmp_0=info_updateFlag__P12240_mk(s);s.tmp_0.arg0=2;s.tmp_0.arg1=true;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=info_PlayerInfo_score__P12252_mk(s);s.tmp_0.arg0=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=r0=s.state___15069;r0=s.arg1|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"score\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_setScore__P12253.info={start:18041,length:220,line:597,column:8,endLine:603,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"setScore\",argumentNames:[\"this\",\"value\"]};function info_PlayerInfo_setScore__P12253_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_setScore__P12253,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,state___15069:undefined,arg0:undefined,arg1:undefined}}function info_PlayerInfo_getState__P12250(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_init__P12249_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=globals.infoState___12170.fields[\"playerStates\"];s.tmp_0=r0;r0=s.arg0.fields[\"_player\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}info_PlayerInfo_getState__P12250.info={start:17101,length:121,line:563,column:8,endLine:566,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"getState\",argumentNames:[\"this\"]};function info_PlayerInfo_getState__P12250_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_getState__P12250,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function info_PlayerInfo_init__P12249(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_initHUD__P12218_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=s.arg0.fields[\"_player\"];s.tmp_1=r0;r0=s.tmp_1>1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=info_initMultiHUD__P12219_mk(s);s.pc=6;return s.tmp_2;case 6:r0=s.retval;case 1:case 2:r0=globals.infoState___12170.fields[\"playerStates\"];s.tmp_3=r0;r0=s.arg0.fields[\"_player\"];s.tmp_5=r0;r0=s.tmp_5-1;s.tmp_4=r0;r0=pxsim_Array__getAt(s.tmp_3,s.tmp_4);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkClassInstance(info_PlayerState__C12165_VT);s.tmp_6=r0;s.tmp_7=info_PlayerState_constructor__P12166_mk(s);s.tmp_7.arg0=s.tmp_6;s.pc=7;return s.tmp_7;case 7:r0=s.retval;r0=globals.infoState___12170.fields[\"playerStates\"];s.tmp_8=r0;r0=s.arg0.fields[\"_player\"];s.tmp_10=r0;r0=s.tmp_10-1;s.tmp_9=r0;r0=pxsim_Array_.setAt(s.tmp_8,s.tmp_9,s.tmp_6);case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_init__P12249.info={start:16839,length:252,line:555,column:8,endLine:561,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"init\",argumentNames:[\"this\"]};function info_PlayerInfo_init__P12249_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_init__P12249,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,arg0:undefined}}function info_initMultiHUD__P12219(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_1=r0;r0=s.tmp_1&16;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:s.tmp_2=r0=globals.infoState___12170;r0=s.tmp_2.fields[\"visibilityFlag\"];s.tmp_4=r0;r0=s.tmp_4|16;s.tmp_3=r0;r0=s.tmp_2.fields[\"visibilityFlag\"]=s.tmp_3;r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_3=r0;r0=s.tmp_3&32;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_4=r0=globals.infoState___12170;s.tmp_6=info_defaultMultiplayerHeartImage__P12221_mk(s);s.pc=6;return s.tmp_6;case 6:r0=s.retval;s.tmp_5=r0;r0=s.tmp_4.fields[\"heartImage\"]=s.tmp_5;case 3:case 4:s.tmp_0=r0=globals.infoState___12170;r0=pxsim.image.ofBuffer(_hex13868);s.tmp_1=r0;r0=s.tmp_0.fields[\"multiplierImage\"]=s.tmp_1;case 5:r0=undefined;return leave(s,r0);default:oops()}}}info_initMultiHUD__P12219.info={start:4706,length:393,line:150,column:4,endLine:161,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"initMultiHUD\",argumentNames:[]};function info_initMultiHUD__P12219_mk(s){checkStack(s.depth);return{parent:s,fn:info_initMultiHUD__P12219,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined}}const _hex13868=pxsim.BufferMethods.createBufferFromHex(\"8704030003000000010100001000000001010000\");function info_defaultMultiplayerHeartImage__P12221(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.image.ofBuffer(_hex13872);{step=2;continue}case 1:r0=pxsim.image.ofBuffer(_hex13874);case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}info_defaultMultiplayerHeartImage__P12221.info={start:5703,length:503,line:186,column:4,endLine:203,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"defaultMultiplayerHeartImage\",argumentNames:[]};function info_defaultMultiplayerHeartImage__P12221_mk(s){checkStack(s.depth);return{parent:s,fn:info_defaultMultiplayerHeartImage__P12221,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}const _hex13872=pxsim.BufferMethods.createBufferFromHex(\"870407000500000000000000100100000110000010000100011000001001000000000000\");const _hex13874=pxsim.BufferMethods.createBufferFromHex(\"870407000500000000000000100100002112000010240100411200001001000000000000\");function info_initHUD__P12218(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.infoState___12170);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:r0=pxsim_pxtcore_mkClassInstance(info_InfoState__C12167_VT);s.tmp_0=r0;s.tmp_1=info_InfoState_constructor__P12168_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=4;return s.tmp_1;case 4:r0=s.retval;globals.infoState___12170=s.tmp_0;s.tmp_0=scene_createRenderable__P12321_mk(s);s.tmp_0.arg0=100;s.tmp_0.arg1=inline__P13882;s.tmp_0.arg2=undefined;s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}info_initHUD__P12218.info={start:2588,length:2112,line:97,column:4,endLine:148,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"initHUD\",argumentNames:[]};function info_initHUD__P12218_mk(s){checkStack(s.depth);return{parent:s,fn:info_initHUD__P12218,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function inline__P13882(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ps___13889=undefined;s.p___13909=undefined;s.scene___13940=undefined;s.elapsed___13942=undefined;s.t___13949=undefined;r0=pxsim_numops_toBoolDecr(globals.infoState___12170);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=23;continue}case 1:case 2:r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_1=r0;r0=s.tmp_1&16;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=helpers_arrayFilter__P11473_mk(s);s.tmp_2.arg0=globals.players___12171;s.tmp_2.arg1=inline__P13893;s.pc=24;return s.tmp_2;case 24:r0=s.retval;s.ps___13889=r0;s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.ps___13889;s.tmp_0.arg1=inline__P13899;s.pc=25;return s.tmp_0;case 25:r0=s.retval;s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.ps___13889;s.tmp_0.arg1=inline__P13905;s.pc=26;return s.tmp_0;case 26:r0=s.retval;{step=12;continue}case 3:s.p___13909=globals.player1___12270;s.tmp_1=info_PlayerInfo_hasScore__P12255_mk(s);s.tmp_1.arg0=s.p___13909;s.pc=27;return s.tmp_1;case 27:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=4;continue}r0=s.tmp_0;{step=5;continue}case 4:r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_2=r0;r0=s.tmp_2&2;case 5:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=6;continue}s.tmp_4=info_PlayerInfo_drawScore__P12263_mk(s);s.tmp_4.arg0=s.p___13909;s.pc=28;return s.tmp_4;case 28:r0=s.retval;case 6:case 7:s.tmp_1=info_PlayerInfo_hasLife__P12259_mk(s);s.tmp_1.arg0=s.p___13909;s.pc=29;return s.tmp_1;case 29:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=8;continue}r0=s.tmp_0;{step=9;continue}case 8:r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_2=r0;r0=s.tmp_2&4;case 9:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=10;continue}s.tmp_4=info_PlayerInfo_drawLives__P12264_mk(s);s.tmp_4.arg0=s.p___13909;s.pc=30;return s.tmp_4;case 30:r0=s.retval;case 10:case 11:s.tmp_0=info_PlayerInfo_raiseLifeZero__P12261_mk(s);s.tmp_0.arg0=s.p___13909;s.tmp_0.arg1=true;s.pc=31;return s.tmp_0;case 31:r0=s.retval;case 12:r0=globals.infoState___12170.fields[\"gameEnd\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=13;continue}r0=s.tmp_0;{step=14;continue}case 13:r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_2=r0;r0=s.tmp_2&1;case 14:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=21;continue}s.tmp_4=game_currentScene__P12194_mk(s);s.pc=32;return s.tmp_4;case 32:r0=s.retval;s.scene___13940=r0;r0=globals.infoState___12170.fields[\"gameEnd\"];s.tmp_0=r0;r0=s.scene___13940.fields[\"_millis\"];s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.elapsed___13942=r0;s.tmp_0=info_drawTimer__P12247_mk(s);s.tmp_0.arg0=s.elapsed___13942;s.pc=33;return s.tmp_0;case 33:r0=s.retval;r0=s.elapsed___13942/1e3;s.t___13949=r0;r0=s.t___13949<=0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=19;continue}s.t___13949=0;r0=globals.infoState___12170.fields[\"countdownExpired\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}r0=globals.infoState___12170.fields[\"countdownExpired\"]=true;r0=globals.infoState___12170.fields[\"countdownEndHandler\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}s.tmp_1=lambda_1_mk(s);r0=globals.infoState___12170.fields[\"countdownEndHandler\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=34;return s.tmp_1;case 34:r0=s.retval;r0=globals.infoState___12170.fields[\"gameEnd\"]=undefined;{step=16;continue}case 15:s.tmp_0=game_over__P12449_mk(s);s.tmp_0.arg0=false;s.tmp_0.arg1=undefined;s.pc=35;return s.tmp_0;case 35:r0=s.retval;case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:r0=undefined;return leave(s,r0);default:oops()}}}inline__P13882.info={start:2748,length:1935,line:104,column:12,endLine:146,endColumn:13,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[]};function inline__P13882_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13882,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,ps___13889:undefined,p___13909:undefined,scene___13940:undefined,elapsed___13942:undefined,t___13949:undefined}}function inline__P13893(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P13893.info={start:2996,length:8,line:109,column:46,endLine:109,endColumn:54,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"p\"]};function inline__P13893_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13893,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P13899(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=info_PlayerInfo_drawPlayer__P12262_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P13899.info={start:3080,length:19,line:111,column:31,endLine:111,endColumn:50,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"p\"]};function inline__P13899_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13899,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function inline__P13905(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=info_PlayerInfo_raiseLifeZero__P12261_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=false;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P13905.info={start:3182,length:27,line:113,column:31,endLine:113,endColumn:58,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"p\"]};function inline__P13905_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P13905,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function scene_createRenderable__P12321(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.renderable___14968=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_pxtcore_mkClassInstance(scene_Renderable__C12315_VT);s.tmp_0=r0;s.tmp_1=r0=s.arg2;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=1;continue}r0=s.tmp_1;{step=2;continue}case 1:r0=inline__P14973;case 2:s.tmp_2=r0;s.tmp_3=scene_Renderable_constructor__P12320_mk(s);s.tmp_3.arg0=s.tmp_0;s.tmp_3.arg1=s.arg1;s.tmp_3.arg2=s.tmp_2;s.tmp_3.arg3=s.arg0;s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.renderable___14968=s.tmp_0;r0=s.renderable___14968;return leave(s,r0);default:oops()}}}scene_createRenderable__P12321.info={start:608,length:339,line:24,column:4,endLine:36,endColumn:5,fileName:\"pxt_modules/game/renderable.ts\",functionName:\"createRenderable\",argumentNames:[\"z\",\"handler\",\"shouldBeVisible\"]};function scene_createRenderable__P12321_mk(s){checkStack(s.depth);return{parent:s,fn:scene_createRenderable__P12321,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,renderable___14968:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P14973(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=true;return leave(s,r0);default:oops()}}}inline__P14973.info={start:875,length:10,line:31,column:32,endLine:31,endColumn:42,fileName:\"pxt_modules/game/renderable.ts\",functionName:\"inline\",argumentNames:[]};function inline__P14973_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P14973,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function scene_Renderable_constructor__P12320(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Renderable__C12315_VT))failedCast(r0);r0=s.arg0.fields[\"handler\"]=s.arg1;r0=s.arg0.fields[\"shouldBeVisible\"]=s.arg2;s.tmp_0=sprites_BaseSprite_constructor__P11940_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg3;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}scene_Renderable_constructor__P12320.info={start:83,length:212,line:2,column:8,endLine:8,endColumn:9,fileName:\"pxt_modules/game/renderable.ts\",functionName:\"inline\",argumentNames:[\"this\",\"handler\",\"shouldBeVisible\",\"z\"]};function scene_Renderable_constructor__P12320_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Renderable_constructor__P12320,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function sprites_BaseSprite_constructor__P11940(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);s.tmp_0=sprites_BaseSprite__C11932_v2_2_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;if(!checkSubtype(s.tmp_0.arg0,sprites_BaseSprite__C11932_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=scene_Scene_addSprite__P12352_mk(s);s.tmp_1=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;return leave(s,r0);default:oops()}}}sprites_BaseSprite_constructor__P11940.info={start:344,length:170,line:15,column:8,endLine:20,endColumn:9,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"inline\",argumentNames:[\"this\",\"z\"]};function sprites_BaseSprite_constructor__P11940_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite_constructor__P11940,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function scene_Scene_addSprite__P12352(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"allSprites\"];s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg1);s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"spriteNextId\"];s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_1=r0;r0=s.tmp_0.fields[\"spriteNextId\"]=s.tmp_1;s.tmp_3=if_id_2_mk(s);s.tmp_3.arg0=s.arg1;s.tmp_3.arg1=s.tmp_2;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_3.arg0,\"id\",s.tmp_3.arg1)}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"set/id\"];if(s.tmp_3.fn===null){s.tmp_3.arg0.fields[\"id\"]=s.tmp_3.arg1}else if(s.tmp_3.fn===undefined){failedCast(s.tmp_3.arg0)}else{s.pc=1;return s.tmp_3}}case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_Scene_addSprite__P12352.info={start:5795,length:128,line:168,column:8,endLine:171,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"addSprite\",argumentNames:[\"this\",\"sprite\"]};function scene_Scene_addSprite__P12352_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_addSprite__P12352,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function sprites_BaseSprite_z__P11935(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);r0=s.arg0.fields[\"_z\"];s.tmp_1=r0;r0=s.tmp_1!==s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"_z\"]=s.arg1;s.tmp_1=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0.fields[\"flags\"];s.tmp_3=r0;r0=s.tmp_3|2;s.tmp_2=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_2;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}sprites_BaseSprite_z__P11935.info={start:656,length:174,line:30,column:8,endLine:35,endColumn:9,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"z\",argumentNames:[\"this\",\"v\"]};function sprites_BaseSprite_z__P11935_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite_z__P11935,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function sprites_BaseSprite_z__P11934(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);r0=s.arg0.fields[\"_z\"];return leave(s,r0);default:oops()}}}sprites_BaseSprite_z__P11934.info={start:591,length:55,line:26,column:8,endLine:28,endColumn:9,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"z\",argumentNames:[\"this\"]};function sprites_BaseSprite_z__P11934_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite_z__P11934,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function info_PlayerInfo_drawLives__P12264(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___14424=undefined;s.font___14429=undefined;s.i___14465=undefined;s.num___14485=undefined;s.textWidth___14492=undefined;s.mult___14538=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=8;return s.tmp_0;case 8:r0=s.retval;s.state___14424=r0;r0=s.state___14424.fields[\"life\"];s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:s.font___14429=globals.font8___11848;r0=s.state___14424.fields[\"life\"];s.tmp_1=r0;r0=s.tmp_1<=4;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_2=helpers_imageFillRect__P11836_mk(s);s.tmp_2.arg0=globals.screen___11888;s.tmp_2.arg1=0;s.tmp_2.arg2=0;r0=s.state___14424.fields[\"life\"];s.tmp_4=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_7=r0;r0=pxsim_ImageMethods.width(s.tmp_7);s.tmp_6=r0;r0=s.tmp_6+1;s.tmp_5=r0;r0=s.tmp_4*s.tmp_5;s.tmp_3=r0;r0=s.tmp_3+3;s.tmp_2.arg3=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_9=r0;r0=pxsim_ImageMethods.height(s.tmp_9);s.tmp_8=r0;r0=s.tmp_8+4;s.tmp_2.arg4=r0;r0=globals.infoState___12170.fields[\"borderColor\"];s.tmp_2.arg5=r0;s.pc=9;return s.tmp_2;case 9:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=0;s.tmp_0.arg2=0;r0=s.state___14424.fields[\"life\"];s.tmp_2=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_4+1;s.tmp_3=r0;r0=s.tmp_2*s.tmp_3;s.tmp_1=r0;r0=s.tmp_1+2;s.tmp_0.arg3=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_7=r0;r0=pxsim_ImageMethods.height(s.tmp_7);s.tmp_6=r0;r0=s.tmp_6+3;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"bgColor\"];s.tmp_0.arg5=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.i___14465=0;case 3:r0=s.state___14424.fields[\"life\"];s.tmp_1=r0;r0=s.i___14465<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_2=r0=globals.screen___11888;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_3=r0;s.tmp_6=r0=s.i___14465;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_9=r0;r0=pxsim_ImageMethods.width(s.tmp_9);s.tmp_8=r0;r0=s.tmp_8+1;s.tmp_7=r0;r0=s.tmp_6*s.tmp_7;s.tmp_5=r0;r0=1+s.tmp_5;s.tmp_4=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_2,s.tmp_3,s.tmp_4,1);r0=s.i___14465+1;s.i___14465=r0;{step=3;continue}case 4:{step=6;continue}case 5:r0=s.state___14424.fields[\"life\"];s.tmp_1=r0;if(s.tmp_1&&s.tmp_1.vtable){setupResume(s,11);pxsim_String__stringConv(s.tmp_1);checkResumeConsumed();return}else{s.retval=s.tmp_1+\"\"}case 11:r0=s.retval;s.tmp_0=r0;r0=pxsim_String_.mkEmpty();s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_0,s.tmp_2);s.num___14485=r0;r0=pxsim_String_.length(s.num___14485);s.tmp_1=r0;s.tmp_3=if_charWidth_1_mk(s);s.tmp_3.arg0=s.font___14429;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"charWidth\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"charWidth\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"charWidth\"]}else{s.pc=12;return s.tmp_3}}case 12:r0=s.retval;s.tmp_2=r0;r0=s.tmp_1*s.tmp_2;s.tmp_0=r0;r0=s.tmp_0-1;s.textWidth___14492=r0;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=0;s.tmp_0.arg2=0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_6=r0;r0=pxsim_ImageMethods.width(s.tmp_6);s.tmp_5=r0;r0=s.tmp_3+s.tmp_5;s.tmp_2=r0;r0=s.tmp_2+s.textWidth___14492;s.tmp_1=r0;r0=s.tmp_1+5;s.tmp_0.arg3=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_8=r0;r0=pxsim_ImageMethods.height(s.tmp_8);s.tmp_7=r0;r0=s.tmp_7+4;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"borderColor\"];s.tmp_0.arg5=r0;s.pc=13;return s.tmp_0;case 13:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=0;s.tmp_0.arg2=0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_6=r0;r0=pxsim_ImageMethods.width(s.tmp_6);s.tmp_5=r0;r0=s.tmp_3+s.tmp_5;s.tmp_2=r0;r0=s.tmp_2+s.textWidth___14492;s.tmp_1=r0;r0=s.tmp_1+4;s.tmp_0.arg3=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_8=r0;r0=pxsim_ImageMethods.height(s.tmp_8);s.tmp_7=r0;r0=s.tmp_7+3;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"bgColor\"];s.tmp_0.arg5=r0;s.pc=14;return s.tmp_0;case 14:r0=s.retval;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_0=r0;r0=pxsim_ImageMethods.drawTransparentImage(globals.screen___11888,s.tmp_0,1,1);r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_0=r0;r0=pxsim_ImageMethods.clone(s.tmp_0);s.mult___14538=r0;r0=globals.infoState___12170.fields[\"fontColor\"];s.tmp_0=r0;r0=pxsim_ImageMethods.replace(s.mult___14538,1,s.tmp_0);s.tmp_0=r0=globals.screen___11888;s.tmp_1=r0=s.mult___14538;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3+2;s.tmp_2=r0;s.tmp_8=if_charHeight_1_mk(s);s.tmp_8.arg0=s.font___14429;if(!s.tmp_8.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_8.arg0,\"charHeight\")}else{s.tmp_8.fn=s.tmp_8.arg0.vtable.iface[\"charHeight\"];if(s.tmp_8.fn==null){s.retval=s.tmp_8.arg0.fields[\"charHeight\"]}else{s.pc=15;return s.tmp_8}}case 15:r0=s.retval;s.tmp_7=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_10=r0;r0=pxsim_ImageMethods.height(s.tmp_10);s.tmp_9=r0;r0=s.tmp_7-s.tmp_9;s.tmp_6=r0;r0=s.tmp_6-1;s.tmp_5=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_2,s.tmp_5);s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.num___14485;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.tmp_2+3;s.tmp_1=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_1+s.tmp_4;s.tmp_0.arg2=r0;s.tmp_0.arg3=1;r0=globals.infoState___12170.fields[\"fontColor\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=s.font___14429;s.tmp_0.arg6=undefined;s.pc=16;return s.tmp_0;case 16:r0=s.retval;case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_drawLives__P12264.info={start:25972,length:2458,line:848,column:8,endLine:914,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"drawLives\",argumentNames:[\"this\"]};function info_PlayerInfo_drawLives__P12264_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_drawLives__P12264,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,state___14424:undefined,font___14429:undefined,i___14465:undefined,num___14485:undefined,textWidth___14492:undefined,mult___14538:undefined,arg0:undefined}}function helpers_imagePrint__P11857(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.x0___14122=undefined;s.cp___14124=undefined;s.mult___14125=undefined;s.dataW___14131=undefined;s.dataH___14137=undefined;s.byteHeight___14143=undefined;s.charSize___14146=undefined;s.dataSize___14149=undefined;s.fontdata___14152=undefined;s.lastchar___14156=undefined;s.imgBuf___14163=undefined;s.xOffset___14185=undefined;s.yOffset___14186=undefined;s.ch___14200=undefined;s.l___14217=undefined;s.r___14218=undefined;s.off___14220=undefined;s.guess___14221=undefined;s.m___14237=undefined;s.v___14242=undefined;s.i___14289=undefined;s.j___14293=undefined;s.mask___14294=undefined;s.c___14295=undefined;s.n___14310=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.arg6=s.lambdaArgs[6];s.lambdaArgs=null}r0=s.arg2|0;s.arg2=r0;r0=s.arg3|0;s.arg3=r0;r0=pxsim_numops_toBoolDecr(s.arg5);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=image_getFontForText__P11850_mk(s);s.tmp_2.arg0=s.arg1;s.pc=39;return s.tmp_2;case 39:r0=s.retval;s.arg5=r0;case 1:case 2:r0=pxsim_numops_toBoolDecr(s.arg4);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.arg4=1;case 3:case 4:s.x0___14122=s.arg2;s.cp___14124=0;s.tmp_1=if_multiplier_1_mk(s);s.tmp_1.arg0=s.arg5;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"multiplier\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"multiplier\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"multiplier\"]}else{s.pc=40;return s.tmp_1}}case 40:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_2=if_multiplier_1_mk(s);s.tmp_2.arg0=s.arg5;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"multiplier\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"multiplier\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"multiplier\"]}else{s.pc=41;return s.tmp_2}}case 41:r0=s.retval;{step=6;continue}case 5:r0=1;case 6:s.tmp_3=r0;s.mult___14125=s.tmp_3;s.tmp_1=if_charWidth_1_mk(s);s.tmp_1.arg0=s.arg5;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"charWidth\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"charWidth\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"charWidth\"]}else{s.pc=42;return s.tmp_1}}case 42:r0=s.retval;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.mult___14125);s.dataW___14131=r0;s.tmp_1=if_charHeight_1_mk(s);s.tmp_1.arg0=s.arg5;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"charHeight\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"charHeight\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"charHeight\"]}else{s.pc=43;return s.tmp_1}}case 43:r0=s.retval;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.mult___14125);s.dataH___14137=r0;r0=s.dataH___14137+7;s.tmp_0=r0;r0=s.tmp_0>>3;s.byteHeight___14143=r0;r0=s.byteHeight___14143*s.dataW___14131;s.charSize___14146=r0;r0=2+s.charSize___14146;s.dataSize___14149=r0;s.tmp_0=if_data_1_mk(s);s.tmp_0.arg0=s.arg5;if(!s.tmp_0.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_0.arg0,\"data\")}else{s.tmp_0.fn=s.tmp_0.arg0.vtable.iface[\"data\"];if(s.tmp_0.fn==null){s.retval=s.tmp_0.arg0.fields[\"data\"]}else{s.pc=44;return s.tmp_0}}case 44:r0=s.retval;s.fontdata___14152=r0;r0=pxsim.BufferMethods.length(s.fontdata___14152);s.tmp_1=r0;r0=pxsim.Math_.idiv(s.tmp_1,s.dataSize___14149);s.tmp_0=r0;r0=s.tmp_0-1;s.lastchar___14156=r0;r0=s.mult___14125==1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=8+s.charSize___14146;s.tmp_1=r0;r0=pxsim.control.createBuffer(s.tmp_1);s.imgBuf___14163=r0;r0=pxsim.BufferMethods.setByte(s.imgBuf___14163,0,135);r0=pxsim.BufferMethods.setByte(s.imgBuf___14163,1,1);r0=pxsim.BufferMethods.setByte(s.imgBuf___14163,2,s.dataW___14131);r0=pxsim.BufferMethods.setByte(s.imgBuf___14163,4,s.dataH___14137);case 7:case 8:case 9:s.tmp_1=r0=s.cp___14124;r0=pxsim_String_.length(s.arg1);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=38;continue}s.xOffset___14185=0;s.yOffset___14186=0;s.tmp_0=r0=s.arg6;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=10;continue}r0=s.tmp_0;{step=11;continue}case 10:s.tmp_1=r0=s.cp___14124;r0=pxsim_Array__length(s.arg6);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;case 11:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=12;continue}s.tmp_4=if_xOffset_1_mk(s);r0=pxsim_Array__getAt(s.arg6,s.cp___14124);s.tmp_4.arg0=r0;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"xOffset\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"xOffset\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"xOffset\"]}else{s.pc=45;return s.tmp_4}}case 45:r0=s.retval;s.xOffset___14185=r0;s.tmp_0=if_yOffset_1_mk(s);r0=pxsim_Array__getAt(s.arg6,s.cp___14124);s.tmp_0.arg0=r0;if(!s.tmp_0.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_0.arg0,\"yOffset\")}else{s.tmp_0.fn=s.tmp_0.arg0.vtable.iface[\"yOffset\"];if(s.tmp_0.fn==null){s.retval=s.tmp_0.arg0.fields[\"yOffset\"]}else{s.pc=46;return s.tmp_0}}case 46:r0=s.retval;s.yOffset___14186=r0;case 12:case 13:s.tmp_0=r0=s.cp___14124;r0=s.tmp_0+1;s.cp___14124=r0;r0=pxsim_String_.charCodeAt(s.arg1,s.tmp_0);s.ch___14200=r0;r0=s.ch___14200==10;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}s.tmp_1=r0=s.arg3;s.tmp_4=if_charHeight_1_mk(s);s.tmp_4.arg0=s.arg5;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"charHeight\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"charHeight\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"charHeight\"]}else{s.pc=47;return s.tmp_4}}case 47:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3+2;s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.arg3=r0;s.arg2=s.x0___14122;case 14:case 15:r0=s.ch___14200<32;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=16;continue}{step=9;continue}case 16:case 17:s.l___14217=0;s.r___14218=s.lastchar___14156;s.off___14220=0;r0=s.ch___14200-32;s.tmp_0=r0;r0=s.tmp_0*s.dataSize___14149;s.guess___14221=r0;r0=pxsim.BufferMethods.getNumber(s.fontdata___14152,4,s.guess___14221);s.tmp_1=r0;r0=s.tmp_1==s.ch___14200;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=18;continue}s.off___14220=s.guess___14221;{step=25;continue}case 18:case 19:r0=s.l___14217<=s.r___14218;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=24;continue}s.tmp_1=r0=s.l___14217;r0=s.r___14218-s.l___14217;s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.m___14237=r0;s.tmp_0=r0=s.fontdata___14152;r0=s.m___14237*s.dataSize___14149;s.tmp_1=r0;r0=pxsim.BufferMethods.getNumber(s.tmp_0,4,s.tmp_1);s.v___14242=r0;r0=s.v___14242==s.ch___14200;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=20;continue}r0=s.m___14237*s.dataSize___14149;s.off___14220=r0;{step=24;continue}case 20:case 21:r0=s.v___14242<s.ch___14200;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=22;continue}r0=s.m___14237+1;s.l___14217=r0;{step=23;continue}case 22:r0=s.m___14237-1;s.r___14218=r0;case 23:{step=19;continue}case 24:case 25:r0=s.mult___14125==1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=26;continue}s.tmp_1=r0=s.imgBuf___14163;s.tmp_3=r0=s.fontdata___14152;r0=s.off___14220+2;s.tmp_4=r0;r0=pxsim.BufferMethods.slice(s.tmp_3,s.tmp_4,s.charSize___14146);s.tmp_2=r0;r0=pxsim.BufferMethods.write(s.tmp_1,8,s.tmp_2);s.tmp_0=helpers_imageDrawIcon__P11835_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.imgBuf___14163;r0=s.arg2+s.xOffset___14185;s.tmp_0.arg2=r0;r0=s.arg3+s.yOffset___14186;s.tmp_0.arg3=r0;s.tmp_0.arg4=s.arg4;s.pc=48;return s.tmp_0;case 48:r0=s.retval;s.tmp_0=r0=s.arg2;s.tmp_2=if_charWidth_1_mk(s);s.tmp_2.arg0=s.arg5;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charWidth\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charWidth\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charWidth\"]}else{s.pc=49;return s.tmp_2}}case 49:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.arg2=r0;{step=37;continue}case 26:r0=s.off___14220+2;s.off___14220=r0;s.i___14289=0;case 27:r0=s.i___14289<s.dataW___14131;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=36;continue}s.j___14293=0;s.mask___14294=1;s.tmp_0=r0=s.off___14220;r0=s.tmp_0+1;s.off___14220=r0;r0=pxsim.BufferMethods.getByte(s.fontdata___14152,s.tmp_0);s.c___14295=r0;case 28:r0=s.j___14293<s.dataH___14137;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=35;continue}r0=s.mask___14294==256;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=29;continue}s.tmp_2=r0=s.off___14220;r0=s.tmp_2+1;s.off___14220=r0;r0=pxsim.BufferMethods.getByte(s.fontdata___14152,s.tmp_2);s.c___14295=r0;s.mask___14294=1;case 29:case 30:s.n___14310=0;case 31:r0=s.c___14295&s.mask___14294;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=32;continue}r0=s.n___14310+1;s.n___14310=r0;r0=s.mask___14294<<1;s.mask___14294=r0;{step=31;continue}case 32:r0=pxsim_numops_toBoolDecr(s.n___14310);if(!r0){step=33;continue}s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=r0=s.arg2;r0=s.xOffset___14185*s.mult___14125;s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.tmp_0.arg1=r0;s.tmp_3=r0=s.arg3;r0=s.j___14293+s.yOffset___14186;s.tmp_5=r0;r0=s.tmp_5*s.mult___14125;s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.mult___14125;r0=s.mult___14125*s.n___14310;s.tmp_0.arg4=r0;s.tmp_0.arg5=s.arg4;s.pc=50;return s.tmp_0;case 50:r0=s.retval;r0=s.j___14293+s.n___14310;s.j___14293=r0;{step=34;continue}case 33:r0=s.mask___14294<<1;s.mask___14294=r0;r0=s.j___14293+1;s.j___14293=r0;case 34:{step=28;continue}case 35:r0=s.arg2+s.mult___14125;s.arg2=r0;r0=s.i___14289+1;s.i___14289=r0;{step=27;continue}case 36:case 37:{step=9;continue}case 38:r0=undefined;return leave(s,r0);default:oops()}}}helpers_imagePrint__P11857.info={start:15326,length:3300,line:213,column:4,endLine:306,endColumn:5,fileName:\"pxt_modules/screen/text.ts\",functionName:\"imagePrint\",argumentNames:[\"img\",\"text\",\"x\",\"y\",\"color\",\"font\",\"offsets\"]};function helpers_imagePrint__P11857_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imagePrint__P11857,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,x0___14122:undefined,cp___14124:undefined,mult___14125:undefined,dataW___14131:undefined,dataH___14137:undefined,byteHeight___14143:undefined,charSize___14146:undefined,dataSize___14149:undefined,fontdata___14152:undefined,lastchar___14156:undefined,imgBuf___14163:undefined,xOffset___14185:undefined,yOffset___14186:undefined,ch___14200:undefined,l___14217:undefined,r___14218:undefined,off___14220:undefined,guess___14221:undefined,m___14237:undefined,v___14242:undefined,i___14289:undefined,j___14293:undefined,mask___14294:undefined,c___14295:undefined,n___14310:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined,arg6:undefined}}function image_getFontForText__P11850(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___14388=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.i___14388=0;case 1:s.tmp_1=r0=s.i___14388;r0=pxsim_String_.length(s.arg0);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}r0=pxsim_String_.charCodeAt(s.arg0,s.i___14388);s.tmp_4=r0;r0=s.tmp_4>8192;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=2;continue}r0=globals.font12___11849;{step=5;continue}case 2:case 3:r0=s.i___14388+1;s.i___14388=r0;{step=1;continue}case 4:r0=globals.font8___11848;case 5:return leave(s,r0);default:oops()}}}image_getFontForText__P11850.info={start:11713,length:259,line:136,column:4,endLine:143,endColumn:5,fileName:\"pxt_modules/screen/text.ts\",functionName:\"getFontForText\",argumentNames:[\"text\"]};function image_getFontForText__P11850_mk(s){checkStack(s.depth);return{parent:s,fn:image_getFontForText__P11850,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,i___14388:undefined,arg0:undefined}}function helpers_imageDrawIcon__P11835(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.arg1;s.tmp_3=helpers_pack__P11833_mk(s);s.tmp_3.arg0=s.arg2;s.tmp_3.arg1=s.arg3;s.pc=1;return s.tmp_3;case 1:r0=s.retval;s.tmp_2=r0;r0=pxsim_ImageMethods._drawIcon(s.tmp_0,s.tmp_1,s.tmp_2,s.arg4);r0=undefined;return leave(s,r0);default:oops()}}}helpers_imageDrawIcon__P11835.info={start:3498,length:145,line:128,column:4,endLine:130,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"imageDrawIcon\",argumentNames:[\"img\",\"icon\",\"x\",\"y\",\"c\"]};function helpers_imageDrawIcon__P11835_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imageDrawIcon__P11835,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function helpers_pack__P11833(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_2=Math_clamp__P11483_mk(s);s.tmp_2.arg0=-3e4;s.tmp_2.arg1=3e4;r0=s.arg0|0;s.tmp_2.arg2=r0;s.pc=1;return s.tmp_2;case 1:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1&65535;s.tmp_0=r0;s.tmp_5=Math_clamp__P11483_mk(s);s.tmp_5.arg0=-3e4;s.tmp_5.arg1=3e4;r0=s.arg1|0;s.tmp_5.arg2=r0;s.pc=2;return s.tmp_5;case 2:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4<<16;s.tmp_3=r0;r0=s.tmp_0|s.tmp_3;return leave(s,r0);default:oops()}}}helpers_pack__P11833.info={start:3151,length:145,line:120,column:4,endLine:122,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"pack\",argumentNames:[\"x\",\"y\"]};function helpers_pack__P11833_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_pack__P11833,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined}}function Math_clamp__P11483(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}s.tmp_0=Math_min__P11487_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_1=Math_max__P11486_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg2;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}Math_clamp__P11483.info={start:9454,length:130,line:327,column:4,endLine:329,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"clamp\",argumentNames:[\"min\",\"max\",\"value\"]};function Math_clamp__P11483_mk(s){checkStack(s.depth);return{parent:s,fn:Math_clamp__P11483,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Math_min__P11487(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0<=s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=3;continue}case 1:case 2:r0=s.arg1;case 3:return leave(s,r0);default:oops()}}}Math_min__P11487.info={start:10524,length:105,line:361,column:4,endLine:364,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"min\",argumentNames:[\"a\",\"b\"]};function Math_min__P11487_mk(s){checkStack(s.depth);return{parent:s,fn:Math_min__P11487,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function Math_max__P11486(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0>=s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=3;continue}case 1:case 2:r0=s.arg1;case 3:return leave(s,r0);default:oops()}}}Math_max__P11486.info={start:10331,length:105,line:353,column:4,endLine:356,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"max\",argumentNames:[\"a\",\"b\"]};function Math_max__P11486_mk(s){checkStack(s.depth);return{parent:s,fn:Math_max__P11486,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function helpers_imageFillRect__P11836(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;s.tmp_2=helpers_pack__P11833_mk(s);s.tmp_2.arg0=s.arg1;s.tmp_2.arg1=s.arg2;s.pc=1;return s.tmp_2;case 1:r0=s.retval;s.tmp_1=r0;s.tmp_4=helpers_pack__P11833_mk(s);s.tmp_4.arg0=s.arg3;s.tmp_4.arg1=s.arg4;s.pc=2;return s.tmp_4;case 2:r0=s.retval;s.tmp_3=r0;r0=pxsim_ImageMethods._fillRect(s.tmp_0,s.tmp_1,s.tmp_3,s.arg5);r0=undefined;return leave(s,r0);default:oops()}}}helpers_imageFillRect__P11836.info={start:3648,length:159,line:131,column:4,endLine:133,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"imageFillRect\",argumentNames:[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]};function helpers_imageFillRect__P11836_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imageFillRect__P11836,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function info_PlayerInfo_drawScore__P12263(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.s___14589=undefined;s.font___14591=undefined;s.offsetY___14592=undefined;s.num___14600=undefined;s.width___14604=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_1=info_PlayerInfo_score__P12252_mk(s);s.tmp_1.arg0=s.arg0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0|0;s.s___14589=r0;r0=s.s___14589>=1e6;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.offsetY___14592=2;s.font___14591=globals.font5___11853;{step=2;continue}case 1:s.offsetY___14592=1;s.font___14591=globals.font8___11848;case 2:r0=pxsim_numops.toString(s.s___14589);s.num___14600=r0;r0=pxsim_String_.length(s.num___14600);s.tmp_0=r0;s.tmp_2=if_charWidth_1_mk(s);s.tmp_2.arg0=s.font___14591;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charWidth\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charWidth\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charWidth\"]}else{s.pc=4;return s.tmp_2}}case 4:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0*s.tmp_1;s.width___14604=r0;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2-s.width___14604;s.tmp_1=r0;r0=s.tmp_1-2;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_0.arg3=r0;s.tmp_4=if_charHeight_1_mk(s);s.tmp_4.arg0=globals.font8___11848;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"charHeight\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"charHeight\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"charHeight\"]}else{s.pc=6;return s.tmp_4}}case 6:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3+3;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"borderColor\"];s.tmp_0.arg5=r0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2-s.width___14604;s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_0.arg3=r0;s.tmp_4=if_charHeight_1_mk(s);s.tmp_4.arg0=globals.font8___11848;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"charHeight\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"charHeight\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"charHeight\"]}else{s.pc=8;return s.tmp_4}}case 8:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3+2;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"bgColor\"];s.tmp_0.arg5=r0;s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.num___14600;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_1=r0;r0=s.tmp_1-s.width___14604;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.offsetY___14592;r0=globals.infoState___12170.fields[\"fontColor\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=s.font___14591;s.tmp_0.arg6=undefined;s.pc=9;return s.tmp_0;case 9:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_drawScore__P12263.info={start:24914,length:1048,line:808,column:8,endLine:846,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"drawScore\",argumentNames:[\"this\"]};function info_PlayerInfo_drawScore__P12263_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_drawScore__P12263,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,s___14589:undefined,font___14591:undefined,offsetY___14592:undefined,num___14600:undefined,width___14604:undefined,arg0:undefined}}function info_PlayerInfo_drawPlayer__P12262(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___14672=undefined;s.font___14674=undefined;s.score___14676=undefined;s.life___14677=undefined;s.height___14678=undefined;s.scoreWidth___14679=undefined;s.lifeWidth___14680=undefined;s.offsetX___14681=undefined;s.offsetY___14682=undefined;s.showScore___14683=undefined;s.showLife___14689=undefined;s.width___14749=undefined;s.x___14757=undefined;s.y___14763=undefined;s.bump___14790=undefined;s.xLoc___14811=undefined;s.mult___14820=undefined;s.pNum___14875=undefined;s.iconWidth___14882=undefined;s.iconHeight___14889=undefined;s.iconX___14895=undefined;s.iconY___14904=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=43;return s.tmp_0;case 43:r0=s.retval;s.state___14672=r0;s.font___14674=globals.font5___11853;s.height___14678=4;s.scoreWidth___14679=0;s.lifeWidth___14680=0;s.offsetX___14681=1;s.offsetY___14682=2;r0=s.arg0.fields[\"showScore\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.state___14672.fields[\"score\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;case 2:s.tmp_2=r0;s.showScore___14683=s.tmp_2;r0=s.arg0.fields[\"showLife\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.state___14672.fields[\"life\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;case 4:s.tmp_2=r0;s.showLife___14689=s.tmp_2;r0=pxsim_numops_toBoolDecr(s.showScore___14683);if(!r0){step=5;continue}r0=pxsim_String_.mkEmpty();s.tmp_0=r0;r0=s.state___14672.fields[\"score\"];s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,44);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 44:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(s.tmp_0,s.tmp_1);s.score___14676=r0;r0=pxsim_String_.length(s.score___14676);s.tmp_1=r0;s.tmp_3=if_charWidth_1_mk(s);s.tmp_3.arg0=s.font___14674;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"charWidth\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"charWidth\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"charWidth\"]}else{s.pc=45;return s.tmp_3}}case 45:r0=s.retval;s.tmp_2=r0;r0=s.tmp_1*s.tmp_2;s.tmp_0=r0;r0=s.tmp_0+3;s.scoreWidth___14679=r0;s.tmp_0=r0=s.height___14678;s.tmp_2=if_charHeight_1_mk(s);s.tmp_2.arg0=s.font___14674;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charHeight\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charHeight\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charHeight\"]}else{s.pc=46;return s.tmp_2}}case 46:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.height___14678=r0;s.tmp_0=r0=s.offsetY___14682;s.tmp_3=if_charHeight_1_mk(s);s.tmp_3.arg0=s.font___14674;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"charHeight\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"charHeight\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"charHeight\"]}else{s.pc=47;return s.tmp_3}}case 47:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.offsetY___14682=r0;case 5:case 6:r0=pxsim_numops_toBoolDecr(s.showLife___14689);if(!r0){step=9;continue}r0=s.state___14672.fields[\"life\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=7;continue}r0=s.tmp_0;{step=8;continue}case 7:r0=0;case 8:s.tmp_1=r0;r0=pxsim_String_.mkEmpty();s.tmp_2=r0;if(s.tmp_1&&s.tmp_1.vtable){setupResume(s,48);pxsim_String__stringConv(s.tmp_1);checkResumeConsumed();return}else{s.retval=s.tmp_1+\"\"}case 48:r0=s.retval;s.tmp_3=r0;r0=pxsim_String__concat(s.tmp_2,s.tmp_3);s.life___14677=r0;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_2+s.tmp_4;s.tmp_1=r0;r0=pxsim_String_.length(s.life___14677);s.tmp_7=r0;s.tmp_9=if_charWidth_1_mk(s);s.tmp_9.arg0=s.font___14674;if(!s.tmp_9.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_9.arg0,\"charWidth\")}else{s.tmp_9.fn=s.tmp_9.arg0.vtable.iface[\"charWidth\"];if(s.tmp_9.fn==null){s.retval=s.tmp_9.arg0.fields[\"charWidth\"]}else{s.pc=49;return s.tmp_9}}case 49:r0=s.retval;s.tmp_8=r0;r0=s.tmp_7*s.tmp_8;s.tmp_6=r0;r0=s.tmp_1+s.tmp_6;s.tmp_0=r0;r0=s.tmp_0+3;s.lifeWidth___14680=r0;s.tmp_0=r0=s.height___14678;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_2=r0;r0=pxsim_ImageMethods.height(s.tmp_2);s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.height___14678=r0;case 9:case 10:s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=s.scoreWidth___14679;s.tmp_0.arg1=s.lifeWidth___14680;s.pc=50;return s.tmp_0;case 50:r0=s.retval;s.width___14749=r0;s.tmp_0=r0=s.showScore___14683;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=11;continue}r0=s.tmp_0;{step=12;continue}case 11:r0=s.showLife___14689;case 12:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=13;continue}r0=s.height___14678+1;s.height___14678=r0;case 13:case 14:r0=s.arg0.fields[\"left\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}r0=s.width___14749;{step=16;continue}case 15:r0=0;case 16:s.tmp_1=r0;r0=s.arg0.fields[\"x\"];s.tmp_2=r0;r0=s.tmp_2-s.tmp_1;s.x___14757=r0;r0=s.arg0.fields[\"up\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}r0=s.height___14678;{step=18;continue}case 17:r0=0;case 18:s.tmp_1=r0;r0=s.arg0.fields[\"y\"];s.tmp_2=r0;r0=s.tmp_2-s.tmp_1;s.y___14763=r0;s.tmp_0=r0=s.showScore___14683;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=19;continue}r0=s.tmp_0;{step=20;continue}case 19:r0=s.showLife___14689;case 20:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=21;continue}s.tmp_2=helpers_imageFillRect__P11836_mk(s);s.tmp_2.arg0=globals.screen___11888;s.tmp_2.arg1=s.x___14757;s.tmp_2.arg2=s.y___14763;s.tmp_2.arg3=s.width___14749;s.tmp_2.arg4=s.height___14678;r0=s.arg0.fields[\"border\"];s.tmp_2.arg5=r0;s.pc=51;return s.tmp_2;case 51:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=s.x___14757+1;s.tmp_0.arg1=r0;r0=s.y___14763+1;s.tmp_0.arg2=r0;r0=s.width___14749-2;s.tmp_0.arg3=r0;r0=s.height___14678-2;s.tmp_0.arg4=r0;r0=s.arg0.fields[\"bg\"];s.tmp_0.arg5=r0;s.pc=52;return s.tmp_0;case 52:r0=s.retval;case 21:case 22:r0=pxsim_numops_toBoolDecr(s.showScore___14683);if(!r0){step=25;continue}r0=s.arg0.fields[\"left\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=23;continue}r0=s.width___14749-s.scoreWidth___14679;{step=24;continue}case 23:r0=0;case 24:s.tmp_1=r0;s.bump___14790=s.tmp_1;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.score___14676;r0=s.x___14757+s.offsetX___14681;s.tmp_2=r0;r0=s.tmp_2+s.bump___14790;s.tmp_1=r0;r0=s.tmp_1+1;s.tmp_0.arg2=r0;r0=s.y___14763+2;s.tmp_0.arg3=r0;r0=s.arg0.fields[\"fc\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=s.font___14674;s.tmp_0.arg6=undefined;s.pc=53;return s.tmp_0;case 53:r0=s.retval;case 25:case 26:r0=pxsim_numops_toBoolDecr(s.showLife___14689);if(!r0){step=29;continue}r0=s.arg0.fields[\"left\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=27;continue}r0=s.width___14749-s.lifeWidth___14680;{step=28;continue}case 27:r0=0;case 28:s.tmp_1=r0;r0=s.x___14757+s.offsetX___14681;s.tmp_2=r0;r0=s.tmp_2+s.tmp_1;s.xLoc___14811=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_0=r0;r0=pxsim_ImageMethods.clone(s.tmp_0);s.mult___14820=r0;r0=s.arg0.fields[\"fc\"];s.tmp_0=r0;r0=pxsim_ImageMethods.replace(s.mult___14820,1,s.tmp_0);s.tmp_0=r0=globals.screen___11888;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_1=r0;s.tmp_2=r0=s.xLoc___14811;r0=s.y___14763+s.offsetY___14682;s.tmp_3=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_2,s.tmp_3);s.tmp_0=r0=globals.screen___11888;s.tmp_1=r0=s.mult___14820;s.tmp_3=r0=s.xLoc___14811;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_2=r0;r0=s.y___14763+s.offsetY___14682;s.tmp_9=r0;s.tmp_11=if_charHeight_1_mk(s);s.tmp_11.arg0=s.font___14674;if(!s.tmp_11.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_11.arg0,\"charHeight\")}else{s.tmp_11.fn=s.tmp_11.arg0.vtable.iface[\"charHeight\"];if(s.tmp_11.fn==null){s.retval=s.tmp_11.arg0.fields[\"charHeight\"]}else{s.pc=54;return s.tmp_11}}case 54:r0=s.retval;s.tmp_10=r0;r0=s.tmp_9+s.tmp_10;s.tmp_8=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_13=r0;r0=pxsim_ImageMethods.height(s.tmp_13);s.tmp_12=r0;r0=s.tmp_8-s.tmp_12;s.tmp_7=r0;r0=s.tmp_7-1;s.tmp_6=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_2,s.tmp_6);s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.life___14677;s.tmp_3=r0=s.xLoc___14811;r0=globals.infoState___12170.fields[\"heartImage\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_2=r0;r0=globals.infoState___12170.fields[\"multiplierImage\"];s.tmp_7=r0;r0=pxsim_ImageMethods.width(s.tmp_7);s.tmp_6=r0;r0=s.tmp_2+s.tmp_6;s.tmp_1=r0;r0=s.tmp_1+1;s.tmp_0.arg2=r0;r0=s.y___14763+s.offsetY___14682;s.tmp_0.arg3=r0;r0=s.arg0.fields[\"fc\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=s.font___14674;s.tmp_0.arg6=undefined;s.pc=55;return s.tmp_0;case 55:r0=s.retval;case 29:case 30:r0=s.arg0.fields[\"showPlayer\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=41;continue}r0=pxsim_String_.mkEmpty();s.tmp_1=r0;r0=s.arg0.fields[\"_player\"];s.tmp_3=r0;if(s.tmp_3&&s.tmp_3.vtable){setupResume(s,56);pxsim_String__stringConv(s.tmp_3);checkResumeConsumed();return}else{s.retval=s.tmp_3+\"\"}case 56:r0=s.retval;s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_2);s.pNum___14875=r0;r0=pxsim_String_.length(s.pNum___14875);s.tmp_1=r0;s.tmp_3=if_charWidth_1_mk(s);s.tmp_3.arg0=s.font___14674;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"charWidth\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"charWidth\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"charWidth\"]}else{s.pc=57;return s.tmp_3}}case 57:r0=s.retval;s.tmp_2=r0;r0=s.tmp_1*s.tmp_2;s.tmp_0=r0;r0=s.tmp_0+1;s.iconWidth___14882=r0;s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=s.height___14678;s.tmp_2=if_charHeight_1_mk(s);s.tmp_2.arg0=s.font___14674;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charHeight\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charHeight\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charHeight\"]}else{s.pc=59;return s.tmp_2}}case 59:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1+2;s.tmp_0.arg1=r0;s.pc=58;return s.tmp_0;case 58:r0=s.retval;s.iconHeight___14889=r0;r0=s.arg0.fields[\"left\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=31;continue}r0=s.x___14757-s.iconWidth___14882;s.tmp_1=r0;r0=s.tmp_1+1;{step=32;continue}case 31:r0=s.x___14757+s.width___14749;s.tmp_2=r0;r0=s.tmp_2-1;case 32:s.tmp_3=r0;s.iconX___14895=s.tmp_3;s.iconY___14904=s.y___14763;r0=pxsim_numops_toBoolDecr(s.showScore___14683);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=33;continue}r0=s.tmp_0;{step=34;continue}case 33:r0=pxsim_numops_toBoolDecr(s.showLife___14689);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 34:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=39;continue}r0=s.arg0.fields[\"left\"];s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=35;continue}r0=-1;{step=36;continue}case 35:r0=1;case 36:s.tmp_5=r0;r0=s.iconX___14895+s.tmp_5;s.iconX___14895=r0;r0=s.arg0.fields[\"up\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=37;continue}r0=s.iconY___14904-3;s.iconY___14904=r0;case 37:case 38:case 39:case 40:s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.iconX___14895;s.tmp_0.arg2=s.iconY___14904;s.tmp_0.arg3=s.iconWidth___14882;s.tmp_0.arg4=s.iconHeight___14889;r0=s.arg0.fields[\"border\"];s.tmp_0.arg5=r0;s.pc=60;return s.tmp_0;case 60:r0=s.retval;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.pNum___14875;r0=s.iconX___14895+1;s.tmp_0.arg2=r0;s.tmp_2=r0=s.iconY___14904;r0=s.iconHeight___14889>>1;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;s.tmp_6=if_charHeight_1_mk(s);s.tmp_6.arg0=s.font___14674;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"charHeight\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"charHeight\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"charHeight\"]}else{s.pc=62;return s.tmp_6}}case 62:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5>>1;s.tmp_4=r0;r0=s.tmp_1-s.tmp_4;s.tmp_0.arg3=r0;r0=s.arg0.fields[\"bg\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=s.font___14674;s.tmp_0.arg6=undefined;s.pc=61;return s.tmp_0;case 61:r0=s.retval;case 41:case 42:r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_drawPlayer__P12262.info={start:21269,length:3635,line:703,column:8,endLine:806,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"drawPlayer\",argumentNames:[\"this\"]};function info_PlayerInfo_drawPlayer__P12262_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_drawPlayer__P12262,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,state___14672:undefined,font___14674:undefined,score___14676:undefined,life___14677:undefined,height___14678:undefined,scoreWidth___14679:undefined,lifeWidth___14680:undefined,offsetX___14681:undefined,offsetY___14682:undefined,showScore___14683:undefined,showLife___14689:undefined,width___14749:undefined,x___14757:undefined,y___14763:undefined,bump___14790:undefined,xLoc___14811:undefined,mult___14820:undefined,pNum___14875:undefined,iconWidth___14882:undefined,iconHeight___14889:undefined,iconX___14895:undefined,iconY___14904:undefined,arg0:undefined}}function info_PlayerInfo_raiseLifeZero__P12261(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___14652=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.state___14652=r0;r0=s.state___14652.fields[\"life\"];s.tmp_1=r0;r0=s.tmp_1!==null;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.state___14652.fields[\"life\"];s.tmp_2=r0;r0=s.tmp_2<=0;case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=7;continue}r0=s.state___14652.fields[\"life\"]=null;r0=s.state___14652.fields[\"lifeZeroHandler\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_1=lambda_1_mk(s);r0=s.state___14652.fields[\"lifeZeroHandler\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=10;return s.tmp_1;case 10:r0=s.retval;{step=6;continue}case 3:r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=4;continue}s.tmp_0=game_over__P12449_mk(s);s.tmp_0.arg0=false;s.tmp_0.arg1=undefined;s.pc=11;return s.tmp_0;case 11:r0=s.retval;case 4:case 5:case 6:case 7:case 8:r0=undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_raiseLifeZero__P12261.info={start:20885,length:374,line:691,column:8,endLine:701,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"raiseLifeZero\",argumentNames:[\"this\",\"gameOver\"]};function info_PlayerInfo_raiseLifeZero__P12261_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_raiseLifeZero__P12261,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,state___14652:undefined,arg0:undefined,arg1:undefined}}function info_PlayerInfo_hasLife__P12259(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___14579=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.state___14579=r0;r0=s.state___14579.fields[\"life\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.state___14579.fields[\"life\"];s.tmp_2=r0;r0=s.tmp_2!==null;case 2:s.tmp_3=r0;r0=s.tmp_3;return leave(s,r0);default:oops()}}}info_PlayerInfo_hasLife__P12259.info={start:20361,length:141,line:674,column:8,endLine:677,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"hasLife\",argumentNames:[\"this\"]};function info_PlayerInfo_hasLife__P12259_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_hasLife__P12259,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,state___14579:undefined,arg0:undefined}}function info_PlayerInfo_hasScore__P12255(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___14645=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.state___14645=r0;r0=s.state___14645.fields[\"score\"];s.tmp_0=r0;r0=s.tmp_0!==undefined;return leave(s,r0);default:oops()}}}info_PlayerInfo_hasScore__P12255.info={start:18633,length:111,line:617,column:8,endLine:620,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"hasScore\",argumentNames:[\"this\"]};function info_PlayerInfo_hasScore__P12255_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_hasScore__P12255,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,state___14645:undefined,arg0:undefined}}function info_drawTimer__P12247(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.font___13973=undefined;s.smallFont___13975=undefined;s.seconds___13977=undefined;s.width___13981=undefined;s.left___13984=undefined;s.color1___13990=undefined;s.color2___13994=undefined;s.temp___14004=undefined;s.top___14032=undefined;s.remainder___14033=undefined;s.decimalLeft___14052=undefined;s.minutes___14067=undefined;s.remainder___14071=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.arg0=0;case 1:case 2:r0=s.arg0|0;s.arg0=r0;s.font___13973=globals.font8___11848;s.smallFont___13975=globals.font5___11853;r0=pxsim.Math_.idiv(s.arg0,1e3);s.seconds___13977=r0;s.tmp_2=if_charWidth_1_mk(s);s.tmp_2.arg0=s.font___13973;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charWidth\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charWidth\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charWidth\"]}else{s.pc=11;return s.tmp_2}}case 11:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1*5;s.tmp_0=r0;r0=s.tmp_0-2;s.width___13981=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.width___13981>>1;s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0=r0;r0=s.tmp_0+1;s.left___13984=r0;r0=globals.infoState___12170.fields[\"fontColor\"];s.color1___13990=r0;r0=globals.infoState___12170.fields[\"bgColor\"];s.color2___13994=r0;r0=s.seconds___13977<10;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.seconds___13977&1;case 4:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(r0){step=5;continue}r0=s.tmp_1;{step=6;continue}case 5:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 6:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=7;continue}s.temp___14004=s.color1___13990;s.color1___13990=s.color2___13994;s.color2___13994=s.temp___14004;case 7:case 8:s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=s.left___13984-3;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;r0=s.width___13981+6;s.tmp_0.arg3=r0;s.tmp_2=if_charHeight_1_mk(s);s.tmp_2.arg0=s.font___13973;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charHeight\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charHeight\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charHeight\"]}else{s.pc=13;return s.tmp_2}}case 13:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1+3;s.tmp_0.arg4=r0;r0=globals.infoState___12170.fields[\"borderColor\"];s.tmp_0.arg5=r0;s.pc=12;return s.tmp_0;case 12:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=s.left___13984-2;s.tmp_0.arg1=r0;s.tmp_0.arg2=0;r0=s.width___13981+4;s.tmp_0.arg3=r0;s.tmp_2=if_charHeight_1_mk(s);s.tmp_2.arg0=s.font___13973;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charHeight\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charHeight\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charHeight\"]}else{s.pc=15;return s.tmp_2}}case 15:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1+2;s.tmp_0.arg4=r0;s.tmp_0.arg5=s.color2___13994;s.pc=14;return s.tmp_0;case 14:r0=s.retval;r0=s.seconds___13977<60;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.top___14032=1;r0=s.arg0%1e3;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,10);s.remainder___14033=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_3=info_formatDecimal__P12266_mk(s);s.tmp_3.arg0=s.seconds___13977;s.pc=17;return s.tmp_3;case 17:r0=s.retval;s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,18);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 18:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(s.tmp_1,\".\");s.tmp_0.arg1=r0;s.tmp_0.arg2=s.left___13984;s.tmp_0.arg3=s.top___14032;s.tmp_0.arg4=s.color1___13990;s.tmp_0.arg5=s.font___13973;s.tmp_0.arg6=undefined;s.pc=16;return s.tmp_0;case 16:r0=s.retval;s.tmp_0=r0=s.left___13984;s.tmp_3=if_charWidth_1_mk(s);s.tmp_3.arg0=s.font___13973;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"charWidth\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"charWidth\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"charWidth\"]}else{s.pc=19;return s.tmp_3}}case 19:r0=s.retval;s.tmp_2=r0;r0=3*s.tmp_2;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.decimalLeft___14052=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_1=info_formatDecimal__P12266_mk(s);s.tmp_1.arg0=s.remainder___14033;s.pc=21;return s.tmp_1;case 21:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_0.arg2=s.decimalLeft___14052;r0=s.top___14032+2;s.tmp_0.arg3=r0;s.tmp_0.arg4=s.color1___13990;s.tmp_0.arg5=s.smallFont___13975;s.tmp_0.arg6=undefined;s.pc=20;return s.tmp_0;case 20:r0=s.retval;{step=10;continue}case 9:r0=pxsim.Math_.idiv(s.seconds___13977,60);s.minutes___14067=r0;r0=s.seconds___13977%60;s.remainder___14071=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_5=info_formatDecimal__P12266_mk(s);s.tmp_5.arg0=s.minutes___14067;s.pc=23;return s.tmp_5;case 23:r0=s.retval;s.tmp_4=r0;if(s.tmp_4&&s.tmp_4.vtable){setupResume(s,24);pxsim_String__stringConv(s.tmp_4);checkResumeConsumed();return}else{s.retval=s.tmp_4+\"\"}case 24:r0=s.retval;s.tmp_3=r0;r0=pxsim_String__concat(s.tmp_3,\":\");s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,25);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 25:r0=s.retval;s.tmp_1=r0;s.tmp_8=info_formatDecimal__P12266_mk(s);s.tmp_8.arg0=s.remainder___14071;s.pc=26;return s.tmp_8;case 26:r0=s.retval;s.tmp_7=r0;if(s.tmp_7&&s.tmp_7.vtable){setupResume(s,27);pxsim_String__stringConv(s.tmp_7);checkResumeConsumed();return}else{s.retval=s.tmp_7+\"\"}case 27:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_6);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.left___13984;s.tmp_0.arg3=1;s.tmp_0.arg4=s.color1___13990;s.tmp_0.arg5=s.font___13973;s.tmp_0.arg6=undefined;s.pc=22;return s.tmp_0;case 22:r0=s.retval;case 10:r0=undefined;return leave(s,r0);default:oops()}}}info_drawTimer__P12247.info={start:13501,length:1328,line:463,column:4,endLine:498,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"drawTimer\",argumentNames:[\"millis\"]};function info_drawTimer__P12247_mk(s){checkStack(s.depth);return{parent:s,fn:info_drawTimer__P12247,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,font___13973:undefined,smallFont___13975:undefined,seconds___13977:undefined,width___13981:undefined,left___13984:undefined,color1___13990:undefined,color2___13994:undefined,temp___14004:undefined,top___14032:undefined,remainder___14033:undefined,decimalLeft___14052:undefined,minutes___14067:undefined,remainder___14071:undefined,arg0:undefined}}function info_formatDecimal__P12266(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0|0;s.arg0=r0;r0=s.arg0<10;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}if(s.arg0&&s.arg0.vtable){setupResume(s,4);pxsim_String__stringConv(s.arg0);checkResumeConsumed();return}else{s.retval=s.arg0+\"\"}case 4:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"0\",s.tmp_1);{step=3;continue}case 1:case 2:r0=pxsim_numops.toString(s.arg0);case 3:return leave(s,r0);default:oops()}}}info_formatDecimal__P12266.info={start:28442,length:156,line:917,column:4,endLine:923,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"formatDecimal\",argumentNames:[\"val\"]};function info_formatDecimal__P12266_mk(s){checkStack(s.depth);return{parent:s,fn:info_formatDecimal__P12266,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function info_InfoState_constructor__P12168(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_InfoState__C12167_VT))failedCast(r0);r0=s.arg0.fields[\"visibilityFlag\"]=8;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"playerStates\"]=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_2=info_defaultHeartImage__P12220_mk(s);s.pc=7;return s.tmp_2;case 7:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"heartImage\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim.image.ofBuffer(_hex15036);s.tmp_1=r0;r0=s.tmp_0.fields[\"multiplierImage\"]=s.tmp_1;r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=0;{step=2;continue}case 1:r0=1;case 2:s.tmp_1=r0;r0=s.arg0.fields[\"bgColor\"]=s.tmp_1;r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=1;{step=4;continue}case 3:r0=3;case 4:s.tmp_1=r0;r0=s.arg0.fields[\"borderColor\"]=s.tmp_1;r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=1;{step=6;continue}case 5:r0=3;case 6:s.tmp_1=r0;r0=s.arg0.fields[\"fontColor\"]=s.tmp_1;r0=s.arg0.fields[\"countdownExpired\"]=undefined;r0=s.arg0.fields[\"countdownEndHandler\"]=undefined;r0=s.arg0.fields[\"gameEnd\"]=undefined;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"playerStates\"]=s.tmp_1;return leave(s,r0);default:oops()}}}info_InfoState_constructor__P12168.info={start:1038,length:674,line:43,column:8,endLine:61,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function info_InfoState_constructor__P12168_mk(s){checkStack(s.depth);return{parent:s,fn:info_InfoState_constructor__P12168,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}const _hex15036=pxsim.BufferMethods.createBufferFromHex(\"87040500050000000100010010100000000100001010000001000100\");function info_defaultHeartImage__P12220(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.image.ofBuffer(_hex15064);{step=2;continue}case 1:r0=pxsim.image.ofBuffer(_hex15066);case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}info_defaultHeartImage__P12220.info={start:5105,length:592,line:163,column:4,endLine:184,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"defaultHeartImage\",argumentNames:[]};function info_defaultHeartImage__P12220_mk(s){checkStack(s.depth);return{parent:s,fn:info_defaultHeartImage__P12220,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}const _hex15064=pxsim.BufferMethods.createBufferFromHex(\"87040800070000001011000001000100010010001000000101001000010001001011000000000000\");const _hex15066=pxsim.BufferMethods.createBufferFromHex(\"8704080007000000c0cc00002c220c002222c2002222220c20222202222422004222020020220000\");function helpers_arrayFilter__P11473(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.res___14943=undefined;s.len___14945=undefined;s.i___14948=undefined;s.v___14952=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__mk();s.res___14943=r0;r0=pxsim_Array__length(s.arg0);s.len___14945=r0;s.i___14948=0;case 1:r0=s.i___14948<s.len___14945;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}r0=pxsim_Array__getAt(s.arg0,s.i___14948);s.v___14952=r0;s.tmp_1=lambda_3_mk(s);s.tmp_1.argL=s.arg1;s.tmp_1.arg0=s.v___14952;s.tmp_1.arg1=s.i___14948;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}r0=pxsim_Array__push(s.res___14943,s.v___14952);case 2:case 3:r0=s.i___14948+1;s.i___14948=r0;{step=1;continue}case 4:r0=s.res___14943;return leave(s,r0);default:oops()}}}helpers_arrayFilter__P11473.info={start:4942,length:317,line:165,column:4,endLine:173,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayFilter\",argumentNames:[\"arr\",\"callbackfn\"]};function helpers_arrayFilter__P11473_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayFilter__P11473,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,res___14943:undefined,len___14945:undefined,i___14948:undefined,v___14952:undefined,arg0:undefined,arg1:undefined}}function info_PlayerState_constructor__P12166(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerState__C12165_VT))failedCast(r0);return leave(s,r0);default:oops()}}}info_PlayerState_constructor__P12166.info={start:601,length:17,line:27,column:8,endLine:27,endColumn:25,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function info_PlayerState_constructor__P12166_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerState_constructor__P12166,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function info_updateFlag__P12240(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=info_initHUD__P12218_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=1;continue}s.tmp_0=r0=globals.infoState___12170;r0=s.tmp_0.fields[\"visibilityFlag\"];s.tmp_2=r0;r0=s.tmp_2|s.arg0;s.tmp_1=r0;r0=s.tmp_0.fields[\"visibilityFlag\"]=s.tmp_1;{step=2;continue}case 1:s.tmp_0=r0=globals.infoState___12170;r0=globals.infoState___12170.fields[\"visibilityFlag\"];s.tmp_4=r0;r0=~s.tmp_4;s.tmp_3=r0;r0=s.tmp_3|s.arg0;s.tmp_2=r0;r0=~s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"visibilityFlag\"]=s.tmp_1;case 2:r0=undefined;return leave(s,r0);default:oops()}}}info_updateFlag__P12240.info={start:11468,length:204,line:394,column:4,endLine:398,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"updateFlag\",argumentNames:[\"flag\",\"on\"]};function info_updateFlag__P12240_mk(s){checkStack(s.depth);return{parent:s,fn:info_updateFlag__P12240,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function info_PlayerInfo_score__P12252(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___13808=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);r0=s.arg0.fields[\"showScore\"];s.tmp_1=r0;r0=s.tmp_1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"showScore\"]=true;case 1:case 2:r0=s.arg0.fields[\"showPlayer\"];s.tmp_1=r0;r0=s.tmp_1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.arg0.fields[\"showPlayer\"]=true;case 3:case 4:s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=s.arg0;s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.state___13808=r0;r0=s.state___13808.fields[\"score\"];s.tmp_1=r0;r0=s.tmp_1==null;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.state___13808.fields[\"score\"]=0;case 5:case 6:r0=s.state___13808.fields[\"score\"];return leave(s,r0);default:oops()}}}info_PlayerInfo_score__P12252.info={start:17505,length:314,line:579,column:8,endLine:588,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"score\",argumentNames:[\"this\"]};function info_PlayerInfo_score__P12252_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_score__P12252,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,state___13808:undefined,arg0:undefined}}function game_onUpdateInterval__P12451(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.timer___15097=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=game_init__P12442_mk(s);s.pc=6;return s.tmp_0;case 6:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0<0;case 2:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:r0=pxsim_pxtrt.mklocRef();s.timer___15097=r0;r0=pxsim_pxtrt_stlocRef(s.timer___15097,0);r0=pxsim_pxtcore_mkAction(3,inline__P15101);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.timer___15097);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.arg1);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);s.tmp_2=game_eventContext__P12441_mk(s);s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=19;s.tmp_1.arg2=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;case 5:r0=undefined;return leave(s,r0);default:oops()}}}game_onUpdateInterval__P12451.info={start:7328,length:417,line:242,column:4,endLine:253,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"onUpdateInterval\",argumentNames:[\"period\",\"a\"]};function game_onUpdateInterval__P12451_mk(s){checkStack(s.depth);return{parent:s,fn:game_onUpdateInterval__P12451,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,timer___15097:undefined,arg0:undefined,arg1:undefined}}function inline__P15101(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.time___15102=undefined;s.tmp_1=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0.fields[\"_millis\"];s.time___15102=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_1=r0;r0=s.tmp_1<=s.time___15102;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=r0=s.caps[0];r0=s.time___15102+s.caps[1];s.tmp_3=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_2,s.tmp_3);s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.caps[2];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P15101.info={start:7558,length:179,line:246,column:81,endLine:252,endColumn:9,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[]};function inline__P15101_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P15101,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,time___15102:undefined}}function game_init__P12442(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals._scene___12433);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtcore_mkClassInstance(scene_Scene__C12348_VT);s.tmp_2=r0;s.tmp_3=scene_Scene_constructor__P12357_mk(s);s.tmp_3.arg0=s.tmp_2;s.tmp_4=control_pushEventContext__P11661_mk(s);s.pc=12;return s.tmp_4;case 12:r0=s.retval;s.tmp_3.arg1=r0;s.pc=11;return s.tmp_3;case 11:r0=s.retval;globals._scene___12433=s.tmp_2;case 1:case 2:s.tmp_0=scene_Scene_init__P12349_mk(s);s.tmp_0.arg0=globals._scene___12433;s.pc=13;return s.tmp_0;case 13:r0=s.retval;r0=pxsim_numops_toBoolDecr(globals.winEffect___12426);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}globals.winEffect___12426=globals.confetti___12847;case 3:case 4:r0=pxsim_numops_toBoolDecr(globals.loseEffect___12428);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}globals.loseEffect___12428=globals.melt___12867;case 5:case 6:r0=pxsim_numops_toBoolDecr(globals.winSound___12432);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}globals.winSound___12432=globals.powerUp___11796;case 7:case 8:r0=pxsim_numops_toBoolDecr(globals.loseSound___12430);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}globals.loseSound___12430=globals.wawawawaa___11793;case 9:case 10:r0=undefined;return leave(s,r0);default:oops()}}}game_init__P12442.info={start:1150,length:379,line:44,column:4,endLine:57,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"init\",argumentNames:[]};function game_init__P12442_mk(s){checkStack(s.depth);return{parent:s,fn:game_init__P12442,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function inline__P15311(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.factory___15314=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_pxtcore_mkClassInstance(particles_ConfettiFactory__C12787_VT);s.tmp_0=r0;s.tmp_2=if_width_1_mk(s);s.tmp_2.arg0=s.arg0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"width\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"width\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"width\"]}else{s.pc=3;return s.tmp_2}}case 3:r0=s.retval;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=1;continue}s.tmp_3=if_width_1_mk(s);s.tmp_3.arg0=s.arg0;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"width\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"width\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"width\"]}else{s.pc=4;return s.tmp_3}}case 4:r0=s.retval;{step=2;continue}case 1:r0=16;case 2:s.tmp_4=r0;s.tmp_5=particles_ConfettiFactory_constructor__P12789_mk(s);s.tmp_5.arg0=s.tmp_0;s.tmp_5.arg1=s.tmp_4;s.tmp_5.arg2=16;s.pc=5;return s.tmp_5;case 5:r0=s.retval;s.factory___15314=s.tmp_0;s.tmp_0=particles_SprayFactory_setSpeed__P12768_mk(s);s.tmp_0.arg0=s.factory___15314;s.tmp_0.arg1=30;s.pc=6;return s.tmp_0;case 6:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(particles_ParticleSource__C12708_VT);s.tmp_0=r0;s.tmp_1=particles_ParticleSource_constructor__P12725_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.tmp_1.arg2=s.arg1;s.tmp_1.arg3=s.factory___15314;s.pc=7;return s.tmp_1;case 7:r0=s.retval;r0=s.tmp_0;return leave(s,r0);default:oops()}}}inline__P15311.info={start:7444,length:284,line:190,column:59,endLine:194,endColumn:5,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"inline\",argumentNames:[\"anchor\",\"particlesPerSecond\"]};function inline__P15311_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P15311,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,factory___15314:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource_constructor__P12725(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___15336=undefined;s.removedSource___15343=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=sprites_BaseSprite_constructor__P11940_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=particles_init__P12728_mk(s);s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.sources___15336=r0;r0=pxsim_Array__length(s.sources___15336);s.tmp_1=r0;r0=s.tmp_1>=globals.MAX_SOURCES___12697;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=particles_sortSources__P12731_mk(s);s.tmp_2.arg0=s.sources___15336;s.pc=8;return s.tmp_2;case 8:r0=s.retval;r0=pxsim_Array_.removeAt(s.sources___15336,0);s.removedSource___15343=r0;s.tmp_0=particles_ParticleSource_clear__P12718_mk(s);s.tmp_0.arg0=s.removedSource___15343;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.tmp_0=particles_ParticleSource_destroy__P12717_mk(s);s.tmp_0.arg0=s.removedSource___15343;s.pc=10;return s.tmp_0;case 10:r0=s.retval;case 1:case 2:r0=s.arg0.fields[\"pFlags\"]=0;s.tmp_0=particles_ParticleSource_setRate__P12720_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg2;s.pc=11;return s.tmp_0;case 11:r0=s.retval;s.tmp_0=particles_ParticleSource_setAcceleration__P12713_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.tmp_0.arg2=0;s.pc=12;return s.tmp_0;case 12:r0=s.retval;s.tmp_0=particles_ParticleSource_setAnchor__P12719_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=13;return s.tmp_0;case 13:r0=s.retval;r0=s.arg0.fields[\"lifespan\"]=undefined;r0=s.arg0.fields[\"_dt\"]=0;r0=s.arg0.fields[\"priority\"]=0;s.tmp_0=r0=s.arg3;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=globals.defaultFactory___12726;case 4:s.tmp_1=r0;s.tmp_2=particles_ParticleSource_setFactory__P12722_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.tmp_1;s.pc=14;return s.tmp_2;case 14:r0=s.retval;r0=pxsim_Array__push(s.sources___15336,s.arg0);s.tmp_0=particles_ParticleSource_enabled__P12716_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=true;s.pc=15;return s.tmp_0;case 15:r0=s.retval;return leave(s,r0);default:oops()}}}particles_ParticleSource_constructor__P12725.info={start:2230,length:899,line:84,column:8,endLine:107,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"this\",\"anchor\",\"particlesPerSecond\",\"factory\"]};function particles_ParticleSource_constructor__P12725_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_constructor__P12725,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,sources___15336:undefined,removedSource___15343:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_particleSources__P12743(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___15669=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=r0.fields[\"particleSources\"];s.sources___15669=r0;r0=s.sources___15669;return leave(s,r0);default:oops()}}}particles_particleSources__P12743.info={start:12361,length:119,line:409,column:4,endLine:412,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"particleSources\",argumentNames:[]};function particles_particleSources__P12743_mk(s){checkStack(s.depth);return{parent:s,fn:particles_particleSources__P12743,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,sources___15669:undefined}}function particles_sortSources__P12731(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=helpers_arraySort__P11468_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=inline__P15601;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}particles_sortSources__P12731.info={start:9539,length:129,line:320,column:4,endLine:322,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"sortSources\",argumentNames:[\"sources\"]};function particles_sortSources__P12731_mk(s){checkStack(s.depth);return{parent:s,fn:particles_sortSources__P12731,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function inline__P15601(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0.fields[\"priority\"];s.tmp_1=r0;r0=s.arg1.fields[\"priority\"];s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0.fields[\"id\"];s.tmp_3=r0;r0=s.arg1.fields[\"id\"];s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;case 2:s.tmp_5=r0;r0=s.tmp_5;return leave(s,r0);default:oops()}}}inline__P15601.info={start:9610,length:50,line:321,column:21,endLine:321,endColumn:71,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"a\",\"b\"]};function inline__P15601_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P15601,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined}}function helpers_arraySort__P11468(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}case 1:case 2:s.tmp_2=helpers_sortHelper__P11467_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.arg1;s.pc=3;return s.tmp_2;case 3:r0=s.retval;return leave(s,r0);default:oops()}}}helpers_arraySort__P11468.info={start:3380,length:389,line:123,column:4,endLine:131,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arraySort\",argumentNames:[\"arr\",\"callbackfn\"]};function helpers_arraySort__P11468_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arraySort__P11468,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function helpers_sortHelper__P11467(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.len___15627=undefined;s.i___15630=undefined;s.j___15634=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__length(s.arg0);s.tmp_1=r0;r0=s.tmp_1<=0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}r0=s.arg0;{step=11;continue}case 3:case 4:r0=pxsim_Array__length(s.arg0);s.len___15627=r0;s.i___15630=0;case 5:s.tmp_1=r0=s.i___15630;r0=s.len___15627-1;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=10;continue}r0=s.i___15630+1;s.j___15634=r0;case 6:r0=s.j___15634<s.len___15627;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tmp_3=lambda_3_mk(s);s.tmp_3.argL=s.arg1;r0=pxsim_Array__getAt(s.arg0,s.i___15630);s.tmp_3.arg0=r0;r0=pxsim_Array__getAt(s.arg0,s.j___15634);s.tmp_3.arg1=r0;setupLambda(s.tmp_3,s.tmp_3.argL);s.pc=12;return s.tmp_3;case 12:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2>0;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=7;continue}s.tmp_4=helpers_swap__P11466_mk(s);s.tmp_4.arg0=s.arg0;s.tmp_4.arg1=s.i___15630;s.tmp_4.arg2=s.j___15634;s.pc=13;return s.tmp_4;case 13:r0=s.retval;case 7:case 8:r0=s.j___15634+1;s.j___15634=r0;{step=6;continue}case 9:r0=s.i___15630+1;s.i___15630=r0;{step=5;continue}case 10:r0=s.arg0;case 11:return leave(s,r0);default:oops()}}}helpers_sortHelper__P11467.info={start:2893,length:481,line:107,column:4,endLine:121,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"sortHelper\",argumentNames:[\"arr\",\"callbackfn\"]};function helpers_sortHelper__P11467_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_sortHelper__P11467,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,len___15627:undefined,i___15630:undefined,j___15634:undefined,arg0:undefined,arg1:undefined}}function helpers_swap__P11466(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.temp___15657=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_Array__getAt(s.arg0,s.arg1);s.temp___15657=r0;s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.arg1;r0=pxsim_Array__getAt(s.arg0,s.arg2);s.tmp_2=r0;r0=pxsim_Array_.setAt(s.tmp_0,s.tmp_1,s.tmp_2);r0=pxsim_Array_.setAt(s.arg0,s.arg2,s.temp___15657);r0=undefined;return leave(s,r0);default:oops()}}}helpers_swap__P11466.info={start:2747,length:140,line:101,column:4,endLine:105,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"swap\",argumentNames:[\"arr\",\"i\",\"j\"]};function helpers_swap__P11466_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_swap__P11466,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,temp___15657:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function particles_init__P12728(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___15675=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.scene___15675=r0;r0=s.scene___15675.fields[\"particleSources\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_1=r0=s.scene___15675;r0=pxsim_Array__mk();s.tmp_2=r0;r0=s.tmp_1.fields[\"particleSources\"]=s.tmp_2;r0=pxsim.control.millis();globals.lastUpdate___12705=r0;s.tmp_0=game_onUpdate__P12450_mk(s);s.tmp_0.arg0=particles_updateParticles__P12729;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=game_onUpdateInterval__P12451_mk(s);s.tmp_0.arg0=250;s.tmp_0.arg1=particles_pruneParticles__P12730;s.pc=6;return s.tmp_0;case 6:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}particles_init__P12728.info={start:8745,length:276,line:292,column:4,endLine:299,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"init\",argumentNames:[]};function particles_init__P12728_mk(s){checkStack(s.depth);return{parent:s,fn:particles_init__P12728,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,scene___15675:undefined}}function particles_pruneParticles__P12730(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___15689=undefined;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.sources___15689=r0;r0=pxsim_numops_toBoolDecr(s.sources___15689);if(!r0){step=1;continue}s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_1=helpers_arraySlice__P11477_mk(s);s.tmp_1.arg0=s.sources___15689;s.tmp_1.arg1=0;r0=pxsim_Array__length(s.sources___15689);s.tmp_1.arg2=r0;s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0.arg0=r0;s.tmp_0.arg1=inline__P15698;s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_pruneParticles__P12730.info={start:9373,length:156,line:315,column:4,endLine:318,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"pruneParticles\",argumentNames:[]};function particles_pruneParticles__P12730_mk(s){checkStack(s.depth);return{parent:s,fn:particles_pruneParticles__P12730,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,sources___15689:undefined}}function inline__P15698(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=particles_ParticleSource__prune__P12712_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P15698.info={start:9506,length:15,line:317,column:62,endLine:317,endColumn:77,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P15698_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P15698,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function particles_ParticleSource__prune__P12712(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___15552=undefined;s.sources___15560=undefined;s.current___15571=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);case 1:r0=s.arg0.fields[\"head\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:r0=s.arg0.fields[\"head\"];r0=r0.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1<=0;case 3:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=4;continue}r0=s.arg0.fields[\"head\"];r0=r0.fields[\"next\"];s.tmp_3=r0;r0=s.arg0.fields[\"head\"]=s.tmp_3;{step=1;continue}case 4:r0=s.arg0.fields[\"pFlags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=s.arg0.fields[\"head\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 6:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=13;continue}s.tmp_5=game_currentScene__P12194_mk(s);s.pc=21;return s.tmp_5;case 21:r0=s.retval;s.scene___15552=r0;r0=pxsim_numops_toBoolDecr(s.scene___15552);if(!r0){step=7;continue}r0=s.scene___15552.fields[\"allSprites\"];s.tmp_0=r0;r0=pxsim_Array_.removeElement(s.tmp_0,s.arg0);case 7:case 8:s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=22;return s.tmp_0;case 22:r0=s.retval;s.sources___15560=r0;s.tmp_0=r0=s.sources___15560;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=9;continue}r0=s.tmp_0;{step=10;continue}case 9:r0=pxsim_Array__length(s.sources___15560);case 10:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=11;continue}r0=pxsim_Array_.removeElement(s.sources___15560,s.arg0);case 11:case 12:r0=s.arg0.fields[\"anchor\"];s.tmp_0=r0;r0=s.tmp_0==undefined;case 13:case 14:r0=s.arg0.fields[\"head\"];s.current___15571=r0;case 15:s.tmp_0=r0=s.current___15571;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=16;continue}r0=s.tmp_0;{step=17;continue}case 16:r0=s.current___15571.fields[\"next\"];case 17:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=20;continue}r0=s.current___15571.fields[\"next\"];r0=r0.fields[\"lifespan\"];s.tmp_3=r0;r0=s.tmp_3<=0;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=18;continue}r0=s.current___15571.fields[\"next\"];r0=r0.fields[\"next\"];s.tmp_4=r0;r0=s.current___15571.fields[\"next\"]=s.tmp_4;{step=19;continue}case 18:r0=s.current___15571.fields[\"next\"];s.current___15571=r0;case 19:{step=15;continue}case 20:r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource__prune__P12712.info={start:4921,length:830,line:163,column:8,endLine:186,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"_prune\",argumentNames:[\"this\"]};function particles_ParticleSource__prune__P12712_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource__prune__P12712,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,scene___15552:undefined,sources___15560:undefined,current___15571:undefined,arg0:undefined}}function helpers_arraySlice__P11477(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.res___15705=undefined;s.len___15707=undefined;s.i___15733=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_Array__mk();s.res___15705=r0;r0=pxsim_Array__length(s.arg0);s.len___15707=r0;r0=s.arg1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.arg1=0;{step=4;continue}case 1:r0=s.arg1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=Math_max__P11486_mk(s);r0=s.len___15707+s.arg1;s.tmp_1.arg0=r0;s.tmp_1.arg1=0;s.pc=16;return s.tmp_1;case 16:r0=s.retval;s.arg1=r0;case 2:case 3:case 4:r0=s.arg1>s.len___15707;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.res___15705;{step=15;continue}case 5:case 6:r0=s.arg2===undefined;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=7;continue}s.arg2=s.len___15707;{step=10;continue}case 7:r0=s.arg2<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}r0=s.len___15707+s.arg2;s.arg2=r0;case 8:case 9:case 10:r0=s.arg2>s.len___15707;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}s.arg2=s.len___15707;case 11:case 12:s.i___15733=s.arg1;case 13:r0=s.i___15733<s.arg2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}s.tmp_1=r0=s.res___15705;r0=pxsim_Array__getAt(s.arg0,s.i___15733);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_1,s.tmp_2);r0=s.i___15733+1;s.i___15733=r0;{step=13;continue}case 14:r0=s.res___15705;case 15:return leave(s,r0);default:oops()}}}helpers_arraySlice__P11477.info={start:6156,length:690,line:203,column:4,endLine:228,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arraySlice\",argumentNames:[\"arr\",\"start\",\"end\"]};function helpers_arraySlice__P11477_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arraySlice__P11477,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,res___15705:undefined,len___15707:undefined,i___15733:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function particles_updateParticles__P12729(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___15746=undefined;s.time___15751=undefined;s.dt___15754=undefined;s.i___15759=undefined;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.sources___15746=r0;r0=pxsim_numops_toBoolDecr(s.sources___15746);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:s.tmp_2=particles_sortSources__P12731_mk(s);s.tmp_2.arg0=s.sources___15746;s.pc=7;return s.tmp_2;case 7:r0=s.retval;r0=pxsim.control.millis();s.time___15751=r0;r0=s.time___15751-globals.lastUpdate___12705;s.dt___15754=r0;globals.lastUpdate___12705=s.time___15751;s.i___15759=0;case 3:s.tmp_1=r0=s.i___15759;r0=pxsim_Array__length(s.sources___15746);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_3=particles_ParticleSource__update__P12711_mk(s);r0=pxsim_Array__getAt(s.sources___15746,s.i___15759);s.tmp_3.arg0=r0;s.tmp_3.arg1=s.dt___15754;s.pc=8;return s.tmp_3;case 8:r0=s.retval;r0=s.i___15759+1;s.i___15759=r0;{step=3;continue}case 4:case 5:r0=undefined;return leave(s,r0);default:oops()}}}particles_updateParticles__P12729.info={start:9027,length:340,line:301,column:4,endLine:313,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"updateParticles\",argumentNames:[]};function particles_updateParticles__P12729_mk(s){checkStack(s.depth);return{parent:s,fn:particles_updateParticles__P12729,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,sources___15746:undefined,time___15751:undefined,dt___15754:undefined,i___15759:undefined}}function particles_ParticleSource__update__P12711(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___15813=undefined;s.current___15829=undefined;s.fixedDt___15836=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"timer\"];s.tmp_2=r0;r0=s.tmp_2-s.arg1;s.tmp_1=r0;r0=s.tmp_0.fields[\"timer\"]=s.tmp_1;r0=s.arg0.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=r0=s.arg0;r0=s.tmp_2.fields[\"lifespan\"];s.tmp_4=r0;r0=s.tmp_4-s.arg1;s.tmp_3=r0;r0=s.tmp_2.fields[\"lifespan\"]=s.tmp_3;r0=s.arg0.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1<=0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"lifespan\"]=undefined;s.tmp_0=particles_ParticleSource_destroy__P12717_mk(s);s.tmp_0.arg0=s.arg0;s.pc=28;return s.tmp_0;case 28:r0=s.retval;case 1:case 2:{step=10;continue}case 3:r0=s.arg0.fields[\"anchor\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=4;continue}r0=s.tmp_0;{step=5;continue}case 4:s.tmp_2=if_flags_1_mk(s);r0=s.arg0.fields[\"anchor\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"flags\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"flags\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"flags\"]}else{s.pc=29;return s.tmp_2}}case 29:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1!==undefined;case 5:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=6;continue}r0=s.tmp_3;{step=7;continue}case 6:s.tmp_5=if_flags_1_mk(s);r0=s.arg0.fields[\"anchor\"];s.tmp_5.arg0=r0;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"flags\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"flags\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"flags\"]}else{s.pc=30;return s.tmp_5}}case 30:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4&2;case 7:s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=8;continue}r0=s.arg0.fields[\"lifespan\"]=750;case 8:case 9:case 10:case 11:r0=s.arg0.fields[\"timer\"];s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=12;continue}r0=s.tmp_0;{step=13;continue}case 12:s.tmp_2=particles_ParticleSource_enabled__P12715_mk(s);s.tmp_2.arg0=s.arg0;s.pc=31;return s.tmp_2;case 31:r0=s.retval;case 13:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=16;continue}s.tmp_4=r0=s.arg0;r0=s.tmp_4.fields[\"timer\"];s.tmp_6=r0;r0=s.arg0.fields[\"period\"];s.tmp_7=r0;r0=s.tmp_6+s.tmp_7;s.tmp_5=r0;r0=s.tmp_4.fields[\"timer\"]=s.tmp_5;s.tmp_0=particles_ParticleFactory__C12760_v0_2_mk(s);r0=s.arg0.fields[\"_factory\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"anchor\"];s.tmp_0.arg1=r0;if(!checkSubtype(s.tmp_0.arg0,particles_ParticleFactory__C12760_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.createParticle;s.pc=32;return s.tmp_0;case 32:r0=s.retval;s.p___15813=r0;r0=pxsim_numops_toBoolDecr(s.p___15813);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}{step=11;continue}case 14:case 15:r0=s.arg0.fields[\"head\"];s.tmp_2=r0;r0=s.p___15813.fields[\"next\"]=s.tmp_2;r0=s.arg0.fields[\"head\"]=s.p___15813;{step=11;continue}case 16:r0=s.arg0.fields[\"head\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}{step=27;continue}case 17:case 18:r0=s.arg0.fields[\"head\"];s.current___15829=r0;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"_dt\"];s.tmp_2=r0;r0=s.tmp_2+s.arg1;s.tmp_1=r0;r0=s.tmp_0.fields[\"_dt\"]=s.tmp_1;r0=s.arg0.fields[\"_dt\"];s.tmp_0=r0;r0=s.tmp_0*256;s.tmp_1=r0;r0=s.tmp_1|0;s.fixedDt___15836=r0;r0=pxsim_numops_toBoolDecr(s.fixedDt___15836);if(!r0){step=23;continue}case 19:r0=s.current___15829.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=20;continue}s.tmp_2=r0=s.current___15829;r0=s.tmp_2.fields[\"lifespan\"];s.tmp_4=r0;r0=s.tmp_4-s.arg1;s.tmp_3=r0;r0=s.tmp_2.fields[\"lifespan\"]=s.tmp_3;s.tmp_0=particles_ParticleSource__C12708_v6_3_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.current___15829;s.tmp_0.arg2=s.fixedDt___15836;if(!checkSubtype(s.tmp_0.arg0,particles_ParticleSource__C12708_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.updateParticle;s.pc=33;return s.tmp_0;case 33:r0=s.retval;case 20:case 21:r0=s.current___15829.fields[\"next\"];s.tmp_0=r0;s.current___15829=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=22;continue}{step=19;continue}case 22:r0=s.arg0.fields[\"_dt\"]=0;{step=26;continue}case 23:case 24:s.tmp_0=r0=s.current___15829;r0=s.tmp_0.fields[\"lifespan\"];s.tmp_2=r0;r0=s.tmp_2-s.arg1;s.tmp_1=r0;r0=s.tmp_0.fields[\"lifespan\"]=s.tmp_1;r0=s.current___15829.fields[\"next\"];s.tmp_0=r0;s.current___15829=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=25;continue}{step=24;continue}case 25:case 26:case 27:r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource__update__P12711.info={start:3511,length:1400,line:121,column:8,endLine:161,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"_update\",argumentNames:[\"this\",\"dt\"]};function particles_ParticleSource__update__P12711_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource__update__P12711,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,p___15813:undefined,current___15829:undefined,fixedDt___15836:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleFactory_createParticle__P12761(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___15929=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleFactory__C12760_VT))failedCast(r0);r0=pxsim_pxtcore_mkClassInstance(particles_Particle__C12706_VT);s.p___15929=r0;s.tmp_0=r0=s.p___15929;s.tmp_3=if_x_1_mk(s);s.tmp_3.arg0=s.arg1;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"x\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"x\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"x\"]}else{s.pc=1;return s.tmp_3}}case 1:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_4=r0;r0=s.tmp_4|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_0=r0=s.p___15929;s.tmp_3=if_y_1_mk(s);s.tmp_3.arg0=s.arg1;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"y\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"y\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"y\"]}else{s.pc=2;return s.tmp_3}}case 2:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_4=r0;r0=s.tmp_4|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_y\"]=s.tmp_1;r0=s.p___15929.fields[\"vx\"]=globals.zeroFx8___11504;r0=s.p___15929.fields[\"vy\"]=globals.zeroFx8___11504;r0=s.p___15929.fields[\"lifespan\"]=500;r0=s.p___15929;return leave(s,r0);default:oops()}}}particles_ParticleFactory_createParticle__P12761.info={start:1822,length:282,line:67,column:8,endLine:77,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"createParticle\",argumentNames:[\"this\",\"anchor\"]};function particles_ParticleFactory_createParticle__P12761_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleFactory_createParticle__P12761,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,p___15929:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource_updateParticle__P12723(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=s.arg2>>10;s.arg2=r0;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"vx\"];s.tmp_2=r0;r0=s.arg0.fields[\"ax\"];s.tmp_4=r0;r0=pxsim.Math_.imul(s.tmp_4,s.arg2);s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"vx\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"vy\"];s.tmp_2=r0;r0=s.arg0.fields[\"ay\"];s.tmp_4=r0;r0=pxsim.Math_.imul(s.tmp_4,s.arg2);s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"vy\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"_x\"];s.tmp_2=r0;r0=s.arg1.fields[\"vx\"];s.tmp_4=r0;r0=pxsim.Math_.imul(s.tmp_4,s.arg2);s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"_y\"];s.tmp_2=r0;r0=s.arg1.fields[\"vy\"];s.tmp_4=r0;r0=pxsim.Math_.imul(s.tmp_4,s.arg2);s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"_y\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_updateParticle__P12723.info={start:7756,length:357,line:265,column:8,endLine:273,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"updateParticle\",argumentNames:[\"this\",\"p\",\"fixedDt\"]};function particles_ParticleSource_updateParticle__P12723_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_updateParticle__P12723,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Fx_rightShift__P11522(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0>>s.arg1;return leave(s,r0);default:oops()}}}Fx_rightShift__P11522.info={start:1883,length:108,line:62,column:4,endLine:64,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"rightShift\",argumentNames:[\"a\",\"n\"]};function Fx_rightShift__P11522_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_rightShift__P11522,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Fx_mul__P11514(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim.Math_.imul(s.arg0,s.arg1);s.tmp_0=r0;r0=s.tmp_0>>8;return leave(s,r0);default:oops()}}}Fx_mul__P11514.info={start:859,length:133,line:29,column:4,endLine:31,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"mul\",argumentNames:[\"a\",\"b\"]};function Fx_mul__P11514_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_mul__P11514,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function Fx_add__P11511(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0+s.arg1;return leave(s,r0);default:oops()}}}Fx_add__P11511.info={start:498,length:118,line:20,column:4,endLine:22,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"add\",argumentNames:[\"a\",\"b\"]};function Fx_add__P11511_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_add__P11511,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function particles_SprayFactory_constructor__P12770(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_SprayFactory__C12764_VT))failedCast(r0);s.tmp_0=particles_ParticleFactory_constructor__P12763_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=particles_initTrig__P12754_mk(s);s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=particles_SprayFactory_setSpeed__P12768_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=particles_SprayFactory_setDirection__P12769_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg2;s.tmp_0.arg2=s.arg3;s.pc=4;return s.tmp_0;case 4:r0=s.retval;return leave(s,r0);default:oops()}}}particles_SprayFactory_constructor__P12770.info={start:2623,length:218,line:98,column:8,endLine:103,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"inline\",argumentNames:[\"this\",\"speed\",\"centerDegrees\",\"arcDegrees\"]};function particles_SprayFactory_constructor__P12770_mk(s){checkStack(s.depth);return{parent:s,fn:particles_SprayFactory_constructor__P12770,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_SprayFactory_setDirection__P12769(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_SprayFactory__C12764_VT))failedCast(r0);s.tmp_0=r0=s.arg0;s.tmp_4=particles_toRadians__P12759_mk(s);s.tmp_5=r0=s.arg1;r0=s.arg2>>1;s.tmp_6=r0;r0=s.tmp_5-s.tmp_6;s.tmp_4.arg0=r0;s.pc=1;return s.tmp_4;case 1:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3/globals.angleSlice___12751;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"minAngle\"]=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_4=particles_toRadians__P12759_mk(s);s.tmp_4.arg0=s.arg2;s.pc=2;return s.tmp_4;case 2:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3/globals.angleSlice___12751;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"spread\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}particles_SprayFactory_setDirection__P12769.info={start:3424,length:228,line:123,column:8,endLine:126,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"setDirection\",argumentNames:[\"this\",\"centerDegrees\",\"arcDegrees\"]};function particles_SprayFactory_setDirection__P12769_mk(s){checkStack(s.depth);return{parent:s,fn:particles_SprayFactory_setDirection__P12769,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function particles_toRadians__P12759(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=Math_abs__P11484_mk(s);s.tmp_3.arg0=s.arg0;s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2%360;s.tmp_1=r0;r0=360-s.tmp_1;s.arg0=r0;{step=2;continue}case 1:r0=s.arg0%360;s.arg0=r0;case 2:r0=s.arg0*globals.ratio___12757;return leave(s,r0);default:oops()}}}particles_toRadians__P12759.info={start:1307,length:206,line:45,column:4,endLine:52,endColumn:5,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"toRadians\",argumentNames:[\"degrees\"]};function particles_toRadians__P12759_mk(s){checkStack(s.depth);return{parent:s,fn:particles_toRadians__P12759,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function particles_ParticleFactory_constructor__P12763(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleFactory__C12760_VT))failedCast(r0);return leave(s,r0);default:oops()}}}particles_ParticleFactory_constructor__P12763.info={start:1617,length:78,line:59,column:8,endLine:61,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function particles_ParticleFactory_constructor__P12763_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleFactory_constructor__P12763,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function particles_initTrig__P12754(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.cachedSin___12744);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=particles_cacheSin__P12755_mk(s);s.tmp_2.arg0=100;s.pc=3;return s.tmp_2;case 3:r0=s.retval;globals.cachedSin___12744=r0;s.tmp_0=particles_cacheCos__P12756_mk(s);s.tmp_0.arg0=100;s.pc=4;return s.tmp_0;case 4:r0=s.retval;globals.cachedCos___12745=r0;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_initTrig__P12754.info={start:291,length:155,line:11,column:4,endLine:16,endColumn:5,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"initTrig\",argumentNames:[]};function particles_initTrig__P12754_mk(s){checkStack(s.depth);return{parent:s,fn:particles_initTrig__P12754,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function particles_cacheCos__P12756(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.cos___15445=undefined;s.anglePerSlice___15447=undefined;s.i___15450=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_Array__mk();s.cos___15445=r0;r0=2*3.141592653589793;s.tmp_0=r0;r0=s.tmp_0/s.arg0;s.anglePerSlice___15447=r0;s.i___15450=0;case 1:r0=s.i___15450<s.arg0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=r0=s.cos___15445;r0=s.i___15450*s.anglePerSlice___15447;s.tmp_4=r0;r0=pxsim.Math_.cos(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3*256;s.tmp_5=r0;r0=s.tmp_5|0;s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_1,s.tmp_2);r0=s.i___15450+1;s.i___15450=r0;{step=1;continue}case 2:r0=s.cos___15445;return leave(s,r0);default:oops()}}}particles_cacheCos__P12756.info={start:1005,length:263,line:35,column:4,endLine:42,endColumn:5,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"cacheCos\",argumentNames:[\"slices\"]};function particles_cacheCos__P12756_mk(s){checkStack(s.depth);return{parent:s,fn:particles_cacheCos__P12756,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,cos___15445:undefined,anglePerSlice___15447:undefined,i___15450:undefined,arg0:undefined}}function particles_cacheSin__P12755(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sin___15466=undefined;s.anglePerSlice___15468=undefined;s.i___15471=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_Array__mk();s.sin___15466=r0;r0=2*3.141592653589793;s.tmp_0=r0;r0=s.tmp_0/s.arg0;s.anglePerSlice___15468=r0;s.i___15471=0;case 1:r0=s.i___15471<s.arg0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=r0=s.sin___15466;r0=s.i___15471*s.anglePerSlice___15468;s.tmp_4=r0;r0=pxsim.Math_.sin(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3*256;s.tmp_5=r0;r0=s.tmp_5|0;s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_1,s.tmp_2);r0=s.i___15471+1;s.i___15471=r0;{step=1;continue}case 2:r0=s.sin___15466;return leave(s,r0);default:oops()}}}particles_cacheSin__P12755.info={start:594,length:263,line:22,column:4,endLine:29,endColumn:5,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"cacheSin\",argumentNames:[\"slices\"]};function particles_cacheSin__P12755_mk(s){checkStack(s.depth);return{parent:s,fn:particles_cacheSin__P12755,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,sin___15466:undefined,anglePerSlice___15468:undefined,i___15471:undefined,arg0:undefined}}function particles_ParticleSource_setFactory__P12722(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=1;continue}r0=s.arg0.fields[\"_factory\"]=s.arg1;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_setFactory__P12722.info={start:7632,length:114,line:260,column:8,endLine:263,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"setFactory\",argumentNames:[\"this\",\"factory\"]};function particles_ParticleSource_setFactory__P12722_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_setFactory__P12722,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function particles_ParticleSource_setRate__P12720(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=1e3/s.arg1;s.tmp_2=r0;r0=pxsim.Math_.ceil(s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"period\"]=s.tmp_1;r0=s.arg0.fields[\"timer\"]=0;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_setRate__P12720.info={start:7310,length:139,line:247,column:8,endLine:250,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"setRate\",argumentNames:[\"this\",\"particlesPerSecond\"]};function particles_ParticleSource_setRate__P12720_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_setRate__P12720,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource_setAnchor__P12719(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=s.arg0.fields[\"anchor\"]=s.arg1;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_setAnchor__P12719.info={start:7101,length:79,line:239,column:8,endLine:241,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"setAnchor\",argumentNames:[\"this\",\"anchor\"]};function particles_ParticleSource_setAnchor__P12719_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_setAnchor__P12719,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function particles_ParticleSource_clear__P12718(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=s.arg0.fields[\"head\"]=undefined;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_clear__P12718.info={start:6931,length:54,line:231,column:8,endLine:233,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"clear\",argumentNames:[\"this\"]};function particles_ParticleSource_clear__P12718_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_clear__P12718,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function particles_ParticleSource_destroy__P12717(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=particles_ParticleSource_enabled__P12716_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=false;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"pFlags\"];s.tmp_2=r0;r0=s.tmp_2|2;s.tmp_1=r0;r0=s.tmp_0.fields[\"pFlags\"]=s.tmp_1;s.tmp_0=particles_ParticleSource__prune__P12712_mk(s);s.tmp_0.arg0=s.arg0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_destroy__P12717.info={start:6601,length:240,line:221,column:8,endLine:226,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"destroy\",argumentNames:[\"this\"]};function particles_ParticleSource_destroy__P12717_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_destroy__P12717,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function particles_ParticleSource_enabled__P12716(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_1=r0=s.arg1;s.tmp_3=particles_ParticleSource_enabled__P12715_mk(s);s.tmp_3.arg0=s.arg0;s.pc=5;return s.tmp_3;case 5:r0=s.retval;s.tmp_2=r0;r0=s.tmp_1!==s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=1;continue}r0=s.arg0.fields[\"pFlags\"];s.tmp_4=r0;r0=s.tmp_4|1;{step=2;continue}case 1:r0=s.arg0.fields[\"pFlags\"];s.tmp_5=r0;r0=s.tmp_5^1;case 2:s.tmp_6=r0;r0=s.arg0.fields[\"pFlags\"]=s.tmp_6;r0=s.arg0.fields[\"timer\"]=0;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_enabled__P12716.info={start:6323,length:214,line:211,column:8,endLine:216,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"enabled\",argumentNames:[\"this\",\"v\"]};function particles_ParticleSource_enabled__P12716_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_enabled__P12716,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource_enabled__P12715(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=s.arg0.fields[\"pFlags\"];s.tmp_4=r0;r0=s.tmp_4&1;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}particles_ParticleSource_enabled__P12715.info={start:6129,length:76,line:204,column:8,endLine:206,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"enabled\",argumentNames:[\"this\"]};function particles_ParticleSource_enabled__P12715_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_enabled__P12715,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function particles_ParticleSource_setAcceleration__P12713(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"ax\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg2*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"ay\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_setAcceleration__P12713.info={start:5843,length:113,line:191,column:8,endLine:194,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"setAcceleration\",argumentNames:[\"this\",\"ax\",\"ay\"]};function particles_ParticleSource_setAcceleration__P12713_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_setAcceleration__P12713,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function helpers_arrayShift__P11463(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_Array_.removeAt(s.arg0,0);return leave(s,r0);default:oops()}}}helpers_arrayShift__P11463.info={start:1762,length:82,line:69,column:4,endLine:71,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayShift\",argumentNames:[\"arr\"]};function helpers_arrayShift__P11463_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayShift__P11463,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function particles_SprayFactory_setSpeed__P12768(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_SprayFactory__C12764_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"speed\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}particles_SprayFactory_setSpeed__P12768.info={start:3322,length:92,line:119,column:8,endLine:121,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"setSpeed\",argumentNames:[\"this\",\"pixelsPerSecond\"]};function particles_SprayFactory_setSpeed__P12768_mk(s){checkStack(s.depth);return{parent:s,fn:particles_SprayFactory_setSpeed__P12768,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function particles_ConfettiFactory_constructor__P12789(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.confetti___15963=undefined;s.i___15979=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ConfettiFactory__C12787_VT))failedCast(r0);r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex15966);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex15968);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);r0=pxsim.image.ofBuffer(_hex15970);s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_3);r0=pxsim.image.ofBuffer(_hex15972);s.tmp_4=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_4);r0=pxsim.image.ofBuffer(_hex15974);s.tmp_5=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_5);s.confetti___15963=s.tmp_0;s.tmp_0=particles_ShapeFactory_constructor__P12786_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;r0=pxsim_Array__getAt(s.confetti___15963,0);s.tmp_0.arg3=r0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.i___15979=1;case 1:s.tmp_1=r0=s.i___15979;r0=pxsim_Array__length(s.confetti___15963);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_3=particles_ShapeFactory_addShape__P12783_mk(s);s.tmp_3.arg0=s.arg0;r0=pxsim_Array__getAt(s.confetti___15963,s.i___15979);s.tmp_3.arg1=r0;s.pc=4;return s.tmp_3;case 4:r0=s.retval;r0=s.i___15979+1;s.i___15979=r0;{step=1;continue}case 2:r0=s.arg0.fields[\"minLifespan\"]=1e3;r0=s.arg0.fields[\"maxLifespan\"]=4500;return leave(s,r0);default:oops()}}}particles_ConfettiFactory_constructor__P12789.info={start:7755,length:706,line:247,column:8,endLine:274,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"inline\",argumentNames:[\"this\",\"xRange\",\"yRange\"]};function particles_ConfettiFactory_constructor__P12789_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ConfettiFactory_constructor__P12789,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,confetti___15963:undefined,i___15979:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}const _hex15966=pxsim.BufferMethods.createBufferFromHex(\"87040100010000000f000000\");const _hex15968=pxsim.BufferMethods.createBufferFromHex(\"8704010002000000ff000000\");const _hex15970=pxsim.BufferMethods.createBufferFromHex(\"87040200010000000f0000000f000000\");const _hex15972=pxsim.BufferMethods.createBufferFromHex(\"8704020002000000ff0000000f000000\");const _hex15974=pxsim.BufferMethods.createBufferFromHex(\"87040200020000000f000000ff000000\");function particles_ShapeFactory_constructor__P12786(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ShapeFactory__C12781_VT))failedCast(r0);s.tmp_0=particles_AreaFactory_constructor__P12775_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=undefined;s.tmp_0.arg4=undefined;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg3);r0=s.arg0.fields[\"sources\"]=s.tmp_0;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.width(s.arg3);s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_4=r0;r0=s.tmp_4|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"ox\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.height(s.arg3);s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_4=r0;r0=s.tmp_4|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"oy\"]=s.tmp_1;return leave(s,r0);default:oops()}}}particles_ShapeFactory_constructor__P12786.info={start:6668,length:285,line:212,column:8,endLine:219,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"inline\",argumentNames:[\"this\",\"xRange\",\"yRange\",\"source\"]};function particles_ShapeFactory_constructor__P12786_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ShapeFactory_constructor__P12786,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_AreaFactory_constructor__P12775(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_AreaFactory__C12771_VT))failedCast(r0);s.tmp_0=particles_SprayFactory_constructor__P12770_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=40;s.tmp_0.arg2=0;s.tmp_0.arg3=90;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=s.arg0.fields[\"xRange\"]=s.arg1;r0=s.arg0.fields[\"yRange\"]=s.arg2;r0=pxsim_numops_toBoolDecr(s.arg3);if(!r0){step=1;continue}r0=s.arg3;{step=2;continue}case 1:r0=150;case 2:s.tmp_0=r0;r0=s.arg0.fields[\"minLifespan\"]=s.tmp_0;r0=pxsim_numops_toBoolDecr(s.arg4);if(!r0){step=3;continue}r0=s.arg4;{step=4;continue}case 3:r0=850;case 4:s.tmp_0=r0;r0=s.arg0.fields[\"maxLifespan\"]=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(Math_FastRandom__C12579_VT);s.tmp_0=r0;s.tmp_1=Math_FastRandom_constructor__P12586_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=undefined;s.pc=6;return s.tmp_1;case 6:r0=s.retval;r0=s.arg0.fields[\"galois\"]=s.tmp_0;return leave(s,r0);default:oops()}}}particles_AreaFactory_constructor__P12775.info={start:3950,length:374,line:139,column:8,endLine:146,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"inline\",argumentNames:[\"this\",\"xRange\",\"yRange\",\"minLifespan\",\"maxLifespan\"]};function particles_AreaFactory_constructor__P12775_mk(s){checkStack(s.depth);return{parent:s,fn:particles_AreaFactory_constructor__P12775,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function particles_ShapeFactory_addShape__P12783(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ShapeFactory__C12781_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=1;continue}r0=s.arg0.fields[\"sources\"];s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg1);case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_ShapeFactory_addShape__P12783.info={start:7079,length:83,line:225,column:8,endLine:227,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"addShape\",argumentNames:[\"this\",\"shape\"]};function particles_ShapeFactory_addShape__P12783_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ShapeFactory_addShape__P12783,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function effects_ScreenEffect_constructor__P12841(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ScreenEffect__C12837_VT))failedCast(r0);s.tmp_0=effects_ParticleEffect_constructor__P12830_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg3;s.tmp_0.arg3=s.arg4;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=s.arg0.fields[\"sceneDefaultRate\"]=s.arg2;return leave(s,r0);default:oops()}}}effects_ScreenEffect_constructor__P12841.info={start:2771,length:332,line:80,column:8,endLine:84,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"inline\",argumentNames:[\"this\",\"anchorDefault\",\"sceneDefault\",\"defaultLifespan\",\"sourceFactory\"]};function effects_ScreenEffect_constructor__P12841_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ScreenEffect_constructor__P12841,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function effects_ParticleEffect_constructor__P12830(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ParticleEffect__C12827_VT))failedCast(r0);r0=s.arg0.fields[\"sourceFactory\"]=s.arg3;r0=s.arg0.fields[\"defaultRate\"]=s.arg1;r0=s.arg0.fields[\"defaultLifespan\"]=s.arg2;return leave(s,r0);default:oops()}}}effects_ParticleEffect_constructor__P12830.info={start:384,length:364,line:13,column:8,endLine:18,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"inline\",argumentNames:[\"this\",\"defaultParticlesPerSecond\",\"defaultLifespan\",\"sourceFactory\"]};function effects_ParticleEffect_constructor__P12830_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ParticleEffect_constructor__P12830,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function scene_Scene_constructor__P12357(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"eventContext\"]=s.arg1;r0=s.arg0.fields[\"flags\"]=0;r0=pxsim_pxtcore_mkClassInstance(ArcadePhysicsEngine__C12152_VT);s.tmp_0=r0;s.tmp_1=ArcadePhysicsEngine_constructor__P12164_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=500;s.tmp_1.arg2=2;s.tmp_1.arg3=4;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=s.arg0.fields[\"physicsEngine\"]=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(scene_Camera__C12311_VT);s.tmp_0=r0;s.tmp_1=scene_Camera_constructor__P12314_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;r0=s.arg0.fields[\"camera\"]=s.tmp_0;r0=pxsim_pxtcore_mkClassInstance(scene_Background__C12271_VT);s.tmp_0=r0;s.tmp_1=scene_Background_constructor__P12277_mk(s);s.tmp_1.arg0=s.tmp_0;r0=s.arg0.fields[\"camera\"];s.tmp_1.arg1=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=s.arg0.fields[\"background\"]=s.tmp_0;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"destroyedHandlers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"createdHandlers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"overlapHandlers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_pxtrt.mkMap();s.tmp_1=r0;r0=s.tmp_0.fields[\"overlapMap\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"collisionHandlers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"gameForeverHandlers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_pxtrt.mkMap();s.tmp_1=r0;r0=s.tmp_0.fields[\"spritesByKind\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"controlledSprites\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_pxtrt.mkMap();s.tmp_1=r0;r0=s.tmp_0.fields[\"_data\"]=s.tmp_1;r0=s.arg0.fields[\"_millis\"]=0;return leave(s,r0);default:oops()}}}scene_Scene_constructor__P12357.info={start:2508,length:672,line:81,column:8,endLine:97,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[\"this\",\"eventContext\"]};function scene_Scene_constructor__P12357_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_constructor__P12357,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function scene_Camera_constructor__P12314(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Camera__C12311_VT))failedCast(r0);r0=s.arg0.fields[\"offsetX\"]=0;r0=s.arg0.fields[\"offsetY\"]=0;r0=s.arg0.fields[\"drawOffsetX\"]=0;r0=s.arg0.fields[\"drawOffsetY\"]=0;return leave(s,r0);default:oops()}}}scene_Camera_constructor__P12314.info={start:427,length:154,line:14,column:8,endLine:20,endColumn:9,fileName:\"pxt_modules/game/camera.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function scene_Camera_constructor__P12314_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Camera_constructor__P12314,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function scene_Background_constructor__P12277(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Background__C12271_VT))failedCast(r0);r0=s.arg0.fields[\"color\"]=0;r0=s.arg0.fields[\"camera\"]=s.arg1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_layers\"]=s.tmp_1;return leave(s,r0);default:oops()}}}scene_Background_constructor__P12277.info={start:367,length:132,line:20,column:8,endLine:24,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"inline\",argumentNames:[\"this\",\"camera\"]};function scene_Background_constructor__P12277_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Background_constructor__P12277,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function ArcadePhysicsEngine_constructor__P12164(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);s.tmp_0=PhysicsEngine_constructor__P12140_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"sprites\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"maxVelocity\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"maxVelocity\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"maxNegativeVelocity\"]=s.tmp_1;r0=pxsim_pxtcore_mkClassInstance(sprites_SpriteMap__C12084_VT);s.tmp_0=r0;s.tmp_1=sprites_SpriteMap_constructor__P12096_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;r0=s.arg0.fields[\"map\"]=s.tmp_0;s.tmp_0=r0=s.arg0;r0=s.arg2*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"minSingleStep\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg3*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"maxSingleStep\"]=s.tmp_1;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_constructor__P12164.info={start:1262,length:368,line:53,column:4,endLine:61,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"this\",\"maxVelocity\",\"minSingleStep\",\"maxSingleStep\"]};function ArcadePhysicsEngine_constructor__P12164_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_constructor__P12164,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function PhysicsEngine_constructor__P12140(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);return leave(s,r0);default:oops()}}}PhysicsEngine_constructor__P12140.info={start:26,length:21,line:1,column:4,endLine:2,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function PhysicsEngine_constructor__P12140_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_constructor__P12140,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function sprites_SpriteMap_constructor__P12096(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"buckets\"]=s.tmp_1;return leave(s,r0);default:oops()}}}sprites_SpriteMap_constructor__P12096.info={start:237,length:56,line:8,column:8,endLine:10,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function sprites_SpriteMap_constructor__P12096_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_constructor__P12096,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Fx_neg__P11509(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=0-s.arg0;return leave(s,r0);default:oops()}}}Fx_neg__P11509.info={start:298,length:88,line:14,column:4,endLine:16,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"neg\",argumentNames:[\"a\"]};function Fx_neg__P11509_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_neg__P11509,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function scene_Scene_init__P12349(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"allSprites\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_1=power_poke__P11817_mk(s);s.pc=4;return s.tmp_1;case 4:r0=s.retval;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"allSprites\"]=s.tmp_1;r0=s.arg0.fields[\"spriteNextId\"]=0;r0=pxsim_pxtcore_mkAction(1,inline__P16100);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=8;s.tmp_1.arg2=s.tmp_0;s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=13;s.tmp_0.arg2=controller__moveSprites__P11980;s.pc=6;return s.tmp_0;case 6:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P16122);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=15;s.tmp_1.arg2=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P16152);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=90;s.tmp_1.arg2=s.tmp_0;s.pc=8;return s.tmp_1;case 8:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P16164);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=150;s.tmp_1.arg2=s.tmp_0;s.pc=9;return s.tmp_1;case 9:r0=s.retval;s.tmp_0=control_EventContext_registerFrameHandler__P11651_mk(s);r0=s.arg0.fields[\"eventContext\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=200;s.tmp_0.arg2=control___screen_update__P11860;s.pc=10;return s.tmp_0;case 10:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P16194);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_1.arg0=globals.scene_Scene_initializers___12356;s.tmp_1.arg1=s.tmp_0;s.pc=11;return s.tmp_1;case 11:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}scene_Scene_init__P12349.info={start:3190,length:2391,line:99,column:8,endLine:155,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"init\",argumentNames:[\"this\"]};function scene_Scene_init__P12349_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_init__P12349,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P16100(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=r0=s.caps[0];r0=s.tmp_0.fields[\"_millis\"];s.tmp_2=r0;r0=s.caps[0].fields[\"eventContext\"];r0=r0.fields[\"deltaTimeMillis\"];s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"_millis\"]=s.tmp_1;s.tmp_0=controller___update__P12006_mk(s);r0=s.caps[0].fields[\"eventContext\"];s.tmp_1=r0;r0=s.tmp_1.fields[\"deltaTimeMillis\"];s.tmp_2=r0;r0=s.tmp_2/1e3;s.tmp_0.arg0=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16100.info={start:3480,length:217,line:106,column:72,endLine:110,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[]};function inline__P16100_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16100,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P16122(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.dt___16125=undefined;s.s___16139=undefined;s.unnamed138___U2=undefined;s.unnamed139___U3=undefined;r0=s.caps[0].fields[\"eventContext\"];s.tmp_0=r0;r0=s.tmp_0.fields[\"deltaTimeMillis\"];s.tmp_1=r0;r0=s.tmp_1/1e3;s.dt___16125=r0;s.tmp_0=PhysicsEngine__C12133_v4_2_mk(s);r0=s.caps[0].fields[\"physicsEngine\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.dt___16125;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.move;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=scene_Camera_update__P12313_mk(s);r0=s.caps[0].fields[\"camera\"];s.tmp_0.arg0=r0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.s___16139=undefined;s.s___16139=undefined;r0=s.caps[0].fields[\"allSprites\"];s.unnamed138___U2=r0;s.unnamed139___U3=0;case 1:s.tmp_0=r0=s.unnamed139___U3;r0=pxsim_Array__length(s.unnamed138___U2);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed138___U2,s.unnamed139___U3);s.s___16139=r0;s.tmp_2=if___update_3_mk(s);s.tmp_2.arg0=s.s___16139;r0=s.caps[0].fields[\"camera\"];s.tmp_2.arg1=r0;s.tmp_2.arg2=s.dt___16125;s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"__update\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"__update\"]}else{s.pc=5;return s.tmp_2}case 5:r0=s.retval;r0=s.unnamed139___U3+1;s.unnamed139___U3=r0;{step=1;continue}case 2:s.unnamed138___U2=undefined;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16122.info={start:3992,length:328,line:115,column:69,endLine:124,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[]};function inline__P16122_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16122,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,dt___16125:undefined,s___16139:undefined,unnamed138___U2:undefined,unnamed139___U3:undefined}}function inline__P16152(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"cachedRender\"]=undefined;s.tmp_0=scene_Scene_renderCore__P12355_mk(s);s.tmp_0.arg0=s.caps[0];s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16152.info={start:4495,length:160,line:130,column:76,endLine:134,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[]};function inline__P16152_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16152,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P16164(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=r0=globals.stats___12424;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=globals.control_EventContext_onStats___11657;case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}s.tmp_2=lambda_2_mk(s);s.tmp_2.argL=globals.control_EventContext_onStats___11657;if(globals.control_EventContext_lastStats___11656&&globals.control_EventContext_lastStats___11656.vtable){setupResume(s,8);pxsim_String__stringConv(globals.control_EventContext_lastStats___11656);checkResumeConsumed();return}else{s.retval=globals.control_EventContext_lastStats___11656+\"\"}case 8:r0=s.retval;s.tmp_3=r0;r0=s.caps[0].fields[\"allSprites\"];s.tmp_8=r0;r0=pxsim_Array__length(s.tmp_8);s.tmp_7=r0;if(s.tmp_7&&s.tmp_7.vtable){setupResume(s,9);pxsim_String__stringConv(s.tmp_7);checkResumeConsumed();return}else{s.retval=s.tmp_7+\"\"}case 9:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(\" sprites:\",s.tmp_6);s.tmp_5=r0;if(s.tmp_5&&s.tmp_5.vtable){setupResume(s,10);pxsim_String__stringConv(s.tmp_5);checkResumeConsumed();return}else{s.retval=s.tmp_5+\"\"}case 10:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_4);s.tmp_2.arg0=r0;setupLambda(s.tmp_2,s.tmp_2.argL);s.pc=7;return s.tmp_2;case 7:r0=s.retval;case 3:case 4:r0=pxsim_numops_toBoolDecr(globals.debug___12423);if(!r0){step=5;continue}s.tmp_0=PhysicsEngine__C12133_v3_1_mk(s);r0=s.caps[0].fields[\"physicsEngine\"];s.tmp_0.arg0=r0;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.draw;s.pc=11;return s.tmp_0;case 11:r0=s.retval;case 5:case 6:s.tmp_0=game_consoleOverlay_draw__P12694_mk(s);s.pc=12;return s.tmp_0;case 12:r0=s.retval;r0=s.caps[0].fields[\"flags\"]=0;s.tmp_0=power_checkDeepSleep__P11818_mk(s);s.pc=13;return s.tmp_0;case 13:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16164.info={start:4772,length:567,line:136,column:80,endLine:150,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[]};function inline__P16164_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16164,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined}}function inline__P16194(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);s.tmp_0.argL=s.arg0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16194.info={start:5557,length:12,line:154,column:39,endLine:154,endColumn:51,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[\"f\"]};function inline__P16194_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16194,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function game_consoleOverlay_draw__P12694(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.height___16231=undefined;s.top___16235=undefined;s.i___16240=undefined;s.t___16251=undefined;s.tOff___16257=undefined;s.tab___16259=undefined;s.unnamed142___U6=undefined;s.unnamed143___U7=undefined;s.padding___16261=undefined;r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_numops_toBoolDecr(globals.instance___12587);s.tmp_4=r0;r0=pxsim_Boolean__bang(s.tmp_4);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=3;continue}{step=13;continue}case 3:case 4:s.tmp_7=if_charHeight_1_mk(s);s.tmp_7.arg0=globals.consoleFont___12667;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"charHeight\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"charHeight\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"charHeight\"]}else{s.pc=14;return s.tmp_7}}case 14:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6+2;s.height___16231=r0;r0=pxsim_numops_toBoolDecr(globals.stats___12424);if(!r0){step=5;continue}r0=s.height___16231;{step=6;continue}case 5:r0=0;case 6:s.tmp_0=r0;r0=2+s.tmp_0;s.top___16235=r0;s.i___16240=0;case 7:s.tmp_1=r0=s.i___16240;r0=pxsim_Array__length(globals.consoleStrings___12662);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=12;continue}r0=pxsim_Array__getAt(globals.consoleStrings___12662,s.i___16240);s.tmp_5=r0;r0=pxsim_String_.indexOf(s.tmp_5,\"\\\\t\",undefined);s.tmp_4=r0;r0=s.tmp_4>=0;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=10;continue}s.tmp_6=helpers_stringSplit__P11480_mk(s);r0=pxsim_Array__getAt(globals.consoleStrings___12662,s.i___16240);s.tmp_6.arg0=r0;s.tmp_6.arg1=\"\\\\t\";s.tmp_6.arg2=undefined;s.pc=15;return s.tmp_6;case 15:r0=s.retval;s.t___16251=r0;s.tOff___16257=0;s.tab___16259=undefined;s.tab___16259=undefined;s.unnamed142___U6=s.t___16251;s.unnamed143___U7=0;case 8:s.tmp_0=r0=s.unnamed143___U7;r0=pxsim_Array__length(s.unnamed142___U6);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=9;continue}r0=pxsim_Array__getAt(s.unnamed142___U6,s.unnamed143___U7);s.tab___16259=r0;s.tmp_2=r0=globals.tabSize___12663;s.tmp_5=r0=s.tOff___16257;r0=pxsim_String_.length(s.tab___16259);s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_4=r0;r0=s.tmp_4%globals.tabSize___12663;s.tmp_3=r0;r0=s.tmp_2-s.tmp_3;s.padding___16261=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.tab___16259;s.tmp_2=r0=s.tOff___16257;s.tmp_4=if_charWidth_1_mk(s);s.tmp_4.arg0=globals.consoleFont___12667;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"charWidth\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"charWidth\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"charWidth\"]}else{s.pc=17;return s.tmp_4}}case 17:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2*s.tmp_3;s.tmp_1=r0;r0=4+s.tmp_1;s.tmp_0.arg2=r0;s.tmp_5=r0=s.top___16235;r0=s.i___16240*s.height___16231;s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_0.arg3=r0;s.tmp_0.arg4=globals.consoleColor___12661;s.tmp_0.arg5=globals.consoleFont___12667;s.tmp_0.arg6=undefined;s.pc=16;return s.tmp_0;case 16:r0=s.retval;s.tmp_0=r0=s.tOff___16257;r0=pxsim_String_.length(s.tab___16259);s.tmp_2=r0;r0=s.tmp_2+s.padding___16261;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.tOff___16257=r0;r0=s.unnamed143___U7+1;s.unnamed143___U7=r0;{step=8;continue}case 9:s.unnamed142___U6=undefined;{step=11;continue}case 10:s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=pxsim_Array__getAt(globals.consoleStrings___12662,s.i___16240);s.tmp_0.arg1=r0;s.tmp_0.arg2=4;s.tmp_1=r0=s.top___16235;r0=s.i___16240*s.height___16231;s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.tmp_0.arg3=r0;s.tmp_0.arg4=globals.consoleColor___12661;s.tmp_0.arg5=globals.consoleFont___12667;s.tmp_0.arg6=undefined;s.pc=18;return s.tmp_0;case 18:r0=s.retval;case 11:r0=s.i___16240+1;s.i___16240=r0;{step=7;continue}case 12:case 13:r0=undefined;return leave(s,r0);default:oops()}}}game_consoleOverlay_draw__P12694.info={start:1364,length:859,line:44,column:4,endLine:61,endColumn:5,fileName:\"pxt_modules/game/console.ts\",functionName:\"draw\",argumentNames:[]};function game_consoleOverlay_draw__P12694_mk(s){checkStack(s.depth);return{parent:s,fn:game_consoleOverlay_draw__P12694,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,height___16231:undefined,top___16235:undefined,i___16240:undefined,t___16251:undefined,tOff___16257:undefined,tab___16259:undefined,unnamed142___U6:undefined,unnamed143___U7:undefined,padding___16261:undefined}}function scene_systemMenu_isVisible__P12621(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.instance___12587);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}scene_systemMenu_isVisible__P12621.info={start:12489,length:62,line:378,column:4,endLine:380,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"isVisible\",argumentNames:[]};function scene_systemMenu_isVisible__P12621_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_isVisible__P12621,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function helpers_stringSplit__P11480(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.A___16305=undefined;s.lim___16307=undefined;s.s___16315=undefined;s.p___16318=undefined;s.R___16319=undefined;s.z___16330=undefined;s.T___16341=undefined;s.q___16342=undefined;s.e___16347=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_Array__mk();s.A___16305=r0;s.lim___16307=0;r0=s.arg2===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=1<<29;s.tmp_1=r0;r0=s.tmp_1-1;s.lim___16307=r0;{step=4;continue}case 1:r0=s.arg2<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.lim___16307=0;{step=3;continue}case 2:r0=s.arg2|0;s.lim___16307=r0;case 3:case 4:r0=pxsim_String_.length(s.arg0);s.s___16315=r0;s.p___16318=0;s.R___16319=s.arg1;r0=s.lim___16307==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.A___16305;{step=21;continue}case 5:case 6:r0=s.arg1===undefined;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=7;continue}r0=pxsim_Array_.setAt(s.A___16305,0,s.arg0);r0=s.A___16305;{step=21;continue}case 7:case 8:r0=s.s___16315==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}s.tmp_1=helpers_splitMatch__P11481_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=0;s.tmp_1.arg2=s.R___16319;s.pc=22;return s.tmp_1;case 22:r0=s.retval;s.z___16330=r0;r0=s.z___16330>-1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}r0=s.A___16305;{step=21;continue}case 9:case 10:r0=pxsim_Array_.setAt(s.A___16305,0,s.arg0);r0=s.A___16305;{step=21;continue}case 11:case 12:s.q___16342=s.p___16318;case 13:r0=s.q___16342!=s.s___16315;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=20;continue}s.tmp_1=helpers_splitMatch__P11481_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.q___16342;s.tmp_1.arg2=s.R___16319;s.pc=23;return s.tmp_1;case 23:r0=s.retval;s.e___16347=r0;r0=s.e___16347<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}r0=s.q___16342+1;s.q___16342=r0;{step=19;continue}case 14:r0=s.e___16347==s.p___16318;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}r0=s.q___16342+1;s.q___16342=r0;{step=18;continue}case 15:s.tmp_0=helpers_stringSlice__P11478_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.p___16318;s.tmp_0.arg2=s.q___16342;s.pc=24;return s.tmp_0;case 24:r0=s.retval;s.T___16341=r0;r0=pxsim_Array__push(s.A___16305,s.T___16341);r0=pxsim_Array__length(s.A___16305);s.tmp_1=r0;r0=s.tmp_1==s.lim___16307;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=16;continue}r0=s.A___16305;{step=21;continue}case 16:case 17:s.p___16318=s.e___16347;s.q___16342=s.p___16318;case 18:case 19:{step=13;continue}case 20:s.tmp_0=helpers_stringSlice__P11478_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.p___16318;s.tmp_0.arg2=s.q___16342;s.pc=25;return s.tmp_0;case 25:r0=s.retval;s.T___16341=r0;r0=pxsim_Array__push(s.A___16305,s.T___16341);r0=s.A___16305;case 21:return leave(s,r0);default:oops()}}}helpers_stringSplit__P11480.info={start:7735,length:1319,line:264,column:4,endLine:308,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"stringSplit\",argumentNames:[\"S\",\"separator\",\"limit\"]};function helpers_stringSplit__P11480_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_stringSplit__P11480,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,A___16305:undefined,lim___16307:undefined,s___16315:undefined,p___16318:undefined,R___16319:undefined,z___16330:undefined,T___16341:undefined,q___16342:undefined,e___16347:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function helpers_splitMatch__P11481(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.r___16415=undefined;s.s___16418=undefined;s.i___16425=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_String_.length(s.arg2);s.r___16415=r0;r0=pxsim_String_.length(s.arg0);s.s___16418=r0;r0=s.arg1+s.r___16415;s.tmp_1=r0;r0=s.tmp_1>s.s___16418;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=-1;{step=7;continue}case 1:case 2:s.i___16425=0;case 3:r0=s.i___16425<s.r___16415;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}s.tmp_3=r0=s.arg0;r0=s.arg1+s.i___16425;s.tmp_4=r0;r0=pxsim_String_.charAt(s.tmp_3,s.tmp_4);s.tmp_2=r0;r0=pxsim_String_.charAt(s.arg2,s.i___16425);s.tmp_5=r0;r0=s.tmp_2!=s.tmp_5;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=4;continue}r0=-1;{step=7;continue}case 4:case 5:r0=s.i___16425+1;s.i___16425=r0;{step=3;continue}case 6:r0=s.arg1+s.r___16415;case 7:return leave(s,r0);default:oops()}}}helpers_splitMatch__P11481.info={start:9060,length:289,line:310,column:4,endLine:319,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"splitMatch\",argumentNames:[\"S\",\"q\",\"R\"]};function helpers_splitMatch__P11481_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_splitMatch__P11481,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,r___16415:undefined,s___16418:undefined,i___16425:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function helpers_stringSlice__P11478(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.len___16389=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_String_.length(s.arg0);s.len___16389=r0;r0=s.arg1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=Math_max__P11486_mk(s);r0=s.len___16389+s.arg1;s.tmp_1.arg0=r0;s.tmp_1.arg1=0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;s.arg1=r0;case 1:case 2:r0=s.arg2==null;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.arg2=s.len___16389;case 3:case 4:r0=s.arg2<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.len___16389+s.arg2;s.arg2=r0;case 5:case 6:s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.arg1;r0=s.arg2-s.arg1;s.tmp_2=r0;r0=pxsim_String_.substr(s.tmp_0,s.tmp_1,s.tmp_2);return leave(s,r0);default:oops()}}}helpers_stringSlice__P11478.info={start:6852,length:365,line:230,column:4,endLine:246,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"stringSlice\",argumentNames:[\"s\",\"start\",\"end\"]};function helpers_stringSlice__P11478_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_stringSlice__P11478,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,len___16389:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function scene_Scene_renderCore__P12355(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.s___16474=undefined;s.unnamed140___U1=undefined;s.unnamed141___U2=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);s.tmp_0=scene_Background_draw__P12276_mk(s);r0=s.arg0.fields[\"background\"];s.tmp_0.arg0=r0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=s.arg0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=helpers_arraySort__P11468_mk(s);r0=s.arg0.fields[\"allSprites\"];s.tmp_2.arg0=r0;s.tmp_2.arg1=inline__P16458;s.pc=6;return s.tmp_2;case 6:r0=s.retval;case 1:case 2:s.s___16474=undefined;s.s___16474=undefined;r0=s.arg0.fields[\"allSprites\"];s.unnamed140___U1=r0;s.unnamed141___U2=0;case 3:s.tmp_0=r0=s.unnamed141___U2;r0=pxsim_Array__length(s.unnamed140___U1);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=4;continue}r0=pxsim_Array__getAt(s.unnamed140___U1,s.unnamed141___U2);s.s___16474=r0;s.tmp_2=if___draw_2_mk(s);s.tmp_2.arg0=s.s___16474;r0=s.arg0.fields[\"camera\"];s.tmp_2.arg1=r0;s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"__draw\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"__draw\"]}else{s.pc=7;return s.tmp_2}case 7:r0=s.retval;r0=s.unnamed141___U2+1;s.unnamed141___U2=r0;{step=3;continue}case 4:s.unnamed140___U1=undefined;r0=undefined;return leave(s,r0);default:oops()}}}scene_Scene_renderCore__P12355.info={start:6966,length:490,line:206,column:8,endLine:219,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"renderCore\",argumentNames:[\"this\"]};function scene_Scene_renderCore__P12355_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_renderCore__P12355,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,s___16474:undefined,unnamed140___U1:undefined,unnamed141___U2:undefined,arg0:undefined}}function inline__P16458(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_2=if_z_1_mk(s);s.tmp_2.arg0=s.arg0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"z\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"z\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"z\"]}else{s.pc=3;return s.tmp_2}}case 3:r0=s.retval;s.tmp_1=r0;s.tmp_4=if_z_1_mk(s);s.tmp_4.arg0=s.arg1;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"z\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"z\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"z\"]}else{s.pc=4;return s.tmp_4}}case 4:r0=s.retval;s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_6=if_id_1_mk(s);s.tmp_6.arg0=s.arg0;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"id\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"id\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"id\"]}else{s.pc=5;return s.tmp_6}}case 5:r0=s.retval;s.tmp_5=r0;s.tmp_8=if_id_1_mk(s);s.tmp_8.arg0=s.arg1;if(!s.tmp_8.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_8.arg0,\"id\")}else{s.tmp_8.fn=s.tmp_8.arg0.vtable.iface[\"id\"];if(s.tmp_8.fn==null){s.retval=s.tmp_8.arg0.fields[\"id\"]}else{s.pc=6;return s.tmp_8}}case 6:r0=s.retval;s.tmp_7=r0;r0=s.tmp_5-s.tmp_7;case 2:s.tmp_9=r0;r0=s.tmp_9;return leave(s,r0);default:oops()}}}inline__P16458.info={start:7225,length:52,line:212,column:37,endLine:212,endColumn:89,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[\"a\",\"b\"]};function inline__P16458_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16458,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,arg0:undefined,arg1:undefined}}function scene_Background_draw__P12276(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Background__C12271_VT))failedCast(r0);r0=s.arg0.fields[\"color\"];s.tmp_0=r0;r0=pxsim_ImageMethods.fill(globals.screen___11888,s.tmp_0);r0=s.arg0.fields[\"_image\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"_image\"];s.tmp_1=r0;r0=pxsim_ImageMethods.drawTransparentImage(globals.screen___11888,s.tmp_1,0,0);case 1:case 2:r0=s.arg0.fields[\"_layers\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkAction(1,inline__P16504);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.arg0);s.tmp_2=helpers_arrayForEach__P11472_mk(s);r0=s.arg0.fields[\"_layers\"];s.tmp_2.arg0=r0;s.tmp_2.arg1=s.tmp_1;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}scene_Background_draw__P12276.info={start:1166,length:545,line:48,column:8,endLine:60,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"draw\",argumentNames:[\"this\"]};function scene_Background_draw__P12276_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Background_draw__P12276,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P16504(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ox___16506=undefined;s.oy___16518=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.caps[0].fields[\"camera\"];r0=r0.fields[\"drawOffsetX\"];s.tmp_1=r0;r0=s.arg0.fields[\"distance\"];s.tmp_3=r0;r0=1+s.tmp_3;s.tmp_2=r0;r0=s.tmp_1/s.tmp_2;s.tmp_0=r0;r0=pxsim.Math_.round(s.tmp_0);s.ox___16506=r0;r0=s.caps[0].fields[\"camera\"];r0=r0.fields[\"drawOffsetY\"];s.tmp_1=r0;r0=s.arg0.fields[\"distance\"];s.tmp_3=r0;r0=1+s.tmp_3;s.tmp_2=r0;r0=s.tmp_1/s.tmp_2;s.tmp_0=r0;r0=pxsim.Math_.round(s.tmp_0);s.oy___16518=r0;s.tmp_0=scene_BackgroundLayer_draw__P12279_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.ox___16506;s.tmp_0.arg2=s.oy___16518;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16504.info={start:1373,length:312,line:53,column:37,endLine:58,endColumn:17,fileName:\"pxt_modules/game/background.ts\",functionName:\"inline\",argumentNames:[\"layer\"]};function inline__P16504_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16504,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,ox___16506:undefined,oy___16518:undefined,arg0:undefined}}function scene_BackgroundLayer_draw__P12279(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.w___16535=undefined;s.h___16538=undefined;s.pw___16541=undefined;s.ph___16546=undefined;s.rx___16553=undefined;s.ry___16555=undefined;s.y___16610=undefined;s.py___16611=undefined;s.dh___16618=undefined;s.x___16624=undefined;s.rxl___16625=undefined;s.px___16630=undefined;s.dw___16633=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_BackgroundLayer__C12278_VT))failedCast(r0);r0=pxsim_ImageMethods.width(globals.screen___11888);s.w___16535=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.h___16538=r0;r0=s.arg0.fields[\"img\"];s.tmp_0=r0;r0=pxsim_ImageMethods.width(s.tmp_0);s.pw___16541=r0;r0=s.arg0.fields[\"img\"];s.tmp_0=r0;r0=pxsim_ImageMethods.height(s.tmp_0);s.ph___16546=r0;r0=pxsim_numops_toBoolDecr(s.pw___16541);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_numops_toBoolDecr(s.ph___16546);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}{step=23;continue}case 3:case 4:r0=0-s.arg1;s.rx___16553=r0;r0=0-s.arg2;s.ry___16555=r0;r0=s.arg0.fields[\"alignX\"];s.tmp_0=r0;r0=pxsim_pxtcore.switch_eq(2,s.tmp_0);if(r0){step=5;continue}r0=pxsim_pxtcore.switch_eq(5,s.tmp_0);if(r0){step=6;continue}r0=s.tmp_0;{step=7;continue}case 5:s.tmp_1=r0=s.rx___16553;r0=s.w___16535+s.pw___16541;s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.rx___16553=r0;{step=7;continue}case 6:s.tmp_0=r0=s.rx___16553;r0=s.w___16535+s.pw___16541;s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.rx___16553=r0;case 7:r0=s.arg0.fields[\"alignY\"];s.tmp_0=r0;r0=pxsim_pxtcore.switch_eq(4,s.tmp_0);if(r0){step=8;continue}r0=pxsim_pxtcore.switch_eq(5,s.tmp_0);if(r0){step=9;continue}r0=s.tmp_0;{step=10;continue}case 8:s.tmp_1=r0=s.ry___16555;r0=s.h___16538+s.ph___16546;s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.ry___16555=r0;{step=10;continue}case 9:s.tmp_0=r0=s.ry___16555;r0=s.h___16538+s.ph___16546;s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.ry___16555=r0;case 10:r0=s.rx___16553%s.w___16535;s.rx___16553=r0;r0=s.rx___16553<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}r0=s.rx___16553+s.w___16535;s.rx___16553=r0;case 11:case 12:r0=s.ry___16555%s.h___16538;s.ry___16555=r0;r0=s.ry___16555<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}r0=s.ry___16555+s.h___16538;s.ry___16555=r0;case 13:case 14:r0=pxsim.Math_.floor(s.rx___16553);s.rx___16553=r0;r0=pxsim.Math_.floor(s.ry___16555);s.ry___16555=r0;s.y___16610=0;s.py___16611=0;case 15:r0=s.y___16610<s.h___16538;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=22;continue}r0=s.y___16610%s.ph___16546;s.py___16611=r0;s.tmp_0=Math_min__P11487_mk(s);r0=s.ph___16546-s.py___16611;s.tmp_0.arg0=r0;r0=s.h___16538-s.ry___16555;s.tmp_0.arg1=r0;s.pc=24;return s.tmp_0;case 24:r0=s.retval;s.dh___16618=r0;s.x___16624=0;s.rxl___16625=s.rx___16553;case 16:r0=s.x___16624<s.w___16535;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=19;continue}r0=s.x___16624%s.pw___16541;s.px___16630=r0;s.tmp_0=Math_min__P11487_mk(s);r0=s.pw___16541-s.px___16630;s.tmp_0.arg0=r0;r0=s.w___16535-s.rxl___16625;s.tmp_0.arg1=r0;s.pc=25;return s.tmp_0;case 25:r0=s.retval;s.dw___16633=r0;r0=s.arg0.fields[\"img\"];s.tmp_0=r0;r0=pxsim_ImageMethods.drawImage(globals.screen___11888,s.tmp_0,s.rxl___16625,s.ry___16555);r0=s.rxl___16625+s.dw___16633;s.tmp_0=r0;r0=s.tmp_0%s.w___16535;s.rxl___16625=r0;r0=s.arg0.fields[\"repeatX\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}r0=s.dw___16633;{step=18;continue}case 17:r0=s.w___16535;case 18:s.tmp_1=r0;r0=s.x___16624+s.tmp_1;s.x___16624=r0;{step=16;continue}case 19:r0=s.ry___16555+s.dh___16618;s.tmp_0=r0;r0=s.tmp_0%s.h___16538;s.ry___16555=r0;r0=s.arg0.fields[\"repeatY\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=20;continue}r0=s.dh___16618;{step=21;continue}case 20:r0=s.h___16538;case 21:s.tmp_1=r0;r0=s.y___16610+s.tmp_1;s.y___16610=r0;{step=15;continue}case 22:case 23:r0=undefined;return leave(s,r0);default:oops()}}}scene_BackgroundLayer_draw__P12279.info={start:3063,length:1537,line:99,column:8,endLine:144,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"draw\",argumentNames:[\"this\",\"offsetX\",\"offsetY\"]};function scene_BackgroundLayer_draw__P12279_mk(s){checkStack(s.depth);return{parent:s,fn:scene_BackgroundLayer_draw__P12279,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,w___16535:undefined,h___16538:undefined,pw___16541:undefined,ph___16546:undefined,rx___16553:undefined,ry___16555:undefined,y___16610:undefined,py___16611:undefined,dh___16618:undefined,x___16624:undefined,rxl___16625:undefined,px___16630:undefined,dw___16633:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function scene_Camera_update__P12313(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___16672=undefined;s.elapsed___16731=undefined;s.percentComplete___16743=undefined;s.dampStart___16747=undefined;s.damp___16748=undefined;s.f___16754=undefined;s.x___16759=undefined;s.y___16763=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Camera__C12311_VT))failedCast(r0);s.tmp_0=game_currentScene__P12194_mk(s);s.pc=13;return s.tmp_0;case 13:r0=s.retval;s.scene___16672=r0;r0=s.arg0.fields[\"sprite\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=r0=s.arg0;s.tmp_4=Sprite_x__P12033_mk(s);r0=s.arg0.fields[\"sprite\"];s.tmp_4.arg0=r0;s.pc=14;return s.tmp_4;case 14:r0=s.retval;s.tmp_3=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_6=r0;r0=s.tmp_6>>1;s.tmp_5=r0;r0=s.tmp_3-s.tmp_5;s.tmp_2=r0;r0=s.tmp_1.fields[\"offsetX\"]=s.tmp_2;s.tmp_0=r0=s.arg0;s.tmp_3=Sprite_y__P12035_mk(s);r0=s.arg0.fields[\"sprite\"];s.tmp_3.arg0=r0;s.pc=15;return s.tmp_3;case 15:r0=s.retval;s.tmp_2=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_5=r0;r0=s.tmp_5>>1;s.tmp_4=r0;r0=s.tmp_2-s.tmp_4;s.tmp_1=r0;r0=s.tmp_0.fields[\"offsetY\"]=s.tmp_1;case 1:case 2:r0=s.scene___16672.fields[\"tileMap\"];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.scene___16672.fields[\"tileMap\"];s.tmp_1=r0;r0=s.tmp_1.fields[\"_map\"];s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);s.tmp_4=r0;r0=pxsim_Boolean__bang(s.tmp_4);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 4:s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=5;continue}s.tmp_7=r0=s.arg0;s.tmp_9=tiles_TileMap_offsetX__P12292_mk(s);r0=s.scene___16672.fields[\"tileMap\"];s.tmp_9.arg0=r0;r0=s.arg0.fields[\"offsetX\"];s.tmp_9.arg1=r0;s.pc=16;return s.tmp_9;case 16:r0=s.retval;s.tmp_8=r0;r0=s.tmp_7.fields[\"offsetX\"]=s.tmp_8;s.tmp_0=r0=s.arg0;s.tmp_2=tiles_TileMap_offsetY__P12293_mk(s);r0=s.scene___16672.fields[\"tileMap\"];s.tmp_2.arg0=r0;r0=s.arg0.fields[\"offsetY\"];s.tmp_2.arg1=r0;s.pc=17;return s.tmp_2;case 17:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"offsetY\"]=s.tmp_1;case 5:case 6:s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"offsetX\"];s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"offsetX\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"offsetY\"];s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"offsetY\"]=s.tmp_1;r0=s.arg0.fields[\"offsetX\"];s.tmp_0=r0;r0=s.arg0.fields[\"drawOffsetX\"]=s.tmp_0;r0=s.arg0.fields[\"offsetY\"];s.tmp_0=r0;r0=s.arg0.fields[\"drawOffsetY\"]=s.tmp_0;r0=s.arg0.fields[\"shakeStartTime\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}r0=pxsim.control.millis();s.tmp_2=r0;r0=s.arg0.fields[\"shakeStartTime\"];s.tmp_3=r0;r0=s.tmp_2-s.tmp_3;s.elapsed___16731=r0;r0=s.arg0.fields[\"shakeDuration\"];s.tmp_1=r0;r0=s.elapsed___16731>=s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=s.arg0.fields[\"shakeStartTime\"]=undefined;{step=10;continue}case 7:r0=s.arg0.fields[\"shakeDuration\"];s.tmp_0=r0;r0=s.elapsed___16731/s.tmp_0;s.percentComplete___16743=r0;s.dampStart___16747=.75;s.damp___16748=1;r0=s.percentComplete___16743>=s.dampStart___16747;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}s.tmp_1=Math_max__P11486_mk(s);s.tmp_1.arg0=0;r0=1-s.percentComplete___16743;s.tmp_1.arg1=r0;s.pc=18;return s.tmp_1;case 18:r0=s.retval;s.damp___16748=r0;case 8:case 9:r0=s.arg0.fields[\"shakeAmplitude\"];s.tmp_0=r0;r0=s.tmp_0*s.damp___16748;s.f___16754=r0;r0=pxsim.Math_.random();s.tmp_1=r0;r0=s.tmp_1*s.f___16754;s.tmp_0=r0;r0=s.tmp_0>>0;s.x___16759=r0;r0=pxsim.Math_.random();s.tmp_1=r0;r0=s.tmp_1*s.f___16754;s.tmp_0=r0;r0=s.tmp_0>>0;s.y___16763=r0;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"drawOffsetX\"];s.tmp_2=r0;r0=s.tmp_2+s.x___16759;s.tmp_1=r0;r0=s.tmp_0.fields[\"drawOffsetX\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"drawOffsetY\"];s.tmp_2=r0;r0=s.tmp_2+s.y___16763;s.tmp_1=r0;r0=s.tmp_0.fields[\"drawOffsetY\"]=s.tmp_1;case 10:case 11:case 12:r0=undefined;return leave(s,r0);default:oops()}}}scene_Camera_update__P12313.info={start:1096,length:1691,line:34,column:8,endLine:77,endColumn:9,fileName:\"pxt_modules/game/camera.ts\",functionName:\"update\",argumentNames:[\"this\"]};function scene_Camera_update__P12313_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Camera_update__P12313,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,scene___16672:undefined,elapsed___16731:undefined,percentComplete___16743:undefined,dampStart___16747:undefined,damp___16748:undefined,f___16754:undefined,x___16759:undefined,y___16763:undefined,arg0:undefined}}function tiles_TileMap_enabled__P12298(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}tiles_TileMap_enabled__P12298.info={start:3529,length:66,line:129,column:8,endLine:131,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"enabled\",argumentNames:[\"this\"]};function tiles_TileMap_enabled__P12298_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_enabled__P12298,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function tiles_TileMap_offsetY__P12293(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=0;s.tmp_1=Math_max__P11486_mk(s);s.tmp_3=tiles_TileMap_areaHeight__P12295_mk(s);s.tmp_3.arg0=s.arg0;s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.tmp_2=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_4=r0;r0=s.tmp_2-s.tmp_4;s.tmp_1.arg0=r0;s.tmp_1.arg1=0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_0.arg2=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}tiles_TileMap_offsetY__P12293.info={start:2982,length:123,line:107,column:8,endLine:109,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"offsetY\",argumentNames:[\"this\",\"value\"]};function tiles_TileMap_offsetY__P12293_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_offsetY__P12293,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function tiles_TileMap_areaHeight__P12295(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"_map\"];s.tmp_2=r0;r0=pxsim_ImageMethods.height(s.tmp_2);s.tmp_1=r0;r0=s.arg0.fields[\"scale\"];s.tmp_3=r0;r0=s.tmp_1<<s.tmp_3;{step=2;continue}case 1:r0=0;case 2:s.tmp_4=r0;r0=s.tmp_4;return leave(s,r0);default:oops()}}}tiles_TileMap_areaHeight__P12295.info={start:3216,length:93,line:115,column:8,endLine:117,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"areaHeight\",argumentNames:[\"this\"]};function tiles_TileMap_areaHeight__P12295_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_areaHeight__P12295,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function tiles_TileMap_offsetX__P12292(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=0;s.tmp_1=Math_max__P11486_mk(s);s.tmp_3=tiles_TileMap_areaWidth__P12294_mk(s);s.tmp_3.arg0=s.arg0;s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.tmp_2=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_4=r0;r0=s.tmp_2-s.tmp_4;s.tmp_1.arg0=r0;s.tmp_1.arg1=0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_0.arg2=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}tiles_TileMap_offsetX__P12292.info={start:2851,length:121,line:103,column:8,endLine:105,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"offsetX\",argumentNames:[\"this\",\"value\"]};function tiles_TileMap_offsetX__P12292_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_offsetX__P12292,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function tiles_TileMap_areaWidth__P12294(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"_map\"];s.tmp_2=r0;r0=pxsim_ImageMethods.width(s.tmp_2);s.tmp_1=r0;r0=s.arg0.fields[\"scale\"];s.tmp_3=r0;r0=s.tmp_1<<s.tmp_3;{step=2;continue}case 1:r0=0;case 2:s.tmp_4=r0;r0=s.tmp_4;return leave(s,r0);default:oops()}}}tiles_TileMap_areaWidth__P12294.info={start:3115,length:91,line:111,column:8,endLine:113,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"areaWidth\",argumentNames:[\"this\"]};function tiles_TileMap_areaWidth__P12294_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_areaWidth__P12294,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function PhysicsEngine_move__P12138(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}PhysicsEngine_move__P12138.info={start:351,length:20,line:18,column:4,endLine:18,endColumn:24,fileName:\"pxt_modules/game/physics.ts\",functionName:\"move\",argumentNames:[\"this\",\"dt\"]};function PhysicsEngine_move__P12138_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_move__P12138,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function PhysicsEngine_draw__P12137(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}PhysicsEngine_draw__P12137.info={start:279,length:10,line:15,column:4,endLine:15,endColumn:14,fileName:\"pxt_modules/game/physics.ts\",functionName:\"draw\",argumentNames:[\"this\"]};function PhysicsEngine_draw__P12137_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_draw__P12137,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function controller___update__P12006(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.dtms___17100=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0*1e3;s.tmp_0=r0;r0=s.tmp_0|0;s.dtms___17100=r0;r0=pxsim_pxtcore_mkAction(1,inline__P17104);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.dtms___17100);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_2=controller_players__P11977_mk(s);s.pc=2;return s.tmp_2;case 2:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=s.tmp_0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}controller___update__P12006.info={start:16179,length:137,line:504,column:4,endLine:507,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"__update\",argumentNames:[\"dt\"]};function controller___update__P12006_mk(s){checkStack(s.depth);return{parent:s,fn:controller___update__P12006,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,dtms___17100:undefined,arg0:undefined}}function inline__P17104(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=controller_Controller___update__P12003_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.caps[0];s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P17104.info={start:16281,length:27,line:506,column:26,endLine:506,endColumn:53,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"ctrl\"]};function inline__P17104_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17104,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function controller_Controller___update__P12003(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=pxsim_pxtrt.mklocRef();s.tmp_0=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.arg1);s.arg1=s.tmp_0;s.tmp_1=r0=s.arg1;r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_3=r0;r0=s.tmp_3|0;s.tmp_2=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_1,s.tmp_2);r0=pxsim_pxtcore_mkAction(1,inline__P17116);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg1);s.tmp_1=helpers_arrayForEach__P11472_mk(s);r0=s.arg0.fields[\"buttons\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=s.tmp_0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}controller_Controller___update__P12003.info={start:15657,length:124,line:486,column:8,endLine:489,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"__update\",argumentNames:[\"this\",\"dtms\"]};function controller_Controller___update__P12003_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller___update__P12003,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function inline__P17116(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=controller_Button___update__P11971_mk(s);s.tmp_0.arg0=s.arg0;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P17116.info={start:15744,length:25,line:488,column:33,endLine:488,endColumn:58,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"btn\"]};function inline__P17116_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17116,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function controller_Button___update__P11971(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.delay___17130=undefined;s.interval___17138=undefined;s.count___17149=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=s.arg0.fields[\"_pressed\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=11;continue}case 1:case 2:s.tmp_3=r0=s.arg0;r0=s.tmp_3.fields[\"_pressedElasped\"];s.tmp_5=r0;r0=s.tmp_5+s.arg1;s.tmp_4=r0;r0=s.tmp_3.fields[\"_pressedElasped\"]=s.tmp_4;r0=s.arg0.fields[\"repeatDelay\"];s.tmp_1=r0;r0=s.tmp_1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=globals.defaultRepeatDelay___11960;{step=4;continue}case 3:r0=s.arg0.fields[\"repeatDelay\"];case 4:s.tmp_2=r0;s.delay___17130=s.tmp_2;r0=s.arg0.fields[\"repeatInterval\"];s.tmp_1=r0;r0=s.tmp_1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=globals.defaultRepeatInterval___11961;{step=6;continue}case 5:r0=s.arg0.fields[\"repeatInterval\"];case 6:s.tmp_2=r0;s.interval___17138=s.tmp_2;r0=s.arg0.fields[\"_pressedElasped\"];s.tmp_1=r0;r0=s.tmp_1<s.delay___17130;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}{step=11;continue}case 7:case 8:r0=s.arg0.fields[\"_pressedElasped\"];s.tmp_5=r0;r0=s.tmp_5-s.delay___17130;s.tmp_4=r0;r0=s.tmp_4-s.interval___17138;s.tmp_3=r0;r0=s.tmp_3/s.interval___17138;s.tmp_2=r0;r0=pxsim.Math_.floor(s.tmp_2);s.count___17149=r0;r0=s.arg0.fields[\"_repeatCount\"];s.tmp_1=r0;r0=s.count___17149!=s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tmp_2=controller_Button_raiseButtonRepeat__P11966_mk(s);s.tmp_2.arg0=s.arg0;s.pc=12;return s.tmp_2;case 12:r0=s.retval;r0=s.arg0.fields[\"_repeatCount\"]=s.count___17149;case 9:case 10:case 11:r0=undefined;return leave(s,r0);default:oops()}}}controller_Button___update__P11971.info={start:4819,length:704,line:148,column:8,endLine:165,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"__update\",argumentNames:[\"this\",\"dtms\"]};function controller_Button___update__P11971_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button___update__P11971,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,delay___17130:undefined,interval___17138:undefined,count___17149:undefined,arg0:undefined,arg1:undefined}}function controller_Button_raiseButtonRepeat__P11966(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(globals._userEventsEnabled___11959);if(!r0){step=1;continue}r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2054,s.tmp_0);{step=2;continue}case 1:r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2055,s.tmp_0);case 2:r0=undefined;return leave(s,r0);default:oops()}}}controller_Button_raiseButtonRepeat__P11966.info={start:2994,length:211,line:95,column:8,endLine:100,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"raiseButtonRepeat\",argumentNames:[\"this\"]};function controller_Button_raiseButtonRepeat__P11966_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_raiseButtonRepeat__P11966,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function controller_players__P11977(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=controller_player1__P11976_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=helpers_arrayFilter__P11473_mk(s);s.tmp_0.arg0=globals._players___11974;s.tmp_0.arg1=inline__P16988;s.pc=2;return s.tmp_0;case 2:r0=s.retval;return leave(s,r0);default:oops()}}}controller_players__P11977.info={start:6479,length:143,line:193,column:4,endLine:196,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"players\",argumentNames:[]};function controller_players__P11977_mk(s){checkStack(s.depth);return{parent:s,fn:controller_players__P11977,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P16988(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P16988.info={start:6600,length:14,line:195,column:31,endLine:195,endColumn:45,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"ctrl\"]};function inline__P16988_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16988,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function controller_player1__P11976(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals._players___11974);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array__getAt(globals._players___11974,0);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkClassInstance(controller_Controller__C11981_VT);s.tmp_5=r0;r0=pxsim_Array__mk();s.tmp_6=r0;r0=pxsim_Array__push(s.tmp_6,globals.left___11951);r0=pxsim_Array__push(s.tmp_6,globals.up___11952);r0=pxsim_Array__push(s.tmp_6,globals.right___11953);r0=pxsim_Array__push(s.tmp_6,globals.down___11954);r0=pxsim_Array__push(s.tmp_6,globals.A___11949);r0=pxsim_Array__push(s.tmp_6,globals.B___11950);r0=pxsim_Array__push(s.tmp_6,globals.menu___11955);s.tmp_7=controller_Controller_constructor__P12005_mk(s);s.tmp_7.arg0=s.tmp_5;s.tmp_7.arg1=1;s.tmp_7.arg2=s.tmp_6;s.pc=5;return s.tmp_7;case 5:r0=s.retval;case 3:case 4:r0=pxsim_Array__getAt(globals._players___11974,0);return leave(s,r0);default:oops()}}}controller_player1__P11976.info={start:6223,length:250,line:187,column:4,endLine:191,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"player1\",argumentNames:[]};function controller_player1__P11976_mk(s){checkStack(s.depth);return{parent:s,fn:controller_player1__P11976,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined}}function controller_Controller_constructor__P12005(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.leftId___17052=undefined;s.i___17057=undefined;s.i___17071=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim.control.allocateNotifyEvent();s.tmp_1=r0;r0=s.tmp_0.fields[\"_id\"]=s.tmp_1;r0=s.arg0.fields[\"_connected\"]=false;r0=s.arg0.fields[\"playerIndex\"]=s.arg1;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=1;continue}r0=s.arg0.fields[\"buttons\"]=s.arg2;{step=4;continue}case 1:s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"buttons\"]=s.tmp_1;r0=s.arg0.fields[\"playerIndex\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=s.tmp_1*7;s.tmp_0=r0;r0=1+s.tmp_0;s.leftId___17052=r0;s.i___17057=0;case 2:r0=s.i___17057<7;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkClassInstance(controller_Button__C11962_VT);s.tmp_1=r0;s.tmp_2=controller_Button_constructor__P11972_mk(s);s.tmp_2.arg0=s.tmp_1;r0=s.leftId___17052+s.i___17057;s.tmp_2.arg1=r0;s.tmp_2.arg2=-1;s.pc=7;return s.tmp_2;case 7:r0=s.retval;r0=s.arg0.fields[\"buttons\"];s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_3,s.tmp_1);r0=s.i___17057+1;s.i___17057=r0;{step=2;continue}case 3:case 4:s.i___17071=0;case 5:s.tmp_1=r0=s.i___17071;r0=s.arg0.fields[\"buttons\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}r0=s.arg0.fields[\"buttons\"];s.tmp_5=r0;r0=pxsim_Array__getAt(s.tmp_5,s.i___17071);s.tmp_4=r0;r0=s.tmp_4.fields[\"_owner\"]=s.arg0;r0=s.i___17071+1;s.i___17071=r0;{step=5;continue}case 6:s.tmp_0=controller_addController__P11975_mk(s);s.tmp_0.arg0=s.arg0;s.pc=8;return s.tmp_0;case 8:r0=s.retval;return leave(s,r0);default:oops()}}}controller_Controller_constructor__P12005.info={start:7262,length:663,line:221,column:8,endLine:237,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"this\",\"playerIndex\",\"buttons\"]};function controller_Controller_constructor__P12005_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_constructor__P12005,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,leftId___17052:undefined,i___17057:undefined,i___17071:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function controller_addController__P11975(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals._players___11974);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals._players___11974=r0;case 1:case 2:s.tmp_0=r0=globals._players___11974;r0=s.arg0.fields[\"playerIndex\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_Array_.setAt(s.tmp_0,s.tmp_1,s.arg0);r0=undefined;return leave(s,r0);default:oops()}}}controller_addController__P11975.info={start:6060,length:157,line:180,column:4,endLine:185,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"addController\",argumentNames:[\"ctrl\"]};function controller_addController__P11975_mk(s){checkStack(s.depth);return{parent:s,fn:controller_addController__P11975,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function controller__moveSprites__P11980(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_1=controller_players__P11977_mk(s);s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg0=r0;s.tmp_0.arg1=inline__P16834;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}controller__moveSprites__P11980.info={start:6838,length:182,line:207,column:4,endLine:211,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"_moveSprites\",argumentNames:[]};function controller__moveSprites__P11980_mk(s){checkStack(s.depth);return{parent:s,fn:controller__moveSprites__P11980,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function inline__P16834(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=controller_Controller___preUpdate__P12002_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P16834.info={start:6986,length:26,line:210,column:26,endLine:210,endColumn:52,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"ctrl\"]};function inline__P16834_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16834,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function controller_Controller___preUpdate__P12002(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.deadSprites___16840=undefined;s.svx___16841=undefined;s.svy___16842=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);s.tmp_3=controller_Controller__controlledSprites__P11982_mk(s);s.tmp_3.arg0=s.arg0;s.pc=6;return s.tmp_3;case 6:r0=s.retval;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:r0=pxsim_pxtrt.mklocRef();s.deadSprites___16840=r0;r0=pxsim_pxtrt_stlocRef(s.deadSprites___16840,false);r0=pxsim_pxtrt.mklocRef();s.svx___16841=r0;r0=pxsim_pxtrt.mklocRef();s.svy___16842=r0;r0=pxsim_pxtcore_mkAction(4,inline__P16845);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.deadSprites___16840);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.svx___16841);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.svy___16842);r0=pxsim_pxtrt_stclo(s.tmp_0,3,s.arg0);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_2=controller_Controller__controlledSprites__P11982_mk(s);s.tmp_2.arg0=s.arg0;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;r0=pxsim_pxtrt_ldlocRef(s.deadSprites___16840);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_1=controller_Controller__controlledSprites__P11983_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_2=helpers_arrayFilter__P11473_mk(s);s.tmp_3=controller_Controller__controlledSprites__P11982_mk(s);s.tmp_3.arg0=s.arg0;s.pc=11;return s.tmp_3;case 11:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=inline__P16921;s.pc=10;return s.tmp_2;case 10:r0=s.retval;s.tmp_1.arg1=r0;s.pc=9;return s.tmp_1;case 9:r0=s.retval;case 3:case 4:case 5:r0=undefined;return leave(s,r0);default:oops()}}}controller_Controller___preUpdate__P12002.info={start:14007,length:1640,line:433,column:8,endLine:484,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"__preUpdate\",argumentNames:[\"this\"]};function controller_Controller___preUpdate__P12002_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller___preUpdate__P12002,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,deadSprites___16840:undefined,svx___16841:undefined,svy___16842:undefined,arg0:undefined}}function inline__P16845(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"s\"];r0=r0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtrt_stlocRef(s.caps[0],true);{step=29;continue}case 1:case 2:r0=pxsim_pxtrt_stlocRef(s.caps[1],0);r0=pxsim_pxtrt_stlocRef(s.caps[2],0);r0=s.arg0.fields[\"vx\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}s.tmp_3=controller_Controller_right__P11987_mk(s);s.tmp_3.arg0=s.caps[3];s.pc=30;return s.tmp_3;case 30:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2.fields[\"_pressed\"];s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}s.tmp_4=r0=s.caps[1];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_6=r0;r0=s.arg0.fields[\"vx\"];s.tmp_7=r0;r0=s.tmp_6+s.tmp_7;s.tmp_5=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_4,s.tmp_5);case 3:case 4:s.tmp_2=controller_Controller_left__P11986_mk(s);s.tmp_2.arg0=s.caps[3];s.pc=31;return s.tmp_2;case 31:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1.fields[\"_pressed\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_3=r0=s.caps[1];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_5=r0;r0=s.arg0.fields[\"vx\"];s.tmp_6=r0;r0=s.tmp_5-s.tmp_6;s.tmp_4=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_3,s.tmp_4);case 5:case 6:case 7:case 8:r0=s.arg0.fields[\"vy\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}s.tmp_3=controller_Controller_down__P11989_mk(s);s.tmp_3.arg0=s.caps[3];s.pc=32;return s.tmp_3;case 32:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2.fields[\"_pressed\"];s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=9;continue}s.tmp_4=r0=s.caps[2];r0=pxsim_pxtrt_ldlocRef(s.caps[2]);s.tmp_6=r0;r0=s.arg0.fields[\"vy\"];s.tmp_7=r0;r0=s.tmp_6+s.tmp_7;s.tmp_5=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_4,s.tmp_5);case 9:case 10:s.tmp_2=controller_Controller_up__P11988_mk(s);s.tmp_2.arg0=s.caps[3];s.pc=33;return s.tmp_2;case 33:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1.fields[\"_pressed\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}s.tmp_3=r0=s.caps[2];r0=pxsim_pxtrt_ldlocRef(s.caps[2]);s.tmp_5=r0;r0=s.arg0.fields[\"vy\"];s.tmp_6=r0;r0=s.tmp_5-s.tmp_6;s.tmp_4=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_3,s.tmp_4);case 11:case 12:case 13:case 14:r0=s.arg0.fields[\"_inputLastFrame\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=19;continue}r0=s.arg0.fields[\"vx\"];s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=15;continue}s.tmp_2=Sprite_vx__P12038_mk(s);r0=s.arg0.fields[\"s\"];s.tmp_2.arg0=r0;s.tmp_2.arg1=0;s.pc=34;return s.tmp_2;case 34:r0=s.retval;case 15:case 16:r0=s.arg0.fields[\"vy\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}s.tmp_1=Sprite_vy__P12040_mk(s);r0=s.arg0.fields[\"s\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=0;s.pc=35;return s.tmp_1;case 35:r0=s.retval;case 17:case 18:case 19:case 20:r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=21;continue}r0=s.tmp_0;{step=22;continue}case 21:r0=pxsim_pxtrt_ldlocRef(s.caps[2]);case 22:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=27;continue}r0=s.arg0.fields[\"vx\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=23;continue}s.tmp_3=Sprite_vx__P12038_mk(s);r0=s.arg0.fields[\"s\"];s.tmp_3.arg0=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_3.arg1=r0;s.pc=36;return s.tmp_3;case 36:r0=s.retval;case 23:case 24:r0=s.arg0.fields[\"vy\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=25;continue}s.tmp_1=Sprite_vy__P12040_mk(s);r0=s.arg0.fields[\"s\"];s.tmp_1.arg0=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[2]);s.tmp_1.arg1=r0;s.pc=37;return s.tmp_1;case 37:r0=s.retval;case 25:case 26:r0=s.arg0.fields[\"_inputLastFrame\"]=true;{step=28;continue}case 27:r0=s.arg0.fields[\"_inputLastFrame\"]=false;case 28:case 29:r0=undefined;return leave(s,r0);default:oops()}}}inline__P16845.info={start:14213,length:1253,line:439,column:44,endLine:479,endColumn:13,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"sprite\"]};function inline__P16845_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16845,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,arg0:undefined}}function inline__P16921(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"s\"];r0=r0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2&2;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P16921.info={start:15593,length:42,line:483,column:28,endLine:483,endColumn:70,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P16921_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P16921,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function controller_Controller_down__P11989(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"buttons\"];s.tmp_0=r0;r0=4-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}controller_Controller_down__P11989.info={start:8908,length:77,line:283,column:8,endLine:285,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"down\",argumentNames:[\"this\"]};function controller_Controller_down__P11989_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_down__P11989,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function controller_Controller_button__P11994(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"buttons\"];s.tmp_0=r0;r0=s.arg1-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}controller_Controller_button__P11994.info={start:10870,length:105,line:344,column:8,endLine:346,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"button\",argumentNames:[\"this\",\"button\"]};function controller_Controller_button__P11994_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_button__P11994,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function controller_Controller_up__P11988(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"buttons\"];s.tmp_0=r0;r0=2-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}controller_Controller_up__P11988.info={start:8756,length:73,line:275,column:8,endLine:277,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"up\",argumentNames:[\"this\"]};function controller_Controller_up__P11988_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_up__P11988,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function controller_Controller_right__P11987(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"buttons\"];s.tmp_0=r0;r0=3-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}controller_Controller_right__P11987.info={start:8598,length:79,line:267,column:8,endLine:269,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"right\",argumentNames:[\"this\"]};function controller_Controller_right__P11987_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_right__P11987,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function controller_Controller_left__P11986(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"buttons\"];s.tmp_0=r0;r0=1-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}controller_Controller_left__P11986.info={start:8442,length:77,line:259,column:8,endLine:261,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"left\",argumentNames:[\"this\"]};function controller_Controller_left__P11986_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_left__P11986,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function controller_Controller__controlledSprites__P11983(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);s.tmp_1=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=r0.fields[\"controlledSprites\"];s.tmp_0=r0;r0=s.arg0.fields[\"playerIndex\"];s.tmp_2=r0;r0=pxsim_Array_.setAt(s.tmp_0,s.tmp_2,s.arg1);r0=undefined;return leave(s,r0);default:oops()}}}controller_Controller__controlledSprites__P11983.info={start:8077,length:134,line:243,column:8,endLine:245,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"_controlledSprites\",argumentNames:[\"this\",\"cps\"]};function controller_Controller__controlledSprites__P11983_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller__controlledSprites__P11983,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function controller_Controller__controlledSprites__P11982(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);s.tmp_1=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=r0.fields[\"controlledSprites\"];s.tmp_0=r0;r0=s.arg0.fields[\"playerIndex\"];s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_2);return leave(s,r0);default:oops()}}}controller_Controller__controlledSprites__P11982.info={start:7935,length:132,line:239,column:8,endLine:241,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"_controlledSprites\",argumentNames:[\"this\"]};function controller_Controller__controlledSprites__P11982_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller__controlledSprites__P11982,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function controller_Button_isPressed__P11969(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=s.arg0.fields[\"_pressed\"];return leave(s,r0);default:oops()}}}controller_Button_isPressed__P11969.info={start:4235,length:57,line:128,column:8,endLine:130,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"isPressed\",argumentNames:[\"this\"]};function controller_Button_isPressed__P11969_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_isPressed__P11969,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function power_checkDeepSleep__P11818(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___16198=undefined;s.to___16200=undefined;s.tmp_0=power_init__P11820_mk(s);s.pc=11;return s.tmp_0;case 11:r0=s.retval;s.tmp_0=r0=globals._poked___11814;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=0;case 2:s.tmp_1=r0;s.p___16198=s.tmp_1;s.tmp_0=r0=globals._timeout___11815;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=0;case 4:s.tmp_1=r0;s.to___16200=s.tmp_1;r0=s.to___16200>0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=pxsim.control.millis();s.tmp_2=r0;r0=s.tmp_2-s.p___16198;s.tmp_1=r0;r0=s.tmp_1>s.to___16200;case 6:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=7;continue}r0=s.tmp_3;{step=8;continue}case 7:r0=pxsim.control.isUSBInitialized();s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);s.tmp_4=r0;r0=pxsim_Boolean__bang(s.tmp_4);case 8:s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=9;continue}r0=pxsim_pxtcore.deepSleep();case 9:case 10:r0=undefined;return leave(s,r0);default:oops()}}}power_checkDeepSleep__P11818.info={start:1087,length:298,line:36,column:4,endLine:46,endColumn:5,fileName:\"pxt_modules/power/power.ts\",functionName:\"checkDeepSleep\",argumentNames:[]};function power_checkDeepSleep__P11818_mk(s){checkStack(s.depth);return{parent:s,fn:power_checkDeepSleep__P11818,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,p___16198:undefined,to___16200:undefined}}function power_init__P11820(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.minDeepSleepTimeout___16221=undefined;r0=globals._timeout___11815!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:r0=pxsim_pxtcore.getConfig(212,-1);s.tmp_1=r0;r0=s.tmp_1*1e3;globals._timeout___11815=r0;s.minDeepSleepTimeout___16221=3e5;r0=globals._timeout___11815>0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=globals._timeout___11815<s.minDeepSleepTimeout___16221;case 4:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=5;continue}globals._timeout___11815=s.minDeepSleepTimeout___16221;case 5:case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}power_init__P11820.info={start:1610,length:376,line:57,column:4,endLine:66,endColumn:5,fileName:\"pxt_modules/power/power.ts\",functionName:\"init\",argumentNames:[]};function power_init__P11820_mk(s){checkStack(s.depth);return{parent:s,fn:power_init__P11820,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,minDeepSleepTimeout___16221:undefined}}function power_poke__P11817(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=power_init__P11820_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=pxsim.control.millis();globals._poked___11814=r0;r0=undefined;return leave(s,r0);default:oops()}}}power_poke__P11817.info={start:795,length:81,line:26,column:4,endLine:29,endColumn:5,fileName:\"pxt_modules/power/power.ts\",functionName:\"poke\",argumentNames:[]};function power_poke__P11817_mk(s){checkStack(s.depth);return{parent:s,fn:power_poke__P11817,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function control_EventContext_deltaTime__P11646(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);r0=s.arg0.fields[\"deltaTimeMillis\"];s.tmp_0=r0;r0=s.tmp_0/1e3;return leave(s,r0);default:oops()}}}control_EventContext_deltaTime__P11646.info={start:2103,length:75,line:71,column:8,endLine:73,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"deltaTime\",argumentNames:[\"this\"]};function control_EventContext_deltaTime__P11646_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_deltaTime__P11646,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function music_Melody_constructor__P11786(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);r0=s.arg0.fields[\"_text\"]=s.arg1;return leave(s,r0);default:oops()}}}music_Melody_constructor__P11786.info={start:6272,length:67,line:198,column:8,endLine:200,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[\"this\",\"text\"]};function music_Melody_constructor__P11786_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_constructor__P11786,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function control_pushEventContext__P11661(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ctx___17185=undefined;s.n___17190=undefined;r0=pxsim_numops_toBoolDecr(globals.eventContexts___11659);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals.eventContexts___11659=r0;case 1:case 2:s.tmp_0=control_eventContext__P11660_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.ctx___17185=r0;r0=pxsim_numops_toBoolDecr(s.ctx___17185);if(!r0){step=3;continue}s.tmp_0=control_EventContext_unregister__P11650_mk(s);s.tmp_0.arg0=s.ctx___17185;s.pc=6;return s.tmp_0;case 6:r0=s.retval;case 3:case 4:r0=pxsim_pxtcore_mkClassInstance(control_EventContext__C11645_VT);s.tmp_0=r0;s.tmp_1=control_EventContext_constructor__P11658_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;s.n___17190=s.tmp_0;r0=pxsim_Array__push(globals.eventContexts___11659,s.n___17190);r0=s.n___17190;return leave(s,r0);default:oops()}}}control_pushEventContext__P11661.info={start:6386,length:340,line:197,column:4,endLine:208,endColumn:5,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"pushEventContext\",argumentNames:[]};function control_pushEventContext__P11661_mk(s){checkStack(s.depth);return{parent:s,fn:control_pushEventContext__P11661,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,ctx___17185:undefined,n___17190:undefined}}function control_eventContext__P11660(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.eventContexts___11659);if(!r0){step=1;continue}s.tmp_0=r0=globals.eventContexts___11659;r0=pxsim_Array__length(globals.eventContexts___11659);s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);{step=2;continue}case 1:r0=undefined;case 2:s.tmp_3=r0;r0=s.tmp_3;return leave(s,r0);default:oops()}}}control_eventContext__P11660.info={start:6170,length:136,line:190,column:4,endLine:192,endColumn:5,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"eventContext\",argumentNames:[]};function control_eventContext__P11660_mk(s){checkStack(s.depth);return{parent:s,fn:control_eventContext__P11660,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function control_EventContext_constructor__P11658(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"handlers\"]=s.tmp_1;r0=s.arg0.fields[\"framesInSample\"]=0;r0=s.arg0.fields[\"timeInSample\"]=0;r0=s.arg0.fields[\"deltaTimeMillis\"]=0;r0=s.arg0.fields[\"frameWorker\"]=0;r0=s.arg0.fields[\"idleCallbacks\"]=undefined;return leave(s,r0);default:oops()}}}control_EventContext_constructor__P11658.info={start:1848,length:245,line:62,column:8,endLine:69,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function control_EventContext_constructor__P11658_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_constructor__P11658,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function control_EventContext_unregister__P11650(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.h___17217=undefined;s.unnamed120___U1=undefined;s.unnamed121___U2=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);s.h___17217=undefined;s.h___17217=undefined;r0=s.arg0.fields[\"handlers\"];s.unnamed120___U1=r0;s.unnamed121___U2=0;case 1:s.tmp_0=r0=s.unnamed121___U2;r0=pxsim_Array__length(s.unnamed120___U1);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed120___U1,s.unnamed121___U2);s.h___17217=r0;s.tmp_2=control_EventHandler_unregister__P11642_mk(s);s.tmp_2.arg0=s.h___17217;s.pc=3;return s.tmp_2;case 3:r0=s.retval;r0=s.unnamed121___U2+1;s.unnamed121___U2=r0;{step=1;continue}case 2:s.unnamed120___U1=undefined;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"frameWorker\"];s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_1=r0;r0=s.tmp_0.fields[\"frameWorker\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}control_EventContext_unregister__P11650.info={start:4081,length:131,line:126,column:8,endLine:130,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"unregister\",argumentNames:[\"this\"]};function control_EventContext_unregister__P11650_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_unregister__P11650,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,h___17217:undefined,unnamed120___U1:undefined,unnamed121___U2:undefined,arg0:undefined}}function control_EventHandler_unregister__P11642(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventHandler__C11640_VT))failedCast(r0);r0=s.arg0.fields[\"src\"];s.tmp_0=r0;r0=s.arg0.fields[\"value\"];s.tmp_1=r0;r0=s.arg0.fields[\"flags\"];s.tmp_2=r0;r0=pxsim.control.internalOnEvent(s.tmp_0,s.tmp_1,control_doNothing__P11644,s.tmp_2);r0=undefined;return leave(s,r0);default:oops()}}}control_EventHandler_unregister__P11642.info={start:1244,length:106,line:40,column:8,endLine:42,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"unregister\",argumentNames:[\"this\"]};function control_EventHandler_unregister__P11642_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventHandler_unregister__P11642,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function control_doNothing__P11644(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=undefined;return leave(s,r0);default:oops()}}}control_doNothing__P11644.info={start:1362,length:24,line:45,column:4,endLine:45,endColumn:28,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"doNothing\",argumentNames:[]};function control_doNothing__P11644_mk(s){checkStack(s.depth);return{parent:s,fn:control_doNothing__P11644,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function control_EventContext_registerFrameHandler__P11651(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.fn___15121=undefined;s.i___15132=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_4=r0;r0=s.tmp_3.fields[\"frameCallbacks\"]=s.tmp_4;s.tmp_0=control_EventContext_registerFrameCallbacks__P11648_mk(s);s.tmp_0.arg0=s.arg0;s.pc=8;return s.tmp_0;case 8:r0=s.retval;case 1:case 2:r0=pxsim_pxtcore_mkClassInstance(control_FrameCallback__C11639_VT);s.fn___15121=r0;r0=s.fn___15121.fields[\"order\"]=s.arg1;r0=s.fn___15121.fields[\"handler\"]=s.arg2;s.i___15132=0;case 3:s.tmp_1=r0=s.i___15132;r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_6=r0;r0=pxsim_Array__getAt(s.tmp_6,s.i___15132);r0=r0.fields[\"order\"];s.tmp_5=r0;r0=s.tmp_5>s.arg1;s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=4;continue}r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_7=r0;r0=pxsim_Array_.insertAt(s.tmp_7,s.i___15132,s.fn___15121);{step=7;continue}case 4:case 5:r0=s.i___15132+1;s.i___15132=r0;{step=3;continue}case 6:r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.fn___15121);case 7:r0=undefined;return leave(s,r0);default:oops()}}}control_EventContext_registerFrameHandler__P11651.info={start:4222,length:600,line:132,column:8,endLine:148,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"registerFrameHandler\",argumentNames:[\"this\",\"order\",\"handler\"]};function control_EventContext_registerFrameHandler__P11651_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_registerFrameHandler__P11651,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,fn___15121:undefined,i___15132:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function control_EventContext_registerFrameCallbacks__P11648(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.worker___15175=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);r0=s.arg0.fields[\"frameCallbacks\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:r0=s.arg0.fields[\"framesInSample\"]=0;r0=s.arg0.fields[\"timeInSample\"]=0;r0=s.arg0.fields[\"deltaTimeMillis\"]=0;s.tmp_0=r0=s.arg0;r0=pxsim.control.millis();s.tmp_1=r0;r0=s.tmp_0.fields[\"prevTimeMillis\"]=s.tmp_1;r0=s.arg0.fields[\"frameWorker\"];s.worker___15175=r0;r0=pxsim_pxtcore_mkAction(2,inline__P15181);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.worker___15175);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.arg0);r0=pxsim.control.runInParallel(s.tmp_0);case 3:r0=undefined;return leave(s,r0);default:oops()}}}control_EventContext_registerFrameCallbacks__P11648.info={start:3412,length:511,line:104,column:8,endLine:118,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"registerFrameCallbacks\",argumentNames:[\"this\"]};function control_EventContext_registerFrameCallbacks__P11648_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_registerFrameCallbacks__P11648,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,worker___15175:undefined,arg0:undefined}}function inline__P15181(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.delay___15186=undefined;case 1:r0=s.caps[1].fields[\"frameWorker\"];s.tmp_1=r0;r0=s.caps[0]==s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_2=control_EventContext_runCallbacks__P11647_mk(s);s.tmp_2.arg0=s.caps[1];s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.delay___15186=r0;s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=s.delay___15186;s.pc=4;return s.tmp_0;case 4:r0=s.retval;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P15181.info={start:3735,length:177,line:112,column:34,endLine:117,endColumn:13,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"inline\",argumentNames:[]};function inline__P15181_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P15181,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,delay___15186:undefined}}function control_EventContext_runCallbacks__P11647(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.loopStart___15193=undefined;s.f___15205=undefined;s.unnamed116___U2=undefined;s.unnamed117___U3=undefined;s.runtime___15210=undefined;s.fps___15226=undefined;s.delay___15276=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);r0=pxsim.control.millis();s.loopStart___15193=r0;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"prevTimeMillis\"];s.tmp_2=r0;r0=s.loopStart___15193-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"deltaTimeMillis\"]=s.tmp_1;r0=s.arg0.fields[\"prevTimeMillis\"]=s.loopStart___15193;s.f___15205=undefined;s.f___15205=undefined;r0=s.arg0.fields[\"frameCallbacks\"];s.unnamed116___U2=r0;s.unnamed117___U3=0;case 1:s.tmp_0=r0=s.unnamed117___U3;r0=pxsim_Array__length(s.unnamed116___U2);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed116___U2,s.unnamed117___U3);s.f___15205=r0;s.tmp_2=lambda_1_mk(s);r0=s.f___15205.fields[\"handler\"];s.tmp_2.argL=r0;setupLambda(s.tmp_2,s.tmp_2.argL);s.pc=11;return s.tmp_2;case 11:r0=s.retval;r0=s.unnamed117___U3+1;s.unnamed117___U3=r0;{step=1;continue}case 2:s.unnamed116___U2=undefined;r0=pxsim.control.millis();s.tmp_0=r0;r0=s.tmp_0-s.loopStart___15193;s.runtime___15210=r0;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"timeInSample\"];s.tmp_2=r0;r0=s.tmp_2+s.runtime___15210;s.tmp_1=r0;r0=s.tmp_0.fields[\"timeInSample\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"framesInSample\"];s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_1=r0;r0=s.tmp_0.fields[\"framesInSample\"]=s.tmp_1;r0=s.arg0.fields[\"timeInSample\"];s.tmp_1=r0;r0=s.tmp_1>1e3;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.arg0.fields[\"framesInSample\"];s.tmp_2=r0;r0=s.tmp_2>30;case 4:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=9;continue}r0=s.arg0.fields[\"framesInSample\"];s.tmp_4=r0;r0=s.arg0.fields[\"timeInSample\"];s.tmp_6=r0;r0=s.tmp_6/1e3;s.tmp_5=r0;r0=s.tmp_4/s.tmp_5;s.fps___15226=r0;r0=pxsim.Math_.round(s.fps___15226);s.tmp_1=r0;if(s.tmp_1&&s.tmp_1.vtable){setupResume(s,12);pxsim_String__stringConv(s.tmp_1);checkResumeConsumed();return}else{s.retval=s.tmp_1+\"\"}case 12:r0=s.retval;s.tmp_0=r0;r0=pxsim_String__concat(\"fps:\",s.tmp_0);globals.control_EventContext_lastStats___11656=r0;r0=s.fps___15226<99;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}if(globals.control_EventContext_lastStats___11656&&globals.control_EventContext_lastStats___11656.vtable){setupResume(s,13);pxsim_String__stringConv(globals.control_EventContext_lastStats___11656);checkResumeConsumed();return}else{s.retval=globals.control_EventContext_lastStats___11656+\"\"}case 13:r0=s.retval;s.tmp_1=r0;r0=s.fps___15226*10;s.tmp_7=r0;r0=pxsim.Math_.round(s.tmp_7);s.tmp_6=r0;r0=s.tmp_6%10;s.tmp_5=r0;if(s.tmp_5&&s.tmp_5.vtable){setupResume(s,14);pxsim_String__stringConv(s.tmp_5);checkResumeConsumed();return}else{s.retval=s.tmp_5+\"\"}case 14:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(\".\",s.tmp_4);s.tmp_3=r0;if(s.tmp_3&&s.tmp_3.vtable){setupResume(s,15);pxsim_String__stringConv(s.tmp_3);checkResumeConsumed();return}else{s.retval=s.tmp_3+\"\"}case 15:r0=s.retval;s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_2);globals.control_EventContext_lastStats___11656=r0;case 5:case 6:r0=pxsim.control.profilingEnabled();s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=pxsim_String_.mkEmpty();s.tmp_5=r0;r0=s.fps___15226*100;s.tmp_8=r0;r0=s.tmp_8|0;s.tmp_7=r0;if(s.tmp_7&&s.tmp_7.vtable){setupResume(s,16);pxsim_String__stringConv(s.tmp_7);checkResumeConsumed();return}else{s.retval=s.tmp_7+\"\"}case 16:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(s.tmp_5,s.tmp_6);s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_4,\"/100 fps - \");s.tmp_3=r0;r0=s.arg0.fields[\"framesInSample\"];s.tmp_10=r0;if(s.tmp_10&&s.tmp_10.vtable){setupResume(s,17);pxsim_String__stringConv(s.tmp_10);checkResumeConsumed();return}else{s.retval=s.tmp_10+\"\"}case 17:r0=s.retval;s.tmp_9=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_9);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\" frames\");s.tmp_1=r0;r0=pxsim.control.dmesg(s.tmp_1);r0=pxsim.control.gc();r0=pxsim_pxtcore.dumpPerfCounters();case 7:case 8:r0=s.arg0.fields[\"timeInSample\"]=0;r0=s.arg0.fields[\"framesInSample\"]=0;case 9:case 10:s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=1;r0=20-s.runtime___15210;s.tmp_0.arg1=r0;s.pc=18;return s.tmp_0;case 18:r0=s.retval;s.delay___15276=r0;r0=s.delay___15276;return leave(s,r0);default:oops()}}}control_EventContext_runCallbacks__P11647.info={start:2188,length:1214,line:75,column:8,endLine:102,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"runCallbacks\",argumentNames:[\"this\"]};function control_EventContext_runCallbacks__P11647_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_runCallbacks__P11647,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,loopStart___15193:undefined,f___15205:undefined,unnamed116___U2:undefined,unnamed117___U3:undefined,runtime___15210:undefined,fps___15226:undefined,delay___15276:undefined,arg0:undefined}}function Sprite_bottom__P12062(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=Sprite_top__P12060_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=r0=s.arg1;r0=s.arg0.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_bottom__P12062.info={start:9434,length:73,line:339,column:4,endLine:341,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"bottom\",argumentNames:[\"this\",\"value\"]};function Sprite_bottom__P12062_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_bottom__P12062,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function Sprite_bottom__P12061(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_1=Sprite_top__P12059_mk(s);s.tmp_1.arg0=s.arg0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;s.tmp_0=r0;r0=s.arg0.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.tmp_2=r0;r0=s.tmp_0+s.tmp_2;return leave(s,r0);default:oops()}}}Sprite_bottom__P12061.info={start:9282,length:59,line:334,column:4,endLine:336,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"bottom\",argumentNames:[\"this\"]};function Sprite_bottom__P12061_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_bottom__P12061,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function game_onUpdate__P12450(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_init__P12442_mk(s);s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_2=control_EventContext_registerFrameHandler__P11651_mk(s);s.tmp_3=game_eventContext__P12441_mk(s);s.pc=6;return s.tmp_3;case 6:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=20;s.tmp_2.arg2=s.arg0;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}game_onUpdate__P12450.info={start:6826,length:169,line:228,column:4,endLine:232,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"onUpdate\",argumentNames:[\"a\"]};function game_onUpdate__P12450_mk(s){checkStack(s.depth);return{parent:s,fn:game_onUpdate__P12450,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function setupFrames__P26178(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex26359);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex26361);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);r0=pxsim.image.ofBuffer(_hex26363);s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_3);r0=pxsim.image.ofBuffer(_hex26365);s.tmp_4=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_4);r0=pxsim.image.ofBuffer(_hex26367);s.tmp_5=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_5);r0=pxsim.image.ofBuffer(_hex26369);s.tmp_6=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_6);r0=pxsim.image.ofBuffer(_hex26371);s.tmp_7=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_7);r0=pxsim.image.ofBuffer(_hex26373);s.tmp_8=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_8);r0=pxsim.image.ofBuffer(_hex26375);s.tmp_9=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_9);r0=pxsim.image.ofBuffer(_hex26377);s.tmp_10=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_10);globals.birdFrames___26197=s.tmp_0;s.tmp_0=animation_loopImageAnimation__P12978_mk(s);s.tmp_0.arg0=globals.bird___26198;s.tmp_0.arg1=globals.birdFrames___26197;s.tmp_0.arg2=40;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex26384);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex26386);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);globals.obstacles___26196=s.tmp_0;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex26390);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex26392);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);r0=pxsim.image.ofBuffer(_hex26394);s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_3);globals.trees___26195=s.tmp_0;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex26398);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex26400);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);r0=pxsim.image.ofBuffer(_hex26402);s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_3);r0=pxsim.image.ofBuffer(_hex26404);s.tmp_4=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_4);r0=pxsim.image.ofBuffer(_hex26406);s.tmp_5=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_5);r0=pxsim.image.ofBuffer(_hex26408);s.tmp_6=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_6);globals.grassImages___26194=s.tmp_0;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim.image.ofBuffer(_hex26412);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim.image.ofBuffer(_hex26414);s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_2);r0=pxsim.image.ofBuffer(_hex26416);s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_3);r0=pxsim.image.ofBuffer(_hex26418);s.tmp_4=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_4);r0=pxsim.image.ofBuffer(_hex26420);s.tmp_5=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_5);globals.clouds___26193=s.tmp_0;r0=undefined;return leave(s,r0);default:oops()}}}setupFrames__P26178.info={start:289,length:32028,line:10,column:0,endLine:530,endColumn:1,fileName:\"main.ts\",functionName:\"setupFrames\",argumentNames:[]};function setupFrames__P26178_mk(s){checkStack(s.depth);return{parent:s,fn:setupFrames__P26178,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined}}const _hex26359=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000010000000000111101000000001011110100000000101111010000000010010001000000001000000000000000000000000000000000000000000000000000000000000000\");const _hex26361=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000011010000000000101101000000000010110100000000001011010000000000100101000000000010000000000000001000000000000000000000000000000000000000000000\");const _hex26363=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000010110000000000001011000000000000101100000000000010110000000000000011000000000000001000000000000000100000000000000010000000000000000000000000\");const _hex26365=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111000000000000111100000000000001110000000000000011000000000000001000000000000000100000000000000000000000\");const _hex26367=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111010000000000111101000000000001100100000000000010010000000000000001000000000000000000000000000000000000\");const _hex26369=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111010000000000111101000000000001100100000000000010010000000000000001000000000000000000000000000000000000\");const _hex26371=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111000000000000111100000000000001110000000000000011000000000000001000000000000000100000000000000000000000\");const _hex26373=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000010110000000000001011000000000000101100000000000010110000000000000011000000000000001000000000000000100000000000000010000000000000000000000000\");const _hex26375=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000011010000000000101101000000000010110100000000001011010000000000100101000000000010000000000000001000000000000000000000000000000000000000000000\");const _hex26377=pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000010000000000111101000000001011110100000000101111010000000010010001000000001000000000000000000000000000000000000000000000000000000000000000\");const _hex26384=pxsim.BufferMethods.createBufferFromHex(\"8704160020000000000000000000000000006006000000000000000000000000000060060000000000000000000000600000600600000000000000000000006006006667000060060000000000000060060076670000600000000000000000600600766706006006000000000600666606607767060000000000006006606676066077670600060000006666666666776776776706000000006066766766777767767777eeeeee0e707777776766777767767777eeeeee0e007777776766777767777777eeeeee0e000077776770777777777777eeeeee0e000000770770777776777777070000000000000000007777067077770700600000000000000070770600777707000600000000000000007706007777070000000000000000000070060070770700000000000000000000700000007706000000000000000000000000000077060000000000000000000000000000670600000000000000000000000000000600000000\");const _hex26386=pxsim.BufferMethods.createBufferFromHex(\"87040f0020000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000e00e00000000000000000000eee0eeeeee0e000000000000000000e0eebeeebbbe0e000000000000000000eebbeeebeeee0e000000000000000000beeeebebeebbee000000000000000000beeeebebebeeee000000000000000000bebeeeebeebe0e000000000000000000eebbbeeebbee0e000000000000000000e0eebeeeeeee0e00000000000000000000eee00ee0e00e000000000000000000000000000e000e000000000000000000000000e00000000000000000000000000000000e0e0000\");const _hex26390=pxsim.BufferMethods.createBufferFromHex(\"8704240030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000b00b0000000000000000000000000000000000000000000bbb0b00000000000000000000000000000000000b0000b00bbb0b0000000000000000000000000000b00000bb0000bb00bb0b0000000000000000000000000000b000b0bb00b0bb00bb0b0000000000000000000000000000bb00b0bb00b0bbb0bb0b0000000000000000000000000000bb00b0bb00bb0bb0bb0b00000000000000000000b00000b0bb00bbbb00bbbbbbbb0000000000000000000000bb0000bb0bb0bb00b0bbbbbbbb0000000000000000000bb00b00b0bb00bbbb00bbbbbbbbbb0000000000000000b00bbb0b0bbbbbbbbbbbbbbbbbbbbbbb0b000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000000b0b00bbbbb0bbbb0bbbbb0bbbbbbbbbbbbbbbb000000000000000bb0bb00b0bbbbbbbb00bbbbbbbbbb0b00000000000000000000bb0000bb0bb0bb0bbbb00bbbbb0b00000000000000000000b00b00b0bb00b00bb0b00bb0bb0b00000000000000000000000b0000b000000b00b00bb0bb0b00000000000000000000000b0000b00b000000b00b00bb0b0000000000000000000000000000b00b000000b00b00bb000000000000000000000000000000000b000000b00000bb0000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex26392=pxsim.BufferMethods.createBufferFromHex(\"870424003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000b000b00000000000000000000000000000000000000bb000bb00b000000000000000000000000000000000000000b000bb00000000000000000000000000000000b00b000000b000bb00b00000000000000000000000b00b0bb00b000bb0bb000b00000000000000000000000b00b00bb0b00bbb0bbbbb00bbb0000000000000000000000b00bb0bb0bb0bbb0bbbbbb00bb00000000000000000b0b00b00bb00b00bb0bbbbbbbbb000b00000000000000000bbb00b00bb00bbbbbbbbbbbbb0bb00bbb00000000000bb00bbb00bb00bbbbbbbbbbbbbbbbbbbbbbbb00000000b0bbb0b0bbbbbbbbbbbbbbbbbbbbbbbbbbbbb0bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00b00bbbb0bbb00bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000bbb00bb0bbb00bbbbbb0bbbb0bbbbbb0b0b0000000000000bbb00b00bbb0000bbbbbbbbbb0b0bbb0b0b00000000000000b000b00bb00000b0bbbb0bbb0b00bbbbbb000000000000000000000bb00000b0b0bb0bb0bb00bbb0bb0000000000000000000000000000000bbb0b00bb0b00b0bb00000000000000000000000000000000000b00b00b00b0bb0b000000000000000000000000000000000b00000b0000b00b000000000000000000000000000000000000000b0000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex26394=pxsim.BufferMethods.createBufferFromHex(\"87042400300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b00b00b0000000000000000000000000000000000000000bb00bb0b00000000000000000000000000000000b00000b0bb00bb0b00000000000000000000000000000000b00000b0bb00bb0b00000000000000000000000000000000bb0000b0bbb0bb0b000000000000000000000000000b0000bb0000bbbbb0bb00000000000000000000000000000b00b00b00bbbbbbbbbb00000000000000000000000000b00bbbbb0bbbbbbbbbbbbb000000000000000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbb00bb00000000000000000000bb00bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000bbbb00bbbbbbbbbb0b000000000000000000000000000000b0bb0000bbbbbbbb0000000000000000000000000000000000bb0000b0bbb0bb0000000000000000000000000000000000b00000b0bbbbbb000000000000000000000000000000000000000000bbb0bb000000000000000000000000000000000000000000bbb0bb0000000000000000000000000000000000000000000bb00b00000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\");const _hex26398=pxsim.BufferMethods.createBufferFromHex(\"8704080008000000000000000000000000000000000000bb0000bbbb000000000000000000000000\");const _hex26400=pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000000000000000000000bbbb000000bb00000000000000bb00000000\");const _hex26402=pxsim.BufferMethods.createBufferFromHex(\"870408000800000000bbbbbb000000b00000b0bb00b0bbbb0000bbbb00000000000000bb00000000\");const _hex26404=pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000000000000000000000bbbb000000bb00000000000000bb00b0bbbb\");const _hex26406=pxsim.BufferMethods.createBufferFromHex(\"870408000800000000000000000000000000bbbb00bbbbbb0000b0bb000000000000000000000000\");const _hex26408=pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000b0bbbb0000b0bb0000000000000000000000000000b0bb00000000\");const _hex26412=pxsim.BufferMethods.createBufferFromHex(\"8704330017000000000000000000000000001100000000000000000000101100000000000000000000111100000000000000000010111100000000000000000011111100000000000000000011111101000000000000001011111101000000000010111111111101000000000011111111111101000000001011111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000101111111111111101000000101111111111111101000000101111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000010111111111111111101000011111111111111111101001011111111111111111101001111111111111111111101101111111111111111111101101111111111111111111101101111111111111111111101111111111111111111111101111111111111111111111101101111111111111111111101101111111111111111111101001111111111111111111101001111111111111111111101001111111111111111111101001111111111111111111101001011111111111111111101000011111111111111111101000000111111111111111101000000101111111111111101000000001111111111111101000000001011111111111101000000000011111111111101000000000011111111111101000000000010111111111101000000000010111111111100000000000000111111111100000000000000101111111100000000000000001111111100000000000000000010111100000000000000000000100100\");const _hex26414=pxsim.BufferMethods.createBufferFromHex(\"87042e0018000000000000000000000000000011000000000000000000001011000000000000000000001111000000000000000011111111000000000000001011111111000000000000001111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000111111111111000000001011111111111111000000111111111111111111000010111111111111111111000011111111111111111111000011111111111111111111000011111111111111111101001011111111111111111101001011111111111111111101001011111111111111111101001011111111111111111101001111111111111111111101001111111111111111111101101111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101101111111111111111111101001111111111111111111101001011111111111111111101000010111111111111111101000010111111111111111101000010111111111111111111000010111111111111111111000010111111111111111111000010111111111111111111000000111111111111111111000000001111111111111111000000000011111111111111000000000000111111111111000000000000101111111111000000000000001111111101000000000000000011111100\");const _hex26416=pxsim.BufferMethods.createBufferFromHex(\"8704210010000000000000001100000000000011111100000000111111110100001011111111010000111111111101000011111111111100001111111111110110111111111111011111111111111101111111111111110111111111111111011111111111111101111111111111110111111111111111011111111111111101111111111111110110111111111111010011111111111101001011111111110100001111111111010000111111111101000011111111110100001111111111010000111111111101000011111111110100001011111111010000001111111101000000101111110100000000101111010000000010111101000000000011110000000000001011000000000000001100\");const _hex26418=pxsim.BufferMethods.createBufferFromHex(\"870447001e0000000000000000000000000000001101000000000000000000000000001011110000000000000000000011111111111101000000000000000011111111111111010000000000000010111111111111110100000000000000101111111111111101000000000000001111111111111111010000000000001011111111111111110100000000000010111111111111111101000000000010111111111111111111010000000010111111111111111111110100000000111111111111111111111101000000101111111111111111111111010000001011111111111111111111110100000011111111111111111111111101000000111111111111111111111111110000101111111111111111111111111100001111111111111111111111111111001011111111111111111111111111110011111111111111111111111111111100111111111111111111111111111111001111111111111111111111111111110011111111111111111111111111111100101111111111111111111111111111000011111111111111111111111111110000111111111111111111111111111100001111111111111111111111111111000011111111111111111111111111110000111111111111111111111111111100001111111111111111111111111111000011111111111111111111111111110000101111111111111111111111111100000011111111111111111111111111000000101111111111111111111111110000000000111111111111111111111100000000000011111111111111111111000000000000111111111111111111110000000000001111111111111111111100000000001011111111111111111111000000000010111111111111111111110000000000101111111111111111111100000000001111111111111111111111000000000011111111111111111111110000000000111111111111111111111100000000001111111111111111111111000000000011111111111111111111110000000000101111111111111111110100000000000011111111111111111101000000000000101111111111111111010000000000000011111111111111110100000000000000111111111111111101000000000000001111111111111111010000000000000010111111111111110100000000000000101111111111111101000000000000000011111111111111010000000000000000101111111111110100000000000000000011111111111111000000000000000000001111111111110000000000000000000010111111111100000000000000000000001111111111000000000000000000000011111111110000000000000000000000101111111100000000000000000000001011111111000000000000000000000000111111110000000000000000000000001111110100000000000000000000000011111101000000000000000000000000111111010000000000000000000000001111110100000000000000000000000010111101000000000000000000000000001111010000000000000000000000000000110000\");const _hex26420=pxsim.BufferMethods.createBufferFromHex(\"8704270012000000000000000000000011000000000000000000001011000000000000000000001111000000000000000000001111000000000000000010111111000000000000001011111111000000000000001111111111000000000000101111111111000000000000111111111111000000000010111111111111000000000010111111111111000000000010111111111111000000000011111111111111000000001011111111111111000000001011111111111111000000001111111111111111000000001111111111111111000000101111111111111111000000101111111111111101000000101111111111111101000000101111111111111101000000001111111111111101000000001111111111111101000000101111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000000101111111111111101000000001111111111111101000000001011111111111101000000000011111111111101000000000010111111111101000000000000101111111101000000000000101111111101000000000000001111111101000000000000001011111101000000000000000011111100000000000000000000110100000000\");function animation_loopImageAnimation__P12978(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.anim___19452=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_pxtcore_mkClassInstance(animation_ImageAnimation__C12968_VT);s.tmp_0=r0;s.tmp_1=r0=s.arg2;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=1;continue}r0=s.tmp_1;{step=2;continue}case 1:r0=500;case 2:s.tmp_2=r0;s.tmp_3=animation_ImageAnimation_constructor__P12971_mk(s);s.tmp_3.arg0=s.tmp_0;s.tmp_3.arg1=s.arg0;s.tmp_3.arg2=s.arg1;s.tmp_3.arg3=s.tmp_2;s.tmp_3.arg4=true;s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.anim___19452=s.tmp_0;s.tmp_0=animation_SpriteAnimation_init__P12965_mk(s);s.tmp_0.arg0=s.anim___19452;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}animation_loopImageAnimation__P12978.info={start:21267,length:205,line:540,column:4,endLine:543,endColumn:5,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"loopImageAnimation\",argumentNames:[\"sprite\",\"frames\",\"frameInterval\"]};function animation_loopImageAnimation__P12978_mk(s){checkStack(s.depth);return{parent:s,fn:animation_loopImageAnimation__P12978,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,anim___19452:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function animation_ImageAnimation_constructor__P12971(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_ImageAnimation__C12968_VT))failedCast(r0);r0=s.arg0.fields[\"frames\"]=s.arg2;r0=s.arg0.fields[\"frameInterval\"]=s.arg3;s.tmp_0=animation_SpriteAnimation_constructor__P12967_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg4;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=s.arg0.fields[\"lastFrame\"]=-1;return leave(s,r0);default:oops()}}}animation_ImageAnimation_constructor__P12971.info={start:17589,length:178,line:450,column:8,endLine:454,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"this\",\"sprite\",\"frames\",\"frameInterval\",\"loop\"]};function animation_ImageAnimation_constructor__P12971_mk(s){checkStack(s.depth);return{parent:s,fn:animation_ImageAnimation_constructor__P12971,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function animation_SpriteAnimation_constructor__P12967(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_SpriteAnimation__C12964_VT))failedCast(r0);r0=s.arg0.fields[\"sprite\"]=s.arg1;r0=s.arg0.fields[\"loop\"]=s.arg2;return leave(s,r0);default:oops()}}}animation_SpriteAnimation_constructor__P12967.info={start:16085,length:71,line:412,column:8,endLine:413,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"this\",\"sprite\",\"loop\"]};function animation_SpriteAnimation_constructor__P12967_mk(s){checkStack(s.depth);return{parent:s,fn:animation_SpriteAnimation_constructor__P12967,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined}}function animation_SpriteAnimation_init__P12965(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___19461=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_SpriteAnimation__C12964_VT))failedCast(r0);r0=pxsim_pxtrt.mklocRef();s.state___19461=r0;s.tmp_0=r0=s.state___19461;s.tmp_4=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_4;case 3:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3.fields[\"_data\"];s.tmp_2=r0;r0=pxsim_pxtrt.mapGetGeneric(s.tmp_2,\"__animation\");s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt_ldlocRef(s.state___19461);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtrt.mkMap();s.tmp_3=r0;r0=pxsim_Array__mk();s.tmp_4=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_3,\"animations\",s.tmp_4);s.tmp_7=game_currentScene__P12194_mk(s);s.pc=4;return s.tmp_7;case 4:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6.fields[\"_data\"];s.tmp_5=r0;r0=pxsim_pxtrt.mapSetGeneric(s.tmp_5,\"__animation\",s.tmp_3);r0=pxsim_pxtrt_stlocRef(s.state___19461,s.tmp_3);r0=pxsim_pxtcore_mkAction(1,inline__P19475);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.state___19461);s.tmp_1=control_EventContext_registerFrameHandler__P11651_mk(s);s.tmp_2=game_eventContext__P12441_mk(s);s.pc=6;return s.tmp_2;case 6:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=15;s.tmp_1.arg2=s.tmp_0;s.pc=5;return s.tmp_1;case 5:r0=s.retval;case 1:case 2:r0=pxsim_pxtcore_mkAction(1,inline__P19492);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=if_animations_2_mk(s);r0=pxsim_pxtrt_ldlocRef(s.state___19461);s.tmp_1.arg0=r0;s.tmp_2=helpers_arrayFilter__P11473_mk(s);s.tmp_3=if_animations_1_mk(s);r0=pxsim_pxtrt_ldlocRef(s.state___19461);s.tmp_3.arg0=r0;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"animations\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"animations\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"animations\"]}else{s.pc=9;return s.tmp_3}}case 9:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=s.tmp_0;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_1.arg1=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_1.arg0,\"animations\",s.tmp_1.arg1)}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"set/animations\"];if(s.tmp_1.fn===null){s.tmp_1.arg0.fields[\"animations\"]=s.tmp_1.arg1}else if(s.tmp_1.fn===undefined){failedCast(s.tmp_1.arg0)}else{s.pc=7;return s.tmp_1}}case 7:r0=s.retval;s.tmp_1=if_animations_1_mk(s);r0=pxsim_pxtrt_ldlocRef(s.state___19461);s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"animations\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"animations\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"animations\"]}else{s.pc=10;return s.tmp_1}}case 10:r0=s.retval;s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg0);r0=undefined;return leave(s,r0);default:oops()}}}animation_SpriteAnimation_init__P12965.info={start:16166,length:1185,line:415,column:8,endLine:439,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"init\",argumentNames:[\"this\"]};function animation_SpriteAnimation_init__P12965_mk(s){checkStack(s.depth);return{parent:s,fn:animation_SpriteAnimation_init__P12965,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,state___19461:undefined,arg0:undefined}}function inline__P19475(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=if_animations_2_mk(s);r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_0.arg0=r0;s.tmp_1=helpers_arrayFilter__P11473_mk(s);s.tmp_2=if_animations_1_mk(s);r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"animations\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"animations\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"animations\"]}else{s.pc=3;return s.tmp_2}}case 3:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=inline__P19482;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;if(!s.tmp_0.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_0.arg0,\"animations\",s.tmp_0.arg1)}else{s.tmp_0.fn=s.tmp_0.arg0.vtable.iface[\"set/animations\"];if(s.tmp_0.fn===null){s.tmp_0.arg0.fields[\"animations\"]=s.tmp_0.arg1}else if(s.tmp_0.fn===undefined){failedCast(s.tmp_0.arg0)}else{s.pc=1;return s.tmp_0}}case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19475.info={start:16598,length:257,line:424,column:90,endLine:428,endColumn:17,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19475_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19475,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P19482(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_2=animation_SpriteAnimation__C12964_v0_1_mk(s);s.tmp_2.arg0=s.arg0;if(!checkSubtype(s.tmp_2.arg0,animation_SpriteAnimation__C12964_VT))failedCast(s.tmp_2.arg0);s.tmp_2.fn=s.tmp_2.arg0.vtable.methods.update;s.pc=1;return s.tmp_2;case 1:r0=s.retval;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P19482.info={start:16669,length:166,line:425,column:63,endLine:427,endColumn:21,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"anim\"]};function inline__P19482_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19482,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P19492(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"sprite\"];s.tmp_1=r0;r0=s.caps[0].fields[\"sprite\"];s.tmp_2=r0;r0=s.tmp_1===s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=8;continue}case 1:r0=s.arg0;r0=checkSubtype(r0,animation_ImageAnimation__C12968_VT);s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=2;continue}r0=s.tmp_3;{step=3;continue}case 2:r0=s.caps[0];r0=checkSubtype(r0,animation_ImageAnimation__C12968_VT);case 3:s.tmp_4=r0;r0=pxsim_numops_toBool(s.tmp_4);if(!r0){step=4;continue}r0=s.tmp_4;{step=7;continue}case 4:r0=s.arg0;r0=checkSubtype(r0,animation_MovementAnimation__C12972_VT);s.tmp_5=r0;r0=pxsim_numops_toBool(s.tmp_5);if(r0){step=5;continue}r0=s.tmp_5;{step=6;continue}case 5:r0=s.caps[0];r0=checkSubtype(r0,animation_MovementAnimation__C12972_VT);case 6:s.tmp_6=r0;r0=s.tmp_6;case 7:s.tmp_7=r0;r0=s.tmp_7;case 8:s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);s.tmp_9=r0;r0=pxsim_Boolean__bang(s.tmp_9);return leave(s,r0);default:oops()}}}inline__P19492.info={start:17012,length:285,line:432,column:55,endLine:436,endColumn:13,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"anim\"]};function inline__P19492_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19492,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,arg0:undefined}}function animation_SpriteAnimation_update__P12966(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_SpriteAnimation__C12964_VT))failedCast(r0);r0=false;return leave(s,r0);default:oops()}}}animation_SpriteAnimation_update__P12966.info={start:17361,length:118,line:441,column:8,endLine:444,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"update\",argumentNames:[\"this\"]};function animation_SpriteAnimation_update__P12966_mk(s){checkStack(s.depth);return{parent:s,fn:animation_SpriteAnimation_update__P12966,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function scene_Scene_data__P12350(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"_data\"];return leave(s,r0);default:oops()}}}scene_Scene_data__P12350.info={start:5591,length:53,line:157,column:8,endLine:159,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"data\",argumentNames:[\"this\"]};function scene_Scene_data__P12350_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_data__P12350,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function Sprite_setVelocity__P12066(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=Sprite_vx__P12038_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg2;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_setVelocity__P12066.info={start:11599,length:93,line:412,column:4,endLine:415,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"setVelocity\",argumentNames:[\"this\",\"vx\",\"vy\"]};function Sprite_setVelocity__P12066_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_setVelocity__P12066,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Sprite_setPosition__P12065(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.physics___17376=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=r0.fields[\"physicsEngine\"];s.physics___17376=r0;s.tmp_0=PhysicsEngine__C12133_v2_4_mk(s);s.tmp_0.arg0=s.physics___17376;s.tmp_0.arg1=s.arg0;s.tmp_2=r0=s.arg1;s.tmp_4=Sprite_x__P12033_mk(s);s.tmp_4.arg0=s.arg0;s.pc=3;return s.tmp_4;case 3:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2-s.tmp_3;s.tmp_1=r0;r0=s.tmp_1*256;s.tmp_5=r0;r0=s.tmp_5|0;s.tmp_0.arg2=r0;s.tmp_7=r0=s.arg2;s.tmp_9=Sprite_y__P12035_mk(s);s.tmp_9.arg0=s.arg0;s.pc=4;return s.tmp_9;case 4:r0=s.retval;s.tmp_8=r0;r0=s.tmp_7-s.tmp_8;s.tmp_6=r0;r0=s.tmp_6*256;s.tmp_10=r0;r0=s.tmp_10|0;s.tmp_0.arg3=r0;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.moveSprite;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_setPosition__P12065.info={start:11036,length:220,line:392,column:4,endLine:399,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"setPosition\",argumentNames:[\"this\",\"x\",\"y\"]};function Sprite_setPosition__P12065_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_setPosition__P12065,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,physics___17376:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Sprite_x__P12034(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=Sprite_left__P12056_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=r0=s.arg1;r0=s.arg0.fields[\"_image\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_x__P12034.info={start:1328,length:73,line:58,column:4,endLine:60,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"x\",argumentNames:[\"this\",\"v\"]};function Sprite_x__P12034_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_x__P12034,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function Sprite_left__P12056(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.physics___17401=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=r0.fields[\"physicsEngine\"];s.physics___17401=r0;s.tmp_0=PhysicsEngine__C12133_v2_4_mk(s);s.tmp_0.arg0=s.physics___17401;s.tmp_0.arg1=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.arg0.fields[\"_x\"];s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0.arg2=r0;s.tmp_0.arg3=globals.zeroFx8___11504;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.moveSprite;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_left__P12056.info={start:8154,length:257,line:290,column:4,endLine:300,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"left\",argumentNames:[\"this\",\"value\"]};function Sprite_left__P12056_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_left__P12056,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,physics___17401:undefined,arg0:undefined,arg1:undefined}}function Sprite_left__P12055(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_x\"];s.tmp_0=r0;r0=s.tmp_0+128;s.tmp_1=r0;r0=s.tmp_1>>8;return leave(s,r0);default:oops()}}}Sprite_left__P12055.info={start:8012,length:51,line:285,column:4,endLine:287,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"left\",argumentNames:[\"this\"]};function Sprite_left__P12055_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_left__P12055,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Sprite_x__P12033(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_x\"];s.tmp_1=r0;r0=s.tmp_1+128;s.tmp_2=r0;r0=s.tmp_2>>8;s.tmp_0=r0;r0=s.arg0.fields[\"_image\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4=r0;r0=s.tmp_4>>1;s.tmp_3=r0;r0=s.tmp_0+s.tmp_3;return leave(s,r0);default:oops()}}}Sprite_x__P12033.info={start:1157,length:83,line:53,column:4,endLine:55,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"x\",argumentNames:[\"this\"]};function Sprite_x__P12033_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_x__P12033,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined}}function sprites_create__P12026(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___17433=undefined;s.sprite___17435=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.scene___17433=r0;r0=pxsim_pxtcore_mkClassInstance(Sprite__C12031_VT);s.tmp_0=r0;s.tmp_1=Sprite_constructor__P12083_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.sprite___17435=s.tmp_0;s.tmp_0=Sprite_setKind__P12064_mk(s);s.tmp_0.arg0=s.sprite___17435;s.tmp_0.arg1=s.arg1;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=PhysicsEngine__C12133_v0_2_mk(s);r0=s.scene___17433.fields[\"physicsEngine\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.sprite___17435;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.addSprite;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P17450);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg1);r0=pxsim_pxtcore_mkAction(1,inline__P17456);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.sprite___17435);s.tmp_2=helpers_arrayForEach__P11472_mk(s);s.tmp_3=helpers_arrayFilter__P11473_mk(s);r0=s.scene___17433.fields[\"createdHandlers\"];s.tmp_3.arg0=r0;s.tmp_3.arg1=s.tmp_0;s.pc=6;return s.tmp_3;case 6:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=s.tmp_1;s.pc=5;return s.tmp_2;case 5:r0=s.retval;r0=s.sprite___17435;return leave(s,r0);default:oops()}}}sprites_create__P12026.info={start:890,length:400,line:35,column:4,endLine:47,endColumn:5,fileName:\"pxt_modules/game/sprites.ts\",functionName:\"create\",argumentNames:[\"img\",\"kind\"]};function sprites_create__P12026_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_create__P12026,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,scene___17433:undefined,sprite___17435:undefined,arg0:undefined,arg1:undefined}}function inline__P17450(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"kind\"];s.tmp_0=r0;r0=s.tmp_0==s.caps[0];return leave(s,r0);default:oops()}}}inline__P17450.info={start:1195,length:19,line:43,column:20,endLine:43,endColumn:39,fileName:\"pxt_modules/game/sprites.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P17450_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17450,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function inline__P17456(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);r0=s.arg0.fields[\"handler\"];s.tmp_0.argL=r0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P17456.info={start:1237,length:22,line:44,column:21,endLine:44,endColumn:43,fileName:\"pxt_modules/game/sprites.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P17456_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17456,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function PhysicsEngine_addSprite__P12134(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}PhysicsEngine_addSprite__P12134.info={start:124,length:29,line:8,column:4,endLine:8,endColumn:33,fileName:\"pxt_modules/game/physics.ts\",functionName:\"addSprite\",argumentNames:[\"this\",\"sprite\"]};function PhysicsEngine_addSprite__P12134_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_addSprite__P12134,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Sprite_constructor__P12083(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=sprites_BaseSprite_constructor__P11940_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.arg1);s.tmp_5=r0;r0=s.tmp_4-s.tmp_5;s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_6=r0;r0=s.tmp_6|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_4=r0;r0=pxsim_ImageMethods.height(s.arg1);s.tmp_5=r0;r0=s.tmp_4-s.tmp_5;s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.tmp_2*256;s.tmp_6=r0;r0=s.tmp_6|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_y\"]=s.tmp_1;r0=s.arg0.fields[\"_x\"];s.tmp_0=r0;r0=s.arg0.fields[\"_lastX\"]=s.tmp_0;r0=s.arg0.fields[\"_y\"];s.tmp_0=r0;r0=s.arg0.fields[\"_lastY\"]=s.tmp_0;s.tmp_0=Sprite_vx__P12038_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=Sprite_ax__P12042_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=Sprite_ay__P12044_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=s.arg0.fields[\"flags\"]=0;s.tmp_0=Sprite_setImage__P12049_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=Sprite_setKind__P12064_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=-1;s.pc=7;return s.tmp_0;case 7:r0=s.retval;r0=s.arg0.fields[\"layer\"]=1;r0=s.arg0.fields[\"lifespan\"]=undefined;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_overlappers\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_obstacles\"]=s.tmp_1;return leave(s,r0);default:oops()}}}Sprite_constructor__P12083.info={start:4147,length:578,line:164,column:4,endLine:182,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"inline\",argumentNames:[\"this\",\"img\"]};function Sprite_constructor__P12083_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_constructor__P12083,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined}}function Sprite_setImage__P12049(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.oMinX___17521=undefined;s.oMinY___17522=undefined;s.oMaxX___17523=undefined;s.oMaxY___17524=undefined;s.nMinX___17560=undefined;s.nMinY___17564=undefined;s.nMaxX___17568=undefined;s.nMaxY___17575=undefined;s.minXDiff___17582=undefined;s.minYDiff___17585=undefined;s.maxXDiff___17588=undefined;s.maxYDiff___17591=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=13;continue}case 1:case 2:s.oMinX___17521=0;s.oMinY___17522=0;s.oMaxX___17523=0;s.oMaxY___17524=0;r0=s.arg0.fields[\"_hitbox\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"ox\"];s.oMinX___17521=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"oy\"];s.oMinY___17522=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"ox\"];s.tmp_0=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"width\"];s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.oMaxX___17523=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"oy\"];s.tmp_0=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"height\"];s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.oMaxY___17524=r0;case 3:case 4:r0=s.arg0.fields[\"_image\"]=s.arg1;s.tmp_0=r0=s.arg0;s.tmp_2=game_calculateHitBox__P12023_mk(s);s.tmp_2.arg0=s.arg0;s.pc=14;return s.tmp_2;case 14:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"_hitbox\"]=s.tmp_1;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"ox\"];s.nMinX___17560=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"oy\"];s.nMinY___17564=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"ox\"];s.tmp_0=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"width\"];s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.nMaxX___17568=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"oy\"];s.tmp_0=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"height\"];s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.nMaxY___17575=r0;r0=s.oMinX___17521-s.nMinX___17560;s.minXDiff___17582=r0;r0=s.oMinY___17522-s.nMinY___17564;s.minYDiff___17585=r0;r0=s.oMaxX___17523-s.nMaxX___17568;s.maxXDiff___17588=r0;r0=s.oMaxY___17524-s.nMaxY___17575;s.maxYDiff___17591=r0;r0=s.oMaxX___17523!=s.oMinX___17521;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:s.tmp_3=Math_abs__P11484_mk(s);s.tmp_3.arg0=s.minXDiff___17582;s.pc=15;return s.tmp_3;case 15:r0=s.retval;s.tmp_2=r0;s.tmp_5=Math_abs__P11484_mk(s);s.tmp_5.arg0=s.maxXDiff___17588;s.pc=16;return s.tmp_5;case 16:r0=s.retval;s.tmp_4=r0;r0=s.tmp_2+s.tmp_4;s.tmp_1=r0;r0=s.tmp_1<=2;case 6:s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=7;continue}r0=s.arg0.fields[\"_hitbox\"];s.tmp_7=r0;r0=s.tmp_7.fields[\"ox\"]=s.oMinX___17521;r0=s.arg0.fields[\"_hitbox\"];s.tmp_0=r0;r0=s.oMaxX___17523-s.oMinX___17521;s.tmp_1=r0;r0=s.tmp_0.fields[\"width\"]=s.tmp_1;case 7:case 8:r0=s.oMaxY___17524!=s.oMinY___17522;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=9;continue}r0=s.tmp_0;{step=10;continue}case 9:s.tmp_3=Math_abs__P11484_mk(s);s.tmp_3.arg0=s.minYDiff___17585;s.pc=17;return s.tmp_3;case 17:r0=s.retval;s.tmp_2=r0;s.tmp_5=Math_abs__P11484_mk(s);s.tmp_5.arg0=s.maxYDiff___17591;s.pc=18;return s.tmp_5;case 18:r0=s.retval;s.tmp_4=r0;r0=s.tmp_2+s.tmp_4;s.tmp_1=r0;r0=s.tmp_1<=2;case 10:s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=11;continue}r0=s.arg0.fields[\"_hitbox\"];s.tmp_7=r0;r0=s.tmp_7.fields[\"oy\"]=s.oMinY___17522;r0=s.arg0.fields[\"_hitbox\"];s.tmp_0=r0;r0=s.oMaxY___17524-s.oMinY___17522;s.tmp_1=r0;r0=s.tmp_0.fields[\"height\"]=s.tmp_1;case 11:case 12:case 13:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_setImage__P12049.info={start:5754,length:1391,line:212,column:4,endLine:252,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"setImage\",argumentNames:[\"this\",\"img\"]};function Sprite_setImage__P12049_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_setImage__P12049,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,oMinX___17521:undefined,oMinY___17522:undefined,oMaxX___17523:undefined,oMaxY___17524:undefined,nMinX___17560:undefined,nMinY___17564:undefined,nMaxX___17568:undefined,nMaxY___17575:undefined,minXDiff___17582:undefined,minYDiff___17585:undefined,maxXDiff___17588:undefined,maxYDiff___17591:undefined,arg0:undefined,arg1:undefined}}function game_calculateHitBox__P12023(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___17631=undefined;s.minX___17634=undefined;s.minY___17637=undefined;s.maxX___17640=undefined;s.maxY___17641=undefined;s.c___17642=undefined;s.r___17647=undefined;s.width___17678=undefined;s.height___17683=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"_image\"];s.i___17631=r0;r0=pxsim_ImageMethods.width(s.i___17631);s.minX___17634=r0;r0=pxsim_ImageMethods.height(s.i___17631);s.minY___17637=r0;s.maxX___17640=0;s.maxY___17641=0;s.c___17642=0;case 1:s.tmp_1=r0=s.c___17642;r0=pxsim_ImageMethods.width(s.i___17631);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}s.r___17647=0;case 2:s.tmp_1=r0=s.r___17647;r0=pxsim_ImageMethods.height(s.i___17631);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=pxsim_ImageMethods.getPixel(s.i___17631,s.c___17642,s.r___17647);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}s.tmp_4=Math_min__P11487_mk(s);s.tmp_4.arg0=s.minX___17634;s.tmp_4.arg1=s.c___17642;s.pc=7;return s.tmp_4;case 7:r0=s.retval;s.minX___17634=r0;s.tmp_0=Math_min__P11487_mk(s);s.tmp_0.arg0=s.minY___17637;s.tmp_0.arg1=s.r___17647;s.pc=8;return s.tmp_0;case 8:r0=s.retval;s.minY___17637=r0;s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=s.maxX___17640;s.tmp_0.arg1=s.c___17642;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.maxX___17640=r0;s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=s.maxY___17641;s.tmp_0.arg1=s.r___17647;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.maxY___17641=r0;case 3:case 4:r0=s.r___17647+1;s.r___17647=r0;{step=2;continue}case 5:r0=s.c___17642+1;s.c___17642=r0;{step=1;continue}case 6:r0=s.maxX___17640-s.minX___17634;s.tmp_0=r0;r0=s.tmp_0+1;s.width___17678=r0;r0=s.maxY___17641-s.minY___17637;s.tmp_0=r0;r0=s.tmp_0+1;s.height___17683=r0;r0=pxsim_pxtcore_mkClassInstance(game_Hitbox__C12017_VT);s.tmp_0=r0;s.tmp_1=game_Hitbox_constructor__P12022_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.tmp_1.arg2=s.width___17678;s.tmp_1.arg3=s.height___17683;s.tmp_1.arg4=s.minX___17634;s.tmp_1.arg5=s.minY___17637;s.pc=11;return s.tmp_1;case 11:r0=s.retval;r0=s.tmp_0;return leave(s,r0);default:oops()}}}game_calculateHitBox__P12023.info={start:764,length:692,line:34,column:4,endLine:56,endColumn:5,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"calculateHitBox\",argumentNames:[\"s\"]};function game_calculateHitBox__P12023_mk(s){checkStack(s.depth);return{parent:s,fn:game_calculateHitBox__P12023,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,i___17631:undefined,minX___17634:undefined,minY___17637:undefined,maxX___17640:undefined,maxY___17641:undefined,c___17642:undefined,r___17647:undefined,width___17678:undefined,height___17683:undefined,arg0:undefined}}function Sprite_image__P12048(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"];return leave(s,r0);default:oops()}}}Sprite_image__P12048.info={start:5478,length:54,line:202,column:4,endLine:204,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"image\",argumentNames:[\"this\"]};function Sprite_image__P12048_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_image__P12048,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function game_Hitbox_constructor__P12022(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_Hitbox__C12017_VT))failedCast(r0);r0=s.arg0.fields[\"width\"]=s.arg2;r0=s.arg0.fields[\"height\"]=s.arg3;r0=s.arg0.fields[\"parent\"]=s.arg1;r0=s.arg0.fields[\"ox\"]=s.arg4;r0=s.arg0.fields[\"oy\"]=s.arg5;return leave(s,r0);default:oops()}}}game_Hitbox_constructor__P12022.info={start:163,length:246,line:8,column:8,endLine:14,endColumn:9,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"inline\",argumentNames:[\"this\",\"parent\",\"width\",\"height\",\"ox\",\"oy\"]};function game_Hitbox_constructor__P12022_mk(s){checkStack(s.depth);return{parent:s,fn:game_Hitbox_constructor__P12022,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function Sprite_ax__P12042(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_ax\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_ax__P12042.info={start:2700,length:51,line:102,column:4,endLine:104,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"ax\",argumentNames:[\"this\",\"v\"]};function Sprite_ax__P12042_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_ax__P12042,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function Sprite_ax__P12041(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_ax\"];s.tmp_0=r0;r0=s.tmp_0/256;return leave(s,r0);default:oops()}}}Sprite_ax__P12041.info={start:2534,length:60,line:97,column:4,endLine:99,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"ax\",argumentNames:[\"this\"]};function Sprite_ax__P12041_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_ax__P12041,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function scene_setBackgroundColor__P12360(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___17732=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.scene___17732=r0;r0=s.scene___17732.fields[\"background\"];s.tmp_0=r0;r0=s.tmp_0.fields[\"color\"]=s.arg0;r0=undefined;return leave(s,r0);default:oops()}}}scene_setBackgroundColor__P12360.info={start:1004,length:140,line:37,column:4,endLine:40,endColumn:5,fileName:\"pxt_modules/game/scenes.ts\",functionName:\"setBackgroundColor\",argumentNames:[\"color\"]};function scene_setBackgroundColor__P12360_mk(s){checkStack(s.depth);return{parent:s,fn:scene_setBackgroundColor__P12360,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,scene___17732:undefined,arg0:undefined}}function inline__P17740(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.rounds___17743=undefined;s.j___17748=undefined;s.x___17752=undefined;s.y___17757=undefined;s.c___17762=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_ImageMethods.width(s.arg0);s.tmp_1=r0;r0=pxsim_ImageMethods.height(s.arg0);s.tmp_2=r0;r0=s.tmp_1*s.tmp_2;s.tmp_0=r0;r0=s.tmp_0>>5;s.rounds___17743=r0;s.j___17748=0;case 1:r0=s.j___17748<s.rounds___17743;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_1.arg0=s.arg1;s.tmp_1.arg1=0;r0=pxsim_ImageMethods.width(s.arg0);s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1.arg2=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.x___17752=r0;s.tmp_0=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=0;r0=pxsim_ImageMethods.height(s.arg0);s.tmp_1=r0;r0=s.tmp_1-3;s.tmp_0.arg2=r0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.y___17757=r0;r0=pxsim_ImageMethods.getPixel(s.arg0,s.x___17752,s.y___17757);s.c___17762=r0;s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.x___17752;r0=s.y___17757+1;s.tmp_2=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_0,s.tmp_1,s.tmp_2,s.c___17762);s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.x___17752;r0=s.y___17757+2;s.tmp_2=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_0,s.tmp_1,s.tmp_2,s.c___17762);r0=s.j___17748+1;s.j___17748=r0;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P17740.info={start:2652,length:386,line:72,column:45,endLine:81,endColumn:5,fileName:\"pxt_modules/game/effects.ts\",functionName:\"inline\",argumentNames:[\"input\",\"r\"]};function inline__P17740_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17740,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,rounds___17743:undefined,j___17748:undefined,x___17752:undefined,y___17757:undefined,c___17762:undefined,arg0:undefined,arg1:undefined}}function Math_FastRandom_randomRange__P12581(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Math_FastRandom__C12579_VT))failedCast(r0);r0=s.arg2>s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=Math_FastRandom_next__P12580_mk(s);s.tmp_2.arg0=s.arg0;s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.tmp_1=r0;r0=s.arg2-s.arg1;s.tmp_4=r0;r0=s.tmp_4+1;s.tmp_3=r0;r0=s.tmp_1%s.tmp_3;{step=2;continue}case 1:r0=0;case 2:s.tmp_5=r0;r0=s.arg1+s.tmp_5;return leave(s,r0);default:oops()}}}Math_FastRandom_randomRange__P12581.info={start:2046,length:131,line:61,column:8,endLine:63,endColumn:9,fileName:\"pxt_modules/game/mathUtil.ts\",functionName:\"randomRange\",argumentNames:[\"this\",\"min\",\"max\"]};function Math_FastRandom_randomRange__P12581_mk(s){checkStack(s.depth);return{parent:s,fn:Math_FastRandom_randomRange__P12581,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Math_FastRandom_next__P12580(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Math_FastRandom__C12579_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"lfsr\"];s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=s.arg0.fields[\"lfsr\"];s.tmp_7=r0;r0=s.tmp_7&1;s.tmp_6=r0;r0=0-s.tmp_6;s.tmp_5=r0;r0=s.tmp_5&46080;s.tmp_4=r0;r0=s.tmp_2^s.tmp_4;s.tmp_1=r0;r0=s.tmp_0.fields[\"lfsr\"]=s.tmp_1;r0=s.tmp_1;return leave(s,r0);default:oops()}}}Math_FastRandom_next__P12580.info={start:1680,length:107,line:52,column:8,endLine:54,endColumn:9,fileName:\"pxt_modules/game/mathUtil.ts\",functionName:\"next\",argumentNames:[\"this\"]};function Math_FastRandom_next__P12580_mk(s){checkStack(s.depth);return{parent:s,fn:Math_FastRandom_next__P12580,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,arg0:undefined}}function effects_ImageEffect_constructor__P12865(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ImageEffect__C12861_VT))failedCast(r0);r0=s.arg0.fields[\"effect\"]=s.arg2;r0=pxsim_pxtcore_mkClassInstance(Math_FastRandom__C12579_VT);s.tmp_0=r0;s.tmp_1=Math_FastRandom_constructor__P12586_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=undefined;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=s.arg0.fields[\"fastRandom\"]=s.tmp_0;r0=s.arg0.fields[\"preferredDelay\"]=s.arg1;r0=s.arg0.fields[\"times\"]=undefined;return leave(s,r0);default:oops()}}}effects_ImageEffect_constructor__P12865.info={start:410,length:290,line:10,column:8,endLine:15,endColumn:9,fileName:\"pxt_modules/game/effects.ts\",functionName:\"inline\",argumentNames:[\"this\",\"defaultRate\",\"effectFactory\"]};function effects_ImageEffect_constructor__P12865_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ImageEffect_constructor__P12865,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function game_over__P12449(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scoreInfo___17837=undefined;s.highScore___17840=undefined;s.overDialog___17867=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=game_init__P12442_mk(s);s.pc=16;return s.tmp_0;case 16:r0=s.retval;r0=pxsim_numops_toBoolDecr(globals.__isOver___12438);if(!r0){step=1;continue}{step=15;continue}case 1:case 2:globals.__isOver___12438=true;r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=pxsim_numops_toBoolDecr(s.arg0);if(!r0){step=3;continue}r0=globals.winEffect___12426;{step=4;continue}case 3:r0=globals.loseEffect___12428;case 4:s.tmp_2=r0;s.arg1=s.tmp_2;case 5:case 6:s.tmp_0=info_PlayerInfo_getState__P12250_mk(s);s.tmp_0.arg0=globals.player1___12270;s.pc=17;return s.tmp_0;case 17:r0=s.retval;s.scoreInfo___17837=r0;s.tmp_0=info_highScore__P12225_mk(s);s.pc=18;return s.tmp_0;case 18:r0=s.retval;s.highScore___17840=r0;r0=s.scoreInfo___17837.fields[\"score\"];s.tmp_1=r0;r0=s.tmp_1>s.highScore___17840;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}s.tmp_2=info_saveHighScore__P12222_mk(s);s.pc=19;return s.tmp_2;case 19:r0=s.retval;case 7:case 8:case 9:s.tmp_0=r0=globals._sceneStack___12434;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=10;continue}r0=s.tmp_0;{step=11;continue}case 10:r0=pxsim_Array__length(globals._sceneStack___12434);case 11:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=12;continue}s.tmp_2=scene_Scene_destroy__P12353_mk(s);s.tmp_2.arg0=globals._scene___12433;s.pc=20;return s.tmp_2;case 20:r0=s.retval;s.tmp_0=game_popScene__P12444_mk(s);s.pc=21;return s.tmp_0;case 21:r0=s.retval;{step=9;continue}case 12:s.tmp_0=game_pushScene__P12443_mk(s);s.pc=22;return s.tmp_0;case 22:r0=s.retval;s.tmp_0=scene_setBackgroundImage__P12362_mk(s);r0=pxsim_ImageMethods.clone(globals.screen___11888);s.tmp_0.arg0=r0;s.pc=23;return s.tmp_0;case 23:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg0);if(!r0){step=13;continue}s.tmp_0=music_Melody_play__P11782_mk(s);s.tmp_0.arg0=globals.winSound___12432;s.tmp_0.arg1=255;s.pc=24;return s.tmp_0;case 24:r0=s.retval;{step=14;continue}case 13:s.tmp_0=music_Melody_play__P11782_mk(s);s.tmp_0.arg0=globals.loseSound___12430;s.tmp_0.arg1=255;s.pc=25;return s.tmp_0;case 25:r0=s.retval;case 14:s.tmp_0=if_startScreenEffect_1_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.fn=s.tmp_0.arg0.vtable.iface[\"startScreenEffect\"];if(s.tmp_0.fn==null){s.retval=s.tmp_0.arg0.fields[\"startScreenEffect\"]}else{s.pc=26;return s.tmp_0}case 26:r0=s.retval;s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=400;s.pc=27;return s.tmp_0;case 27:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(game_GameOverDialog__C12408_VT);s.tmp_0=r0;s.tmp_1=game_GameOverDialog_constructor__P12413_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;r0=s.scoreInfo___17837.fields[\"score\"];s.tmp_1.arg2=r0;s.tmp_1.arg3=s.highScore___17840;s.pc=28;return s.tmp_1;case 28:r0=s.retval;s.overDialog___17867=s.tmp_0;r0=pxsim_pxtcore_mkAction(1,inline__P17877);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.overDialog___17867);s.tmp_1=scene_createRenderable__P12321_mk(s);s.tmp_1.arg0=100;s.tmp_1.arg1=s.tmp_0;s.tmp_1.arg2=undefined;s.pc=29;return s.tmp_1;case 29:r0=s.retval;s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=500;s.pc=30;return s.tmp_0;case 30:r0=s.retval;s.tmp_0=game_GameOverDialog_displayCursor__P12410_mk(s);s.tmp_0.arg0=s.overDialog___17867;s.pc=31;return s.tmp_0;case 31:r0=s.retval;s.tmp_0=game_waitAnyButton__P12440_mk(s);s.pc=32;return s.tmp_0;case 32:r0=s.retval;setupResume(s,33);pxsim.control.reset();checkResumeConsumed();return;case 33:r0=s.retval;case 15:r0=undefined;return leave(s,r0);default:oops()}}}game_over__P12449.info={start:5015,length:1540,line:171,column:4,endLine:218,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"over\",argumentNames:[\"win\",\"effect\"]};function game_over__P12449_mk(s){checkStack(s.depth);return{parent:s,fn:game_over__P12449,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,scoreInfo___17837:undefined,highScore___17840:undefined,overDialog___17867:undefined,arg0:undefined,arg1:undefined}}function inline__P17877(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_GameOverDialog__C12408_v0_1_mk(s);s.tmp_0.arg0=s.caps[0];if(!checkSubtype(s.tmp_0.arg0,game_GameOverDialog__C12408_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.update;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=r0=s.arg0;r0=s.caps[0].fields[\"image\"];s.tmp_1=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_4=r0;r0=s.caps[0].fields[\"image\"];s.tmp_6=r0;r0=pxsim_ImageMethods.height(s.tmp_6);s.tmp_5=r0;r0=s.tmp_4-s.tmp_5;s.tmp_3=r0;r0=s.tmp_3>>1;s.tmp_2=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,0,s.tmp_2);r0=undefined;return leave(s,r0);default:oops()}}}inline__P17877.info={start:6172,length:228,line:205,column:44,endLine:212,endColumn:9,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[\"target\"]};function inline__P17877_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P17877,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined}}function game_popScene__P12444(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.oldScene___18889=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=11;return s.tmp_0;case 11:r0=s.retval;s.oldScene___18889=r0;s.tmp_0=r0=globals._sceneStack___12434;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array__length(globals._sceneStack___12434);case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}r0=pxsim_Array_.pop(globals._sceneStack___12434);globals._scene___12433=r0;s.tmp_0=control_popEventContext__P11662_mk(s);s.pc=12;return s.tmp_0;case 12:r0=s.retval;{step=6;continue}case 3:r0=pxsim_numops_toBoolDecr(globals._scene___12433);if(!r0){step=4;continue}s.tmp_0=control_popEventContext__P11662_mk(s);s.pc=13;return s.tmp_0;case 13:r0=s.retval;globals._scene___12433=undefined;case 4:case 5:case 6:r0=pxsim_numops_toBoolDecr(globals._scene___12433);if(!r0){step=7;continue}s.tmp_0=particles_enableAll__P12742_mk(s);s.pc=14;return s.tmp_0;case 14:r0=s.retval;case 7:case 8:r0=pxsim_numops_toBoolDecr(globals._scenePopHandlers___12436);if(!r0){step=9;continue}r0=pxsim_pxtcore_mkAction(1,inline__P18908);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.oldScene___18889);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_1.arg0=globals._scenePopHandlers___12436;s.tmp_1.arg1=s.tmp_0;s.pc=15;return s.tmp_1;case 15:r0=s.retval;case 9:case 10:r0=undefined;return leave(s,r0);default:oops()}}}game_popScene__P12444.info={start:1910,length:548,line:73,column:4,endLine:91,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"popScene\",argumentNames:[]};function game_popScene__P12444_mk(s){checkStack(s.depth);return{parent:s,fn:game_popScene__P12444,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,oldScene___18889:undefined}}function inline__P18908(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);s.tmp_0.argL=s.arg0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P18908.info={start:2422,length:18,line:89,column:38,endLine:89,endColumn:56,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[\"cb\"]};function inline__P18908_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18908,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function particles_enableAll__P12742(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___18912=undefined;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.sources___18912=r0;r0=pxsim_numops_toBoolDecr(s.sources___18912);if(!r0){step=1;continue}s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.sources___18912;s.tmp_0.arg1=inline__P18917;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=particles_pruneParticles__P12730_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_enableAll__P12742.info={start:12162,length:193,line:401,column:4,endLine:407,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"enableAll\",argumentNames:[]};function particles_enableAll__P12742_mk(s){checkStack(s.depth);return{parent:s,fn:particles_enableAll__P12742,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,sources___18912:undefined}}function inline__P18917(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=particles_ParticleSource_enabled__P12716_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=true;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=true;return leave(s,r0);default:oops()}}}inline__P18917.info={start:12286,length:21,line:404,column:28,endLine:404,endColumn:49,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P18917_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18917,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function control_popEventContext__P11662(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ctx___18923=undefined;s.context___18930=undefined;r0=pxsim_numops_toBoolDecr(globals.eventContexts___11659);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:r0=pxsim_Array_.pop(globals.eventContexts___11659);s.ctx___18923=r0;r0=pxsim_numops_toBoolDecr(s.ctx___18923);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}{step=7;continue}case 3:case 4:s.tmp_2=control_EventContext_unregister__P11650_mk(s);s.tmp_2.arg0=s.ctx___18923;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_0=r0=globals.eventContexts___11659;r0=pxsim_Array__length(globals.eventContexts___11659);s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_1);s.context___18930=r0;r0=pxsim_numops_toBoolDecr(s.context___18930);if(!r0){step=5;continue}s.tmp_0=control_EventContext_register__P11649_mk(s);s.tmp_0.arg0=s.context___18930;s.pc=9;return s.tmp_0;case 9:r0=s.retval;{step=6;continue}case 5:globals.eventContexts___11659=undefined;case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}control_popEventContext__P11662.info={start:6831,length:413,line:213,column:4,endLine:227,endColumn:5,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"popEventContext\",argumentNames:[]};function control_popEventContext__P11662_mk(s){checkStack(s.depth);return{parent:s,fn:control_popEventContext__P11662,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,ctx___18923:undefined,context___18930:undefined}}function control_EventContext_register__P11649(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.h___18942=undefined;s.unnamed118___U1=undefined;s.unnamed119___U2=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);s.h___18942=undefined;s.h___18942=undefined;r0=s.arg0.fields[\"handlers\"];s.unnamed118___U1=r0;s.unnamed119___U2=0;case 1:s.tmp_0=r0=s.unnamed119___U2;r0=pxsim_Array__length(s.unnamed118___U1);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed118___U1,s.unnamed119___U2);s.h___18942=r0;s.tmp_2=control_EventHandler_register__P11641_mk(s);s.tmp_2.arg0=s.h___18942;s.pc=3;return s.tmp_2;case 3:r0=s.retval;r0=s.unnamed119___U2+1;s.unnamed119___U2=r0;{step=1;continue}case 2:s.unnamed118___U1=undefined;s.tmp_0=control_EventContext_registerFrameCallbacks__P11648_mk(s);s.tmp_0.arg0=s.arg0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}control_EventContext_register__P11649.info={start:3933,length:138,line:120,column:8,endLine:124,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"register\",argumentNames:[\"this\"]};function control_EventContext_register__P11649_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_register__P11649,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,h___18942:undefined,unnamed118___U1:undefined,unnamed119___U2:undefined,arg0:undefined}}function control_EventHandler_register__P11641(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventHandler__C11640_VT))failedCast(r0);r0=pxsim_pxtcore_mkAction(1,inline__P18955);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=s.arg0.fields[\"src\"];s.tmp_1=r0;r0=s.arg0.fields[\"value\"];s.tmp_2=r0;r0=s.arg0.fields[\"flags\"];s.tmp_3=r0;r0=pxsim.control.internalOnEvent(s.tmp_1,s.tmp_2,s.tmp_0,s.tmp_3);r0=undefined;return leave(s,r0);default:oops()}}}control_EventHandler_register__P11641.info={start:1069,length:165,line:34,column:8,endLine:38,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"register\",argumentNames:[\"this\"]};function control_EventHandler_register__P11641_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventHandler_register__P11641,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function inline__P18955(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"handler\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=lambda_1_mk(s);r0=s.caps[0].fields[\"handler\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=3;return s.tmp_1;case 3:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P18955.info={start:1140,length:71,line:35,column:58,endLine:37,endColumn:13,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"inline\",argumentNames:[]};function inline__P18955_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18955,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function game_pushScene__P12443(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.oldScene___18848=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.oldScene___18848=r0;s.tmp_0=particles_clearAll__P12740_mk(s);s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=particles_disableAll__P12741_mk(s);s.pc=7;return s.tmp_0;case 7:r0=s.retval;r0=pxsim_numops_toBoolDecr(globals._sceneStack___12434);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals._sceneStack___12434=r0;case 1:case 2:r0=pxsim_Array__push(globals._sceneStack___12434,globals._scene___12433);globals._scene___12433=undefined;s.tmp_0=game_init__P12442_mk(s);s.pc=8;return s.tmp_0;case 8:r0=s.retval;r0=pxsim_numops_toBoolDecr(globals._scenePushHandlers___12435);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkAction(1,inline__P18865);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.oldScene___18848);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_1.arg0=globals._scenePushHandlers___12435;s.tmp_1.arg1=s.tmp_0;s.pc=9;return s.tmp_1;case 9:r0=s.retval;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}game_pushScene__P12443.info={start:1535,length:369,line:59,column:4,endLine:71,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"pushScene\",argumentNames:[]};function game_pushScene__P12443_mk(s){checkStack(s.depth);return{parent:s,fn:game_pushScene__P12443,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,oldScene___18848:undefined}}function inline__P18865(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);s.tmp_0.argL=s.arg0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P18865.info={start:1868,length:18,line:69,column:39,endLine:69,endColumn:57,fileName:\"pxt_modules/game/game.ts\",functionName:\"inline\",argumentNames:[\"cb\"]};function inline__P18865_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18865,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function particles_disableAll__P12741(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___18869=undefined;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.sources___18869=r0;r0=pxsim_numops_toBoolDecr(s.sources___18869);if(!r0){step=1;continue}s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.sources___18869;s.tmp_0.arg1=inline__P18874;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=particles_pruneParticles__P12730_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_disableAll__P12741.info={start:11883,length:195,line:390,column:4,endLine:396,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"disableAll\",argumentNames:[]};function particles_disableAll__P12741_mk(s){checkStack(s.depth);return{parent:s,fn:particles_disableAll__P12741,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,sources___18869:undefined}}function inline__P18874(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=particles_ParticleSource_enabled__P12716_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=false;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=false;return leave(s,r0);default:oops()}}}inline__P18874.info={start:12008,length:22,line:393,column:28,endLine:393,endColumn:50,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P18874_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18874,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function particles_clearAll__P12740(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sources___18879=undefined;s.tmp_0=particles_particleSources__P12743_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.sources___18879=r0;r0=pxsim_numops_toBoolDecr(s.sources___18879);if(!r0){step=1;continue}s.tmp_0=helpers_arrayForEach__P11472_mk(s);s.tmp_0.arg0=s.sources___18879;s.tmp_0.arg1=inline__P18884;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=particles_pruneParticles__P12730_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}particles_clearAll__P12740.info={start:11611,length:185,line:379,column:4,endLine:385,endColumn:5,fileName:\"pxt_modules/game/particles.ts\",functionName:\"clearAll\",argumentNames:[]};function particles_clearAll__P12740_mk(s){checkStack(s.depth);return{parent:s,fn:particles_clearAll__P12740,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,sources___18879:undefined}}function inline__P18884(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=particles_ParticleSource_clear__P12718_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P18884.info={start:11734,length:14,line:382,column:28,endLine:382,endColumn:42,fileName:\"pxt_modules/game/particles.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P18884_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18884,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function game_waitAnyButton__P12440(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.__waitAnyButton___12437);if(!r0){step=1;continue}s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=globals.__waitAnyButton___12437;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=3;return s.tmp_0;case 3:r0=s.retval;{step=2;continue}case 1:s.tmp_0=pause__P11666_mk(s);s.tmp_0.arg0=3e3;s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 2:r0=undefined;return leave(s,r0);default:oops()}}}game_waitAnyButton__P12440.info={start:915,length:111,line:34,column:4,endLine:37,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"waitAnyButton\",argumentNames:[]};function game_waitAnyButton__P12440_mk(s){checkStack(s.depth);return{parent:s,fn:game_waitAnyButton__P12440,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function game_GameOverDialog_constructor__P12413(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_GameOverDialog__C12408_VT))failedCast(r0);r0=s.arg0.fields[\"win\"]=s.arg1;r0=s.arg0.fields[\"score\"]=s.arg2;r0=s.arg0.fields[\"highScore\"]=s.arg3;s.tmp_0=game_BaseDialog_constructor__P12390_mk(s);s.tmp_0.arg0=s.arg0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_0.arg1=r0;s.tmp_0.arg2=46;s.tmp_1=game_defaultSplashFrame__P12416_mk(s);s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg3=r0;s.tmp_0.arg4=undefined;s.tmp_0.arg5=undefined;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=s.arg0.fields[\"cursorOn\"]=false;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"score\"];s.tmp_2=r0;r0=s.arg0.fields[\"highScore\"];s.tmp_3=r0;r0=s.tmp_2>s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"isNewHighScore\"]=s.tmp_1;return leave(s,r0);default:oops()}}}game_GameOverDialog_constructor__P12413.info={start:12305,length:308,line:362,column:8,endLine:370,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"inline\",argumentNames:[\"this\",\"win\",\"score\",\"highScore\"]};function game_GameOverDialog_constructor__P12413_mk(s){checkStack(s.depth);return{parent:s,fn:game_GameOverDialog_constructor__P12413,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function game_defaultSplashFrame__P12416(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.image.ofBuffer(_hex18156);{step=2;continue}case 1:r0=pxsim.image.ofBuffer(_hex18158);case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}game_defaultSplashFrame__P12416.info={start:18476,length:220,line:562,column:4,endLine:575,endColumn:5,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"defaultSplashFrame\",argumentNames:[]};function game_defaultSplashFrame__P12416_mk(s){checkStack(s.depth);return{parent:s,fn:game_defaultSplashFrame__P12416,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}const _hex18156=pxsim.BufferMethods.createBufferFromHex(\"8704030003000000010100000101000001010000\");const _hex18158=pxsim.BufferMethods.createBufferFromHex(\"8704030003000000f1010000f1010000f1010000\");function game_BaseDialog_constructor__P12390(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim.image.create(s.arg1,s.arg2);s.tmp_1=r0;r0=s.tmp_0.fields[\"image\"]=s.tmp_1;s.tmp_0=r0=s.arg3;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=globals.dialogFrame___12374;case 2:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=3;continue}r0=s.tmp_1;{step=4;continue}case 3:s.tmp_3=game_defaultFrame__P12415_mk(s);s.pc=13;return s.tmp_3;case 13:r0=s.retval;s.tmp_2=r0;globals.dialogFrame___12374=r0;r0=s.tmp_2;case 4:s.tmp_4=r0;r0=s.arg0.fields[\"frame\"]=s.tmp_4;s.tmp_0=r0=s.arg4;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=globals.font8___11848;case 6:s.tmp_1=r0;r0=s.arg0.fields[\"font\"]=s.tmp_1;s.tmp_0=r0=s.arg5;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=7;continue}r0=s.tmp_0;{step=8;continue}case 7:r0=globals.dialogCursor___12375;case 8:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=9;continue}r0=s.tmp_1;{step=10;continue}case 9:s.tmp_3=game_defaultCursorImage__P12417_mk(s);s.pc=14;return s.tmp_3;case 14:r0=s.retval;s.tmp_2=r0;globals.dialogCursor___12375=r0;r0=s.tmp_2;case 10:s.tmp_4=r0;r0=s.arg0.fields[\"cursor\"]=s.tmp_4;r0=globals.dialogTextColor___12376==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}globals.dialogTextColor___12376=15;r0=15;{step=12;continue}case 11:r0=globals.dialogTextColor___12376;case 12:s.tmp_1=r0;r0=s.arg0.fields[\"textColor\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"frame\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3/3;s.tmp_2=r0;r0=pxsim.Math_.floor(s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"unit\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"unit\"];s.tmp_3=r0;r0=s.arg1/s.tmp_3;s.tmp_2=r0;r0=pxsim.Math_.floor(s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"columns\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"unit\"];s.tmp_3=r0;r0=s.arg2/s.tmp_3;s.tmp_2=r0;r0=pxsim.Math_.floor(s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"rows\"]=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_3=r0=s.arg1;r0=s.arg0.fields[\"columns\"];s.tmp_5=r0;r0=s.arg0.fields[\"unit\"];s.tmp_6=r0;r0=s.tmp_5*s.tmp_6;s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0.fields[\"innerLeft\"]=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_3=r0=s.arg2;r0=s.arg0.fields[\"rows\"];s.tmp_5=r0;r0=s.arg0.fields[\"unit\"];s.tmp_6=r0;r0=s.tmp_5*s.tmp_6;s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0.fields[\"innerTop\"]=s.tmp_1;r0=s.arg0.fields[\"cursorCount\"]=0;s.tmp_0=game_BaseDialog_drawBorder__P12382_mk(s);s.tmp_0.arg0=s.arg0;s.pc=15;return s.tmp_0;case 15:r0=s.retval;s.tmp_0=game_BaseDialog_clearInterior__P12383_mk(s);s.tmp_0.arg0=s.arg0;s.pc=16;return s.tmp_0;case 16:r0=s.retval;return leave(s,r0);default:oops()}}}game_BaseDialog_constructor__P12390.info={start:634,length:895,line:36,column:8,endLine:58,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"inline\",argumentNames:[\"this\",\"width\",\"height\",\"frame\",\"font\",\"cursor\"]};function game_BaseDialog_constructor__P12390_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_constructor__P12390,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function game_defaultCursorImage__P12417(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.image.ofBuffer(_hex18280);{step=2;continue}case 1:r0=pxsim.image.ofBuffer(_hex18282);case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}game_defaultCursorImage__P12417.info={start:18702,length:584,line:577,column:4,endLine:600,endColumn:5,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"defaultCursorImage\",argumentNames:[]};function game_defaultCursorImage__P12417_mk(s){checkStack(s.depth);return{parent:s,fn:game_defaultCursorImage__P12417,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}const _hex18280=pxsim.BufferMethods.createBufferFromHex(\"87040a000800000011111101010000010111010111100001011101010100000101000001100010000001010000100000\");const _hex18282=pxsim.BufferMethods.createBufferFromHex(\"87040a000800000077777707777777677711116717177767771111677777776777777767707777060077670000700600\");function game_defaultFrame__P12415(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.image.ofBuffer(_hex18286);{step=2;continue}case 1:r0=pxsim.image.ofBuffer(_hex18288);case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}game_defaultFrame__P12415.info={start:17914,length:556,line:538,column:4,endLine:560,endColumn:5,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"defaultFrame\",argumentNames:[]};function game_defaultFrame__P12415_mk(s){checkStack(s.depth);return{parent:s,fn:game_defaultFrame__P12415,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}const _hex18286=pxsim.BufferMethods.createBufferFromHex(\"8704030003000000110100000101000011010000\");const _hex18288=pxsim.BufferMethods.createBufferFromHex(\"87040c000c0000000000000000000000b0bbbbbbbb0b0000b0bbbbbbbbcb0000b0db1111bdcb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b0db1111bdcb0000b0bbbbbbbbcb0000b0bbbbbbbbcb000000cccccccccc0000\");function game_BaseDialog_clearInterior__P12383(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.d___18059=undefined;s.s___18065=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);s.d___18059=1;case 1:s.tmp_1=r0=s.d___18059;r0=s.arg0.fields[\"columns\"];s.tmp_3=r0;r0=s.tmp_3-1;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.s___18065=1;case 2:s.tmp_1=r0=s.s___18065;r0=s.arg0.fields[\"rows\"];s.tmp_3=r0;r0=s.tmp_3-1;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_4=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_4.arg0=s.arg0;s.tmp_4.arg1=4;s.tmp_4.arg2=s.d___18059;s.tmp_4.arg3=s.s___18065;s.pc=5;return s.tmp_4;case 5:r0=s.retval;r0=s.s___18065+1;s.s___18065=r0;{step=2;continue}case 3:r0=s.d___18059+1;s.d___18059=r0;{step=1;continue}case 4:r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_clearInterior__P12383.info={start:3078,length:230,line:111,column:8,endLine:117,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"clearInterior\",argumentNames:[\"this\"]};function game_BaseDialog_clearInterior__P12383_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_clearInterior__P12383,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,d___18059:undefined,s___18065:undefined,arg0:undefined}}function game_BaseDialog_drawPartial__P12384(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.x0___18082=undefined;s.y0___18089=undefined;s.xf___18096=undefined;s.yf___18100=undefined;s.e___18106=undefined;s.t___18111=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);r0=s.arg0.fields[\"innerLeft\"];s.tmp_0=r0;r0=s.arg0.fields[\"unit\"];s.tmp_2=r0;r0=s.arg2*s.tmp_2;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.x0___18082=r0;r0=s.arg0.fields[\"innerTop\"];s.tmp_0=r0;r0=s.arg0.fields[\"unit\"];s.tmp_2=r0;r0=s.arg3*s.tmp_2;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.y0___18089=r0;r0=s.arg1%3;s.tmp_0=r0;r0=s.arg0.fields[\"unit\"];s.tmp_1=r0;r0=s.tmp_0*s.tmp_1;s.xf___18096=r0;r0=s.arg1/3;s.tmp_1=r0;r0=pxsim.Math_.floor(s.tmp_1);s.tmp_0=r0;r0=s.arg0.fields[\"unit\"];s.tmp_2=r0;r0=s.tmp_0*s.tmp_2;s.yf___18100=r0;s.e___18106=0;case 1:r0=s.arg0.fields[\"unit\"];s.tmp_1=r0;r0=s.e___18106<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.t___18111=0;case 2:r0=s.arg0.fields[\"unit\"];s.tmp_1=r0;r0=s.t___18111<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.arg0.fields[\"image\"];s.tmp_2=r0;r0=s.x0___18082+s.e___18106;s.tmp_3=r0;r0=s.y0___18089+s.t___18111;s.tmp_4=r0;r0=s.arg0.fields[\"frame\"];s.tmp_6=r0;r0=s.xf___18096+s.e___18106;s.tmp_7=r0;r0=s.yf___18100+s.t___18111;s.tmp_8=r0;r0=pxsim_ImageMethods.getPixel(s.tmp_6,s.tmp_7,s.tmp_8);s.tmp_5=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_2,s.tmp_3,s.tmp_4,s.tmp_5);r0=s.t___18111+1;s.t___18111=r0;{step=2;continue}case 3:r0=s.e___18106+1;s.e___18106=r0;{step=1;continue}case 4:r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_drawPartial__P12384.info={start:3318,length:606,line:119,column:8,endLine:134,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"drawPartial\",argumentNames:[\"this\",\"index\",\"colTo\",\"rowTo\"]};function game_BaseDialog_drawPartial__P12384_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_drawPartial__P12384,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,x0___18082:undefined,y0___18089:undefined,xf___18096:undefined,yf___18100:undefined,e___18106:undefined,t___18111:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function game_BaseDialog_drawBorder__P12382(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.c___18237=undefined;s.r___18264=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);s.c___18237=0;case 1:r0=s.arg0.fields[\"columns\"];s.tmp_1=r0;r0=s.c___18237<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}r0=s.c___18237==0;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=2;continue}s.tmp_3=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_3.arg0=s.arg0;s.tmp_3.arg1=0;s.tmp_3.arg2=0;s.tmp_3.arg3=0;s.pc=9;return s.tmp_3;case 9:r0=s.retval;s.tmp_0=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=6;s.tmp_0.arg2=0;r0=s.arg0.fields[\"rows\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0.arg3=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;{step=5;continue}case 2:s.tmp_1=r0=s.c___18237;r0=s.arg0.fields[\"columns\"];s.tmp_3=r0;r0=s.tmp_3-1;s.tmp_2=r0;r0=s.tmp_1===s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_4=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_4.arg0=s.arg0;s.tmp_4.arg1=2;s.tmp_4.arg2=s.c___18237;s.tmp_4.arg3=0;s.pc=11;return s.tmp_4;case 11:r0=s.retval;s.tmp_0=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=8;s.tmp_0.arg2=s.c___18237;r0=s.arg0.fields[\"rows\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0.arg3=r0;s.pc=12;return s.tmp_0;case 12:r0=s.retval;{step=4;continue}case 3:s.tmp_0=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=1;s.tmp_0.arg2=s.c___18237;s.tmp_0.arg3=0;s.pc=13;return s.tmp_0;case 13:r0=s.retval;s.tmp_0=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=7;s.tmp_0.arg2=s.c___18237;r0=s.arg0.fields[\"rows\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0.arg3=r0;s.pc=14;return s.tmp_0;case 14:r0=s.retval;case 4:case 5:r0=s.c___18237+1;s.c___18237=r0;{step=1;continue}case 6:s.r___18264=1;case 7:s.tmp_1=r0=s.r___18264;r0=s.arg0.fields[\"rows\"];s.tmp_3=r0;r0=s.tmp_3-1;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}s.tmp_4=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_4.arg0=s.arg0;s.tmp_4.arg1=3;s.tmp_4.arg2=0;s.tmp_4.arg3=s.r___18264;s.pc=15;return s.tmp_4;case 15:r0=s.retval;s.tmp_0=game_BaseDialog_drawPartial__P12384_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=5;r0=s.arg0.fields[\"columns\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.r___18264;s.pc=16;return s.tmp_0;case 16:r0=s.retval;r0=s.r___18264+1;s.r___18264=r0;{step=7;continue}case 8:r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_drawBorder__P12382.info={start:2321,length:747,line:89,column:8,endLine:109,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"drawBorder\",argumentNames:[\"this\"]};function game_BaseDialog_drawBorder__P12382_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_drawBorder__P12382,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,c___18237:undefined,r___18264:undefined,arg0:undefined}}function game_GameOverDialog_update__P12411(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_GameOverDialog__C12408_VT))failedCast(r0);s.tmp_0=game_BaseDialog_clearInterior__P12383_mk(s);s.tmp_0.arg0=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=game_GameOverDialog__C12408_v1_1_mk(s);s.tmp_0.arg0=s.arg0;if(!checkSubtype(s.tmp_0.arg0,game_GameOverDialog__C12408_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.drawTextCore;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=s.arg0.fields[\"cursorOn\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=game_BaseDialog_drawCursorRow__P12381_mk(s);s.tmp_1.arg0=s.arg0;s.pc=5;return s.tmp_1;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}game_GameOverDialog_update__P12411.info={start:12694,length:173,line:376,column:8,endLine:383,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"update\",argumentNames:[\"this\"]};function game_GameOverDialog_update__P12411_mk(s){checkStack(s.depth);return{parent:s,fn:game_GameOverDialog_update__P12411,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function game_GameOverDialog_drawTextCore__P12412(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.titleHeight___17977=undefined;s.scoreHeight___17993=undefined;s.highScoreHeight___17994=undefined;s.scoreColor___17995=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_GameOverDialog__C12408_VT))failedCast(r0);s.titleHeight___17977=8;r0=s.arg0.fields[\"win\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=\"YOU WIN!\";{step=2;continue}case 1:r0=\"GAME OVER!\";case 2:s.tmp_1=r0;r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}r0=1;{step=4;continue}case 3:r0=5;case 4:s.tmp_3=r0;s.tmp_4=helpers_imagePrintCenter__P11856_mk(s);r0=s.arg0.fields[\"image\"];s.tmp_4.arg0=r0;s.tmp_4.arg1=s.tmp_1;s.tmp_4.arg2=s.titleHeight___17977;s.tmp_4.arg3=s.tmp_3;s.tmp_4.arg4=globals.font8___11848;s.pc=11;return s.tmp_4;case 11:r0=s.retval;r0=s.arg0.fields[\"score\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.scoreHeight___17993=23;s.highScoreHeight___17994=34;r0=pxsim_ImageMethods.isMono(globals.screen___11888);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=1;{step=6;continue}case 5:r0=2;case 6:s.tmp_1=r0;s.scoreColor___17995=s.tmp_1;s.tmp_0=helpers_imagePrintCenter__P11856_mk(s);r0=s.arg0.fields[\"image\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"score\"];s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,13);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 13:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"Score:\",s.tmp_1);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.scoreHeight___17993;s.tmp_0.arg3=s.scoreColor___17995;s.tmp_0.arg4=globals.font8___11848;s.pc=12;return s.tmp_0;case 12:r0=s.retval;r0=s.arg0.fields[\"isNewHighScore\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}s.tmp_1=helpers_imagePrintCenter__P11856_mk(s);r0=s.arg0.fields[\"image\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=\"New High Score!\";s.tmp_1.arg2=s.highScoreHeight___17994;s.tmp_1.arg3=s.scoreColor___17995;s.tmp_1.arg4=globals.font5___11853;s.pc=14;return s.tmp_1;case 14:r0=s.retval;{step=8;continue}case 7:s.tmp_0=helpers_imagePrintCenter__P11856_mk(s);r0=s.arg0.fields[\"image\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"highScore\"];s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,16);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 16:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"HI\",s.tmp_1);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.highScoreHeight___17994;s.tmp_0.arg3=s.scoreColor___17995;s.tmp_0.arg4=globals.font8___11848;s.pc=15;return s.tmp_0;case 15:r0=s.retval;case 8:case 9:case 10:r0=undefined;return leave(s,r0);default:oops()}}}game_GameOverDialog_drawTextCore__P12412.info={start:12877,length:1200,line:385,column:8,endLine:422,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"drawTextCore\",argumentNames:[\"this\"]};function game_GameOverDialog_drawTextCore__P12412_mk(s){checkStack(s.depth);return{parent:s,fn:game_GameOverDialog_drawTextCore__P12412,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,titleHeight___17977:undefined,scoreHeight___17993:undefined,highScoreHeight___17994:undefined,scoreColor___17995:undefined,arg0:undefined}}function helpers_imagePrintCenter__P11856(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.w___18041=undefined;s.x___18046=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg4);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=image_getFontForText__P11850_mk(s);s.tmp_2.arg0=s.arg1;s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.arg4=r0;case 1:case 2:r0=pxsim_String_.length(s.arg1);s.tmp_0=r0;s.tmp_2=if_charWidth_1_mk(s);s.tmp_2.arg0=s.arg4;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charWidth\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charWidth\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charWidth\"]}else{s.pc=4;return s.tmp_2}}case 4:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0*s.tmp_1;s.w___18041=r0;r0=pxsim_ImageMethods.width(s.arg0);s.tmp_1=r0;r0=s.tmp_1-s.w___18041;s.tmp_0=r0;r0=s.tmp_0/2;s.x___18046=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.x___18046;s.tmp_0.arg3=s.arg2;s.tmp_0.arg4=s.arg3;s.tmp_0.arg5=s.arg4;s.tmp_0.arg6=undefined;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}helpers_imagePrintCenter__P11856.info={start:15025,length:295,line:206,column:4,endLine:211,endColumn:5,fileName:\"pxt_modules/screen/text.ts\",functionName:\"imagePrintCenter\",argumentNames:[\"img\",\"text\",\"y\",\"color\",\"font\"]};function helpers_imagePrintCenter__P11856_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imagePrintCenter__P11856,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,w___18041:undefined,x___18046:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function game_BaseDialog_drawCursorRow__P12381(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.offset___17913=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);s.offset___17913=0;r0=s.arg0.fields[\"cursorCount\"];s.tmp_1=r0;r0=s.tmp_1>20;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.offset___17913=1;case 1:case 2:s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"cursorCount\"];s.tmp_3=r0;r0=s.tmp_3+1;s.tmp_2=r0;r0=s.tmp_2%40;s.tmp_1=r0;r0=s.tmp_0.fields[\"cursorCount\"]=s.tmp_1;r0=s.arg0.fields[\"image\"];s.tmp_0=r0;r0=s.arg0.fields[\"cursor\"];s.tmp_1=r0;r0=s.arg0.fields[\"innerLeft\"];s.tmp_6=r0;s.tmp_8=game_BaseDialog_textAreaWidth__P12387_mk(s);s.tmp_8.arg0=s.arg0;s.pc=3;return s.tmp_8;case 3:r0=s.retval;s.tmp_7=r0;r0=s.tmp_6+s.tmp_7;s.tmp_5=r0;r0=s.arg0.fields[\"unit\"];s.tmp_9=r0;r0=s.tmp_5+s.tmp_9;s.tmp_4=r0;r0=s.tmp_4+s.offset___17913;s.tmp_3=r0;r0=s.arg0.fields[\"cursor\"];s.tmp_11=r0;r0=pxsim_ImageMethods.width(s.tmp_11);s.tmp_10=r0;r0=s.tmp_3-s.tmp_10;s.tmp_2=r0;r0=s.arg0.fields[\"innerTop\"];s.tmp_16=r0;r0=s.arg0.fields[\"unit\"];s.tmp_17=r0;r0=s.tmp_16+s.tmp_17;s.tmp_15=r0;s.tmp_19=game_BaseDialog_textAreaHeight__P12388_mk(s);s.tmp_19.arg0=s.arg0;s.pc=4;return s.tmp_19;case 4:r0=s.retval;s.tmp_18=r0;r0=s.tmp_15+s.tmp_18;s.tmp_14=r0;r0=s.tmp_14+1;s.tmp_13=r0;r0=s.arg0.fields[\"cursor\"];s.tmp_22=r0;r0=pxsim_ImageMethods.height(s.tmp_22);s.tmp_21=r0;r0=s.tmp_21+1;s.tmp_20=r0;r0=s.tmp_13-s.tmp_20;s.tmp_12=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_2,s.tmp_12);r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_drawCursorRow__P12381.info={start:1832,length:479,line:74,column:8,endLine:87,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"drawCursorRow\",argumentNames:[\"this\"]};function game_BaseDialog_drawCursorRow__P12381_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_drawCursorRow__P12381,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,tmp_17:undefined,tmp_18:undefined,tmp_19:undefined,tmp_20:undefined,tmp_21:undefined,tmp_22:undefined,offset___17913:undefined,arg0:undefined}}function game_BaseDialog_textAreaHeight__P12388(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);r0=s.arg0.fields[\"image\"];s.tmp_2=r0;r0=pxsim_ImageMethods.height(s.tmp_2);s.tmp_1=r0;r0=s.arg0.fields[\"innerTop\"];s.tmp_5=r0;r0=s.arg0.fields[\"unit\"];s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_4=r0;r0=s.tmp_4<<1;s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0=r0;r0=s.tmp_0-1;return leave(s,r0);default:oops()}}}game_BaseDialog_textAreaHeight__P12388.info={start:4240,length:117,line:148,column:8,endLine:150,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"textAreaHeight\",argumentNames:[\"this\"]};function game_BaseDialog_textAreaHeight__P12388_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_textAreaHeight__P12388,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined}}function game_BaseDialog_textAreaWidth__P12387(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);r0=s.arg0.fields[\"image\"];s.tmp_2=r0;r0=pxsim_ImageMethods.width(s.tmp_2);s.tmp_1=r0;r0=s.arg0.fields[\"innerLeft\"];s.tmp_5=r0;r0=s.arg0.fields[\"unit\"];s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_4=r0;r0=s.tmp_4<<1;s.tmp_3=r0;r0=s.tmp_1-s.tmp_3;s.tmp_0=r0;r0=s.tmp_0-2;return leave(s,r0);default:oops()}}}game_BaseDialog_textAreaWidth__P12387.info={start:4114,length:116,line:144,column:8,endLine:146,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"textAreaWidth\",argumentNames:[\"this\"]};function game_BaseDialog_textAreaWidth__P12387_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_textAreaWidth__P12387,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined}}function game_BaseDialog_cursorRowHeight__P12385(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);r0=s.arg0.fields[\"cursor\"];s.tmp_1=r0;r0=pxsim_ImageMethods.height(s.tmp_1);s.tmp_0=r0;r0=s.tmp_0+1;return leave(s,r0);default:oops()}}}game_BaseDialog_cursorRowHeight__P12385.info={start:3934,length:82,line:136,column:8,endLine:138,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"cursorRowHeight\",argumentNames:[\"this\"]};function game_BaseDialog_cursorRowHeight__P12385_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_cursorRowHeight__P12385,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function game_GameOverDialog_displayCursor__P12410(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_GameOverDialog__C12408_VT))failedCast(r0);r0=s.arg0.fields[\"cursorOn\"]=true;r0=undefined;return leave(s,r0);default:oops()}}}game_GameOverDialog_displayCursor__P12410.info={start:12623,length:61,line:372,column:8,endLine:374,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"displayCursor\",argumentNames:[\"this\"]};function game_GameOverDialog_displayCursor__P12410_mk(s){checkStack(s.depth);return{parent:s,fn:game_GameOverDialog_displayCursor__P12410,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function scene_setBackgroundImage__P12362(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___18824=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.scene___18824=r0;s.tmp_0=scene_Background_image__P12274_mk(s);r0=s.scene___18824.fields[\"background\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_setBackgroundImage__P12362.info={start:1735,length:135,line:62,column:4,endLine:65,endColumn:5,fileName:\"pxt_modules/game/scenes.ts\",functionName:\"setBackgroundImage\",argumentNames:[\"img\"]};function scene_setBackgroundImage__P12362_mk(s){checkStack(s.depth);return{parent:s,fn:scene_setBackgroundImage__P12362,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,scene___18824:undefined,arg0:undefined}}function scene_Background_image__P12274(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Background__C12271_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"]=s.arg1;r0=undefined;return leave(s,r0);default:oops()}}}scene_Background_image__P12274.info={start:1003,length:68,line:40,column:8,endLine:42,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"image\",argumentNames:[\"this\",\"image\"]};function scene_Background_image__P12274_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Background_image__P12274,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function scene_Background_image__P12273(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Background__C12271_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=r0=s.arg0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_5=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_6=r0;r0=pxsim.image.create(s.tmp_5,s.tmp_6);s.tmp_4=r0;r0=s.tmp_3.fields[\"_image\"]=s.tmp_4;case 1:case 2:r0=s.arg0.fields[\"_image\"];return leave(s,r0);default:oops()}}}scene_Background_image__P12273.info={start:811,length:174,line:33,column:8,endLine:38,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"image\",argumentNames:[\"this\"]};function scene_Background_image__P12273_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Background_image__P12273,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined}}function scene_Scene_destroy__P12353(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Scene__C12348_VT))failedCast(r0);r0=s.arg0.fields[\"eventContext\"]=undefined;r0=s.arg0.fields[\"background\"]=undefined;r0=s.arg0.fields[\"tileMap\"]=undefined;r0=s.arg0.fields[\"allSprites\"]=undefined;r0=s.arg0.fields[\"spriteNextId\"]=undefined;r0=s.arg0.fields[\"spritesByKind\"]=undefined;r0=s.arg0.fields[\"physicsEngine\"]=undefined;r0=s.arg0.fields[\"camera\"]=undefined;r0=s.arg0.fields[\"flags\"]=undefined;r0=s.arg0.fields[\"destroyedHandlers\"]=undefined;r0=s.arg0.fields[\"createdHandlers\"]=undefined;r0=s.arg0.fields[\"overlapHandlers\"]=undefined;r0=s.arg0.fields[\"collisionHandlers\"]=undefined;r0=s.arg0.fields[\"gameForeverHandlers\"]=undefined;r0=s.arg0.fields[\"_data\"]=undefined;r0=undefined;return leave(s,r0);default:oops()}}}scene_Scene_destroy__P12353.info={start:5933,length:662,line:173,column:8,endLine:189,endColumn:9,fileName:\"pxt_modules/game/scene.ts\",functionName:\"destroy\",argumentNames:[\"this\"]};function scene_Scene_destroy__P12353_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Scene_destroy__P12353,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function info_highScore__P12225(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=settings_readNumber__P11924_mk(s);s.tmp_1.arg0=\"high-score\";s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=0;case 2:s.tmp_2=r0;r0=s.tmp_2;return leave(s,r0);default:oops()}}}info_highScore__P12225.info={start:7111,length:98,line:241,column:4,endLine:243,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"highScore\",argumentNames:[]};function info_highScore__P12225_mk(s){checkStack(s.depth);return{parent:s,fn:info_highScore__P12225,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function settings_readNumber__P11924(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.buf___19175=undefined;s.nums___19180=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim.settings._get(s.arg0);s.buf___19175=r0;r0=pxsim_numops_toBoolDecr(s.buf___19175);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=undefined;{step=7;continue}{step=6;continue}case 1:s.tmp_2=msgpack_unpackNumberArray__P11536_mk(s);s.tmp_2.arg0=s.buf___19175;s.tmp_2.arg1=0;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.nums___19180=r0;s.tmp_0=r0=s.nums___19180;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:r0=pxsim_Array__length(s.nums___19180);s.tmp_1=r0;r0=s.tmp_1>=1;case 3:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=4;continue}r0=pxsim_Array__getAt(s.nums___19180,0);{step=7;continue}case 4:case 5:r0=undefined;case 6:case 7:return leave(s,r0);default:oops()}}}settings_readNumber__P11924.info={start:2742,length:313,line:109,column:4,endLine:119,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"readNumber\",argumentNames:[\"key\"]};function settings_readNumber__P11924_mk(s){checkStack(s.depth);return{parent:s,fn:settings_readNumber__P11924,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,buf___19175:undefined,nums___19180:undefined,arg0:undefined}}function settings_readBuffer__P11922(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim.settings._get(s.arg0);return leave(s,r0);default:oops()}}}settings_readBuffer__P11922.info={start:2371,length:72,line:91,column:4,endLine:93,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"readBuffer\",argumentNames:[\"key\"]};function settings_readBuffer__P11922_mk(s){checkStack(s.depth);return{parent:s,fn:settings_readBuffer__P11922,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function msgpack_unpackNumberArray__P11536(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.res___19190=undefined;s.fmt___19196=undefined;s.v___19204=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__mk();s.res___19190=r0;case 1:s.tmp_1=r0=s.arg1;r0=pxsim.BufferMethods.length(s.arg0);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=10;continue}s.tmp_3=r0=s.arg1;r0=s.tmp_3+1;s.arg1=r0;s.tmp_4=msgpack_tagFormat__P11534_mk(s);r0=pxsim.BufferMethods.getByte(s.arg0,s.tmp_3);s.tmp_4.arg0=r0;s.pc=12;return s.tmp_4;case 12:r0=s.retval;s.fmt___19196=r0;r0=s.fmt___19196===null;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}s.tmp_1=r0=s.arg0;r0=s.arg1-1;s.tmp_2=r0;r0=pxsim.BufferMethods.getNumber(s.tmp_1,6,s.tmp_2);s.v___19204=r0;r0=-31<=s.v___19204;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:r0=s.v___19204<=127;case 3:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=4;continue}r0=pxsim_Array__push(s.res___19190,s.v___19204);{step=5;continue}case 4:r0=null;{step=11;continue}case 5:{step=7;continue}case 6:s.tmp_0=r0=s.res___19190;r0=pxsim.BufferMethods.getNumber(s.arg0,s.fmt___19196,s.arg1);s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);s.tmp_0=r0=s.arg1;s.tmp_2=pins_sizeOf__P11525_mk(s);s.tmp_2.arg0=s.fmt___19196;s.pc=13;return s.tmp_2;case 13:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.arg1=r0;case 7:case 8:r0=pxsim.BufferMethods.getByte(s.arg0,s.arg1);s.tmp_1=r0;r0=s.tmp_1===193;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}r0=s.arg1+1;s.arg1=r0;{step=8;continue}case 9:{step=1;continue}case 10:r0=s.res___19190;case 11:return leave(s,r0);default:oops()}}}msgpack_unpackNumberArray__P11536.info={start:6107,length:669,line:193,column:4,endLine:213,endColumn:5,fileName:\"pxt_modules/base/buffer.ts\",functionName:\"unpackNumberArray\",argumentNames:[\"buf\",\"offset\"]};function msgpack_unpackNumberArray__P11536_mk(s){checkStack(s.depth);return{parent:s,fn:msgpack_unpackNumberArray__P11536,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,res___19190:undefined,fmt___19196:undefined,v___19204:undefined,arg0:undefined,arg1:undefined}}function msgpack_tagFormat__P11534(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;r0=pxsim_pxtcore.switch_eq(203,s.tmp_0);if(r0){step=1;continue}r0=pxsim_pxtcore.switch_eq(204,s.tmp_0);if(r0){step=2;continue}r0=pxsim_pxtcore.switch_eq(205,s.tmp_0);if(r0){step=3;continue}r0=pxsim_pxtcore.switch_eq(206,s.tmp_0);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(208,s.tmp_0);if(r0){step=5;continue}r0=pxsim_pxtcore.switch_eq(209,s.tmp_0);if(r0){step=6;continue}r0=pxsim_pxtcore.switch_eq(210,s.tmp_0);if(r0){step=7;continue}r0=s.tmp_0;{step=8;continue}case 1:r0=16;{step=9;continue}case 2:r0=7;{step=9;continue}case 3:r0=9;{step=9;continue}case 4:r0=12;{step=9;continue}case 5:r0=6;{step=9;continue}case 6:r0=8;{step=9;continue}case 7:r0=10;{step=9;continue}case 8:r0=null;case 9:return leave(s,r0);default:oops()}}}msgpack_tagFormat__P11534.info={start:4602,length:481,line:144,column:4,endLine:156,endColumn:5,fileName:\"pxt_modules/base/buffer.ts\",functionName:\"tagFormat\",argumentNames:[\"tag\"]};function msgpack_tagFormat__P11534_mk(s){checkStack(s.depth);return{parent:s,fn:msgpack_tagFormat__P11534,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function pins_sizeOf__P11525(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;r0=pxsim_pxtcore.switch_eq(1,s.tmp_0);if(r0){step=1;continue}r0=pxsim_pxtcore.switch_eq(2,s.tmp_0);if(r0){step=2;continue}r0=pxsim_pxtcore.switch_eq(6,s.tmp_0);if(r0){step=3;continue}r0=pxsim_pxtcore.switch_eq(7,s.tmp_0);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(3,s.tmp_0);if(r0){step=5;continue}r0=pxsim_pxtcore.switch_eq(4,s.tmp_0);if(r0){step=6;continue}r0=pxsim_pxtcore.switch_eq(8,s.tmp_0);if(r0){step=7;continue}r0=pxsim_pxtcore.switch_eq(9,s.tmp_0);if(r0){step=8;continue}r0=pxsim_pxtcore.switch_eq(5,s.tmp_0);if(r0){step=9;continue}r0=pxsim_pxtcore.switch_eq(10,s.tmp_0);if(r0){step=10;continue}r0=pxsim_pxtcore.switch_eq(12,s.tmp_0);if(r0){step=11;continue}r0=pxsim_pxtcore.switch_eq(11,s.tmp_0);if(r0){step=12;continue}r0=pxsim_pxtcore.switch_eq(15,s.tmp_0);if(r0){step=13;continue}r0=pxsim_pxtcore.switch_eq(13,s.tmp_0);if(r0){step=14;continue}r0=pxsim_pxtcore.switch_eq(16,s.tmp_0);if(r0){step=15;continue}r0=pxsim_pxtcore.switch_eq(14,s.tmp_0);if(r0){step=16;continue}r0=s.tmp_0;{step=17;continue}case 1:case 2:case 3:case 4:r0=1;{step=18;continue}case 5:case 6:case 7:case 8:r0=2;{step=18;continue}case 9:case 10:case 11:case 12:case 13:case 14:r0=4;{step=18;continue}case 15:case 16:r0=8;{step=18;continue}case 17:r0=0;case 18:return leave(s,r0);default:oops()}}}pins_sizeOf__P11525.info={start:102,length:844,line:5,column:4,endLine:29,endColumn:5,fileName:\"pxt_modules/base/buffer.ts\",functionName:\"sizeOf\",argumentNames:[\"format\"]};function pins_sizeOf__P11525_mk(s){checkStack(s.depth);return{parent:s,fn:pins_sizeOf__P11525,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function info_saveHighScore__P12222(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.hs___19010=undefined;s.curr___19026=undefined;r0=pxsim_numops_toBoolDecr(globals.players___12171);if(!r0){step=5;continue}r0=pxsim_pxtrt.mklocRef();s.hs___19010=r0;r0=pxsim_pxtrt_stlocRef(s.hs___19010,0);r0=pxsim_pxtcore_mkAction(1,inline__P19019);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.hs___19010);s.tmp_1=helpers_arrayForEach__P11472_mk(s);s.tmp_2=helpers_arrayFilter__P11473_mk(s);s.tmp_2.arg0=globals.players___12171;s.tmp_2.arg1=inline__P19014;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_1.arg0=r0;s.tmp_1.arg1=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;s.tmp_0=settings_readNumber__P11924_mk(s);s.tmp_0.arg0=\"high-score\";s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.curr___19026=r0;r0=s.curr___19026==null;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_pxtrt_ldlocRef(s.hs___19010);s.tmp_1=r0;r0=s.tmp_1>s.curr___19026;case 2:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}s.tmp_3=settings_writeNumber__P11920_mk(s);s.tmp_3.arg0=\"high-score\";r0=pxsim_pxtrt_ldlocRef(s.hs___19010);s.tmp_3.arg1=r0;s.pc=10;return s.tmp_3;case 10:r0=s.retval;case 3:case 4:case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}info_saveHighScore__P12222.info={start:6212,length:383,line:205,column:4,endLine:215,endColumn:5,fileName:\"pxt_modules/game/info.ts\",functionName:\"saveHighScore\",argumentNames:[]};function info_saveHighScore__P12222_mk(s){checkStack(s.depth);return{parent:s,fn:info_saveHighScore__P12222,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,hs___19010:undefined,curr___19026:undefined}}function inline__P19014(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_1=info_PlayerInfo_hasScore__P12255_mk(s);s.tmp_1.arg0=s.arg0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;case 2:s.tmp_2=r0;r0=s.tmp_2;return leave(s,r0);default:oops()}}}inline__P19014.info={start:6337,length:22,line:209,column:24,endLine:209,endColumn:46,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"p\"]};function inline__P19014_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19014,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P19019(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=r0=s.caps[0];s.tmp_2=Math_max__P11486_mk(s);r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_2.arg0=r0;s.tmp_3=info_PlayerInfo_score__P12252_mk(s);s.tmp_3.arg0=s.arg0;s.pc=2;return s.tmp_3;case 2:r0=s.retval;s.tmp_2.arg1=r0;s.pc=1;return s.tmp_2;case 1:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=s.tmp_1;return leave(s,r0);default:oops()}}}inline__P19019.info={start:6386,length:33,line:210,column:25,endLine:210,endColumn:58,fileName:\"pxt_modules/game/info.ts\",functionName:\"inline\",argumentNames:[\"p\"]};function inline__P19019_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19019,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function settings_writeNumber__P11920(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg1);s.tmp_1=settings_writeBuffer__P11918_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_2=msgpack_packNumberArray__P11537_mk(s);s.tmp_2.arg0=s.tmp_0;s.pc=2;return s.tmp_2;case 2:r0=s.retval;s.tmp_1.arg1=r0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}settings_writeNumber__P11920.info={start:1942,length:122,line:77,column:4,endLine:79,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"writeNumber\",argumentNames:[\"key\",\"value\"]};function settings_writeNumber__P11920_mk(s){checkStack(s.depth);return{parent:s,fn:settings_writeNumber__P11920,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function settings_writeBuffer__P11918(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim.settings._set(s.arg0,s.arg1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.settings._userClean();r0=pxsim_pxtrt.panic(920);case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}settings_writeBuffer__P11918.info={start:1393,length:290,line:58,column:4,endLine:65,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"writeBuffer\",argumentNames:[\"key\",\"value\"]};function settings_writeBuffer__P11918_mk(s){checkStack(s.depth);return{parent:s,fn:settings_writeBuffer__P11918,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function msgpack_packNumberArray__P11537(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.off___19043=undefined;s.n___19045=undefined;s.unnamed112___U2=undefined;s.unnamed113___U3=undefined;s.buf___19054=undefined;s.n___19060=undefined;s.unnamed114___U6=undefined;s.unnamed115___U7=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.off___19043=0;s.n___19045=undefined;s.n___19045=undefined;s.unnamed112___U2=s.arg0;s.unnamed113___U3=0;case 1:s.tmp_0=r0=s.unnamed113___U3;r0=pxsim_Array__length(s.unnamed112___U2);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed112___U2,s.unnamed113___U3);s.n___19045=r0;s.tmp_2=r0=s.off___19043;s.tmp_4=msgpack_packNumberCore__P11535_mk(s);s.tmp_4.arg0=null;s.tmp_4.arg1=s.off___19043;s.tmp_4.arg2=s.n___19045;s.pc=5;return s.tmp_4;case 5:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.off___19043=r0;r0=s.unnamed113___U3+1;s.unnamed113___U3=r0;{step=1;continue}case 2:s.unnamed112___U2=undefined;r0=pxsim.control.createBuffer(s.off___19043);s.buf___19054=r0;s.off___19043=0;s.n___19060=undefined;s.n___19060=undefined;s.unnamed114___U6=s.arg0;s.unnamed115___U7=0;case 3:s.tmp_0=r0=s.unnamed115___U7;r0=pxsim_Array__length(s.unnamed114___U6);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=4;continue}r0=pxsim_Array__getAt(s.unnamed114___U6,s.unnamed115___U7);s.n___19060=r0;s.tmp_2=r0=s.off___19043;s.tmp_4=msgpack_packNumberCore__P11535_mk(s);s.tmp_4.arg0=s.buf___19054;s.tmp_4.arg1=s.off___19043;s.tmp_4.arg2=s.n___19060;s.pc=6;return s.tmp_4;case 6:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.off___19043=r0;r0=s.unnamed115___U7+1;s.unnamed115___U7=r0;{step=3;continue}case 4:s.unnamed114___U6=undefined;r0=s.buf___19054;return leave(s,r0);default:oops()}}}msgpack_packNumberArray__P11537.info={start:6884,length:337,line:219,column:4,endLine:230,endColumn:5,fileName:\"pxt_modules/base/buffer.ts\",functionName:\"packNumberArray\",argumentNames:[\"nums\"]};function msgpack_packNumberArray__P11537_mk(s){checkStack(s.depth);return{parent:s,fn:msgpack_packNumberArray__P11537,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,off___19043:undefined,n___19045:undefined,unnamed112___U2:undefined,unnamed113___U3:undefined,buf___19054:undefined,n___19060:undefined,unnamed114___U6:undefined,unnamed115___U7:undefined,arg0:undefined}}function msgpack_packNumberCore__P11535(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tag___19073=undefined;s.fmt___19101=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}s.tag___19073=203;s.tmp_1=r0=s.arg2;r0=s.arg2<<0;s.tmp_2=r0;r0=s.tmp_1==s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_3=r0=s.arg2;r0=s.arg2>>>0;s.tmp_4=r0;r0=s.tmp_3==s.tmp_4;case 2:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=19;continue}r0=-31<=s.arg2;s.tmp_6=r0;r0=pxsim_numops_toBool(s.tmp_6);if(r0){step=3;continue}r0=s.tmp_6;{step=4;continue}case 3:r0=s.arg2<=127;case 4:s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=7;continue}r0=pxsim_numops_toBoolDecr(s.arg0);if(!r0){step=5;continue}r0=pxsim.BufferMethods.setByte(s.arg0,s.arg1,s.arg2);case 5:case 6:r0=1;{step=23;continue}{step=18;continue}case 7:r0=0<=s.arg2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=12;continue}r0=s.arg2<=255;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=8;continue}s.tag___19073=204;{step=11;continue}case 8:r0=s.arg2<=65535;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tag___19073=205;{step=10;continue}case 9:s.tag___19073=206;case 10:case 11:{step=17;continue}case 12:r0=-127<=s.arg2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}s.tag___19073=208;{step=16;continue}case 13:r0=-32767<=s.arg2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}s.tag___19073=209;{step=15;continue}case 14:s.tag___19073=210;case 15:case 16:case 17:case 18:case 19:case 20:s.tmp_0=msgpack_tagFormat__P11534_mk(s);s.tmp_0.arg0=s.tag___19073;s.pc=24;return s.tmp_0;case 24:r0=s.retval;s.fmt___19101=r0;r0=pxsim_numops_toBoolDecr(s.arg0);if(!r0){step=21;continue}r0=pxsim.BufferMethods.setByte(s.arg0,s.arg1,s.tag___19073);s.tmp_0=r0=s.arg0;s.tmp_1=r0=s.fmt___19101;r0=s.arg1+1;s.tmp_2=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,s.tmp_1,s.tmp_2,s.arg2);case 21:case 22:s.tmp_1=pins_sizeOf__P11525_mk(s);s.tmp_1.arg0=s.fmt___19101;s.pc=25;return s.tmp_1;case 25:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0+1;case 23:return leave(s,r0);default:oops()}}}msgpack_packNumberCore__P11535.info={start:5089,length:951,line:158,column:4,endLine:188,endColumn:5,fileName:\"pxt_modules/base/buffer.ts\",functionName:\"packNumberCore\",argumentNames:[\"buf\",\"offset\",\"num\"]};function msgpack_packNumberCore__P11535_mk(s){checkStack(s.depth);return{parent:s,fn:msgpack_packNumberCore__P11535,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tag___19073:undefined,fmt___19101:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function music_Melody_play__P11782(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);s.tmp_0=music_Melody_playCore__P11780_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=false;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}music_Melody_play__P11782.info={start:8802,length:71,line:277,column:8,endLine:279,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"play\",argumentNames:[\"this\",\"volume\"]};function music_Melody_play__P11782_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_play__P11782,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function music_Melody_playCore__P11780(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___18297=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);s.tmp_0=music_Melody_stop__P11777_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(music_MelodyPlayer__C11788_VT);s.tmp_0=r0;s.tmp_1=music_MelodyPlayer_constructor__P11791_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;r0=s.arg0.fields[\"_player\"]=s.tmp_0;s.p___18297=s.tmp_0;s.tmp_0=music_Melody_registerMelody__P11778_mk(s);s.tmp_0.arg0=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=pxsim_pxtcore_mkAction(4,inline__P18306);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.p___18297);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.arg1);r0=pxsim_pxtrt_stclo(s.tmp_0,3,s.arg2);r0=pxsim.control.runInParallel(s.tmp_0);r0=undefined;return leave(s,r0);default:oops()}}}music_Melody_playCore__P11780.info={start:7626,length:434,line:241,column:8,endLine:253,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"playCore\",argumentNames:[\"this\",\"volume\",\"loop\"]};function music_Melody_playCore__P11780_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_playCore__P11780,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,p___18297:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P18306(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:case 1:r0=s.caps[0].fields[\"_player\"];s.tmp_1=r0;r0=s.tmp_1==s.caps[1];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_2=music_MelodyPlayer_play__P11790_mk(s);s.tmp_2.arg0=s.caps[1];s.tmp_2.arg1=s.caps[2];s.pc=5;return s.tmp_2;case 5:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.caps[3]);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}{step=4;continue}case 2:case 3:{step=1;continue}case 4:s.tmp_2=music_Melody_unregisterMelody__P11779_mk(s);s.tmp_2.arg0=s.caps[0];s.pc=6;return s.tmp_2;case 6:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P18306.info={start:7829,length:220,line:245,column:34,endLine:252,endColumn:13,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[]};function inline__P18306_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18306,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function music_MelodyPlayer_constructor__P11791(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_MelodyPlayer__C11788_VT))failedCast(r0);r0=s.arg0.fields[\"melody\"]=s.arg1;return leave(s,r0);default:oops()}}}music_MelodyPlayer_constructor__P11791.info={start:10651,length:62,line:328,column:8,endLine:330,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[\"this\",\"m\"]};function music_MelodyPlayer_constructor__P11791_mk(s){checkStack(s.depth);return{parent:s,fn:music_MelodyPlayer_constructor__P11791,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function music_MelodyPlayer_play__P11790(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.notes___18330=undefined;s.pos___18334=undefined;s.duration___18335=undefined;s.octave___18336=undefined;s.tempo___18337=undefined;s.hz___18338=undefined;s.endHz___18339=undefined;s.ms___18341=undefined;s.timePos___18342=undefined;s.startTime___18343=undefined;s.now___18346=undefined;s.envA___18347=undefined;s.envD___18348=undefined;s.envS___18349=undefined;s.envR___18350=undefined;s.soundWave___18351=undefined;s.sndInstr___18352=undefined;s.sndInstrPtr___18356=undefined;s.addForm___18357=undefined;s.scanNextWord___18406=undefined;s.token___18450=undefined;s.tokenKind___18451=undefined;s.consumeToken___18454=undefined;s.currNote___18525=undefined;s.prevNote___18527=undefined;s.timeLeft___18529=undefined;s.note___18542=undefined;s.i___18546=undefined;s.noteChar___18551=undefined;s.keyNumber___18623=undefined;s.currMs___18633=undefined;s.beat___18636=undefined;s.timeLeft___18683=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_MelodyPlayer__C11788_VT))failedCast(r0);r0=pxsim_pxtrt.mklocRef();s.tmp_0=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.arg1);s.arg1=s.tmp_0;r0=s.arg0.fields[\"melody\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=1;continue}{step=59;continue}case 1:case 2:s.tmp_4=r0=s.arg1;s.tmp_6=Math_clamp__P11483_mk(s);s.tmp_6.arg0=0;s.tmp_6.arg1=255;r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_8=r0;s.tmp_10=music_volume__P11767_mk(s);s.pc=61;return s.tmp_10;case 61:r0=s.retval;s.tmp_9=r0;r0=s.tmp_8*s.tmp_9;s.tmp_7=r0;r0=s.tmp_7>>8;s.tmp_6.arg2=r0;s.pc=60;return s.tmp_6;case 60:r0=s.retval;s.tmp_5=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_4,s.tmp_5);r0=s.arg0.fields[\"melody\"];r0=r0.fields[\"_text\"];s.notes___18330=r0;r0=pxsim_pxtrt.mklocRef();s.pos___18334=r0;r0=pxsim_pxtrt_stlocRef(s.pos___18334,0);r0=pxsim_pxtrt.mklocRef();s.duration___18335=r0;r0=pxsim_pxtrt_stlocRef(s.duration___18335,4);r0=pxsim_pxtrt.mklocRef();s.octave___18336=r0;r0=pxsim_pxtrt_stlocRef(s.octave___18336,4);r0=pxsim_pxtrt.mklocRef();s.tempo___18337=r0;r0=pxsim_pxtrt_stlocRef(s.tempo___18337,120);r0=pxsim_pxtrt.mklocRef();s.hz___18338=r0;r0=pxsim_pxtrt_stlocRef(s.hz___18338,0);r0=pxsim_pxtrt.mklocRef();s.endHz___18339=r0;r0=pxsim_pxtrt_stlocRef(s.endHz___18339,-1);r0=pxsim_pxtrt.mklocRef();s.ms___18341=r0;r0=pxsim_pxtrt_stlocRef(s.ms___18341,0);s.timePos___18342=0;r0=pxsim.control.millis();s.startTime___18343=r0;s.now___18346=0;r0=pxsim_pxtrt.mklocRef();s.envA___18347=r0;r0=pxsim_pxtrt_stlocRef(s.envA___18347,0);r0=pxsim_pxtrt.mklocRef();s.envD___18348=r0;r0=pxsim_pxtrt_stlocRef(s.envD___18348,0);r0=pxsim_pxtrt.mklocRef();s.envS___18349=r0;r0=pxsim_pxtrt_stlocRef(s.envS___18349,255);r0=pxsim_pxtrt.mklocRef();s.envR___18350=r0;r0=pxsim_pxtrt_stlocRef(s.envR___18350,0);r0=pxsim_pxtrt.mklocRef();s.soundWave___18351=r0;r0=pxsim_pxtrt_stlocRef(s.soundWave___18351,1);r0=5*12;s.tmp_0=r0;r0=pxsim.control.createBuffer(s.tmp_0);s.sndInstr___18352=r0;r0=pxsim_pxtrt.mklocRef();s.sndInstrPtr___18356=r0;r0=pxsim_pxtrt_stlocRef(s.sndInstrPtr___18356,0);r0=pxsim_pxtcore_mkAction(10,inline__P18358);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.hz___18338);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.endHz___18339);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.ms___18341);r0=pxsim_pxtrt_stclo(s.tmp_0,3,s.duration___18335);r0=pxsim_pxtrt_stclo(s.tmp_0,4,s.tempo___18337);r0=pxsim_pxtrt_stclo(s.tmp_0,5,s.envR___18350);r0=pxsim_pxtrt_stclo(s.tmp_0,6,s.sndInstrPtr___18356);r0=pxsim_pxtrt_stclo(s.tmp_0,7,s.sndInstr___18352);r0=pxsim_pxtrt_stclo(s.tmp_0,8,s.soundWave___18351);r0=pxsim_pxtrt_stclo(s.tmp_0,9,s.arg1);s.addForm___18357=s.tmp_0;r0=pxsim_pxtcore_mkAction(3,inline__P18407);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.pos___18334);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.notes___18330);s.scanNextWord___18406=s.tmp_0;r0=pxsim_pxtrt.mklocRef();s.token___18450=r0;s.tmp_0=r0=s.token___18450;r0=pxsim_String_.mkEmpty();s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt.mklocRef();s.tokenKind___18451=r0;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,0);r0=pxsim_pxtcore_mkAction(13,inline__P18455);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.token___18450);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.tokenKind___18451);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.octave___18336);r0=pxsim_pxtrt_stclo(s.tmp_0,3,s.duration___18335);r0=pxsim_pxtrt_stclo(s.tmp_0,4,s.ms___18341);r0=pxsim_pxtrt_stclo(s.tmp_0,5,s.tempo___18337);r0=pxsim_pxtrt_stclo(s.tmp_0,6,s.hz___18338);r0=pxsim_pxtrt_stclo(s.tmp_0,7,s.soundWave___18351);r0=pxsim_pxtrt_stclo(s.tmp_0,8,s.envA___18347);r0=pxsim_pxtrt_stclo(s.tmp_0,9,s.envD___18348);r0=pxsim_pxtrt_stclo(s.tmp_0,10,s.envS___18349);r0=pxsim_pxtrt_stclo(s.tmp_0,11,s.envR___18350);r0=pxsim_pxtrt_stclo(s.tmp_0,12,s.endHz___18339);s.consumeToken___18454=s.tmp_0;case 3:r0=pxsim_numops_toBoolDecr(true);if(!r0){step=58;continue}s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.scanNextWord___18406;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=62;return s.tmp_0;case 62:r0=s.retval;s.currNote___18525=r0;s.prevNote___18527=false;r0=pxsim_numops_toBoolDecr(s.currNote___18525);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}r0=s.timePos___18342-s.now___18346;s.timeLeft___18529=r0;r0=s.timeLeft___18529>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_1=pause__P11666_mk(s);s.tmp_1.arg0=s.timeLeft___18529;s.pc=63;return s.tmp_1;case 63:r0=s.retval;case 4:case 5:r0=s.arg0.fields[\"onPlayFinished\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}s.tmp_1=lambda_1_mk(s);r0=s.arg0.fields[\"onPlayFinished\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=64;return s.tmp_1;case 64:r0=s.retval;case 6:case 7:{step=59;continue}case 8:case 9:r0=pxsim_pxtrt_stlocRef(s.hz___18338,-1);s.note___18542=0;s.tmp_0=r0=s.token___18450;r0=pxsim_String_.mkEmpty();s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,0);s.i___18546=0;case 10:s.tmp_1=r0=s.i___18546;r0=pxsim_String_.length(s.currNote___18525);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=41;continue}r0=pxsim_String_.charAt(s.currNote___18525,s.i___18546);s.noteChar___18551=r0;s.tmp_0=r0=s.noteChar___18551;r0=pxsim_pxtcore.switch_eq(\"c\",s.tmp_0);if(r0){step=11;continue}r0=pxsim_pxtcore.switch_eq(\"C\",s.tmp_0);if(r0){step=12;continue}r0=pxsim_pxtcore.switch_eq(\"d\",s.tmp_0);if(r0){step=13;continue}r0=pxsim_pxtcore.switch_eq(\"D\",s.tmp_0);if(r0){step=14;continue}r0=pxsim_pxtcore.switch_eq(\"e\",s.tmp_0);if(r0){step=15;continue}r0=pxsim_pxtcore.switch_eq(\"E\",s.tmp_0);if(r0){step=16;continue}r0=pxsim_pxtcore.switch_eq(\"f\",s.tmp_0);if(r0){step=17;continue}r0=pxsim_pxtcore.switch_eq(\"F\",s.tmp_0);if(r0){step=18;continue}r0=pxsim_pxtcore.switch_eq(\"g\",s.tmp_0);if(r0){step=19;continue}r0=pxsim_pxtcore.switch_eq(\"G\",s.tmp_0);if(r0){step=20;continue}r0=pxsim_pxtcore.switch_eq(\"a\",s.tmp_0);if(r0){step=21;continue}r0=pxsim_pxtcore.switch_eq(\"A\",s.tmp_0);if(r0){step=22;continue}r0=pxsim_pxtcore.switch_eq(\"B\",s.tmp_0);if(r0){step=23;continue}r0=pxsim_pxtcore.switch_eq(\"r\",s.tmp_0);if(r0){step=24;continue}r0=pxsim_pxtcore.switch_eq(\"R\",s.tmp_0);if(r0){step=25;continue}r0=pxsim_pxtcore.switch_eq(\"#\",s.tmp_0);if(r0){step=26;continue}r0=pxsim_pxtcore.switch_eq(\"b\",s.tmp_0);if(r0){step=27;continue}r0=pxsim_pxtcore.switch_eq(\",\",s.tmp_0);if(r0){step=30;continue}r0=pxsim_pxtcore.switch_eq(\"!\",s.tmp_0);if(r0){step=31;continue}r0=pxsim_pxtcore.switch_eq(\"@\",s.tmp_0);if(r0){step=32;continue}r0=pxsim_pxtcore.switch_eq(\"~\",s.tmp_0);if(r0){step=33;continue}r0=pxsim_pxtcore.switch_eq(\":\",s.tmp_0);if(r0){step=34;continue}r0=pxsim_pxtcore.switch_eq(\"-\",s.tmp_0);if(r0){step=35;continue}r0=pxsim_pxtcore.switch_eq(\"^\",s.tmp_0);if(r0){step=36;continue}r0=s.tmp_0;{step=37;continue}case 11:case 12:s.note___18542=1;s.prevNote___18527=true;{step=40;continue}case 13:case 14:s.note___18542=3;s.prevNote___18527=true;{step=40;continue}case 15:case 16:s.note___18542=5;s.prevNote___18527=true;{step=40;continue}case 17:case 18:s.note___18542=6;s.prevNote___18527=true;{step=40;continue}case 19:case 20:s.note___18542=8;s.prevNote___18527=true;{step=40;continue}case 21:case 22:s.note___18542=10;s.prevNote___18527=true;{step=40;continue}case 23:s.note___18542=12;s.prevNote___18527=true;{step=40;continue}case 24:case 25:r0=pxsim_pxtrt_stlocRef(s.hz___18338,0);s.prevNote___18527=false;{step=40;continue}case 26:r0=s.note___18542+1;s.note___18542=r0;s.prevNote___18527=false;{step=40;continue}case 27:r0=pxsim_numops_toBoolDecr(s.prevNote___18527);if(!r0){step=28;continue}r0=s.note___18542-1;s.note___18542=r0;{step=29;continue}case 28:s.note___18542=12;s.prevNote___18527=true;case 29:{step=40;continue}case 30:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=65;return s.tmp_0;case 65:r0=s.retval;s.prevNote___18527=false;{step=40;continue}case 31:r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,4);s.prevNote___18527=false;{step=40;continue}case 32:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=66;return s.tmp_0;case 66:r0=s.retval;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,8);s.prevNote___18527=false;{step=40;continue}case 33:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=67;return s.tmp_0;case 67:r0=s.retval;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,7);s.prevNote___18527=false;{step=40;continue}case 34:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=68;return s.tmp_0;case 68:r0=s.retval;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,2);s.prevNote___18527=false;{step=40;continue}case 35:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=69;return s.tmp_0;case 69:r0=s.retval;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,3);s.prevNote___18527=false;{step=40;continue}case 36:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=70;return s.tmp_0;case 70:r0=s.retval;r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,5);{step=40;continue}case 37:r0=pxsim_pxtrt_ldlocRef(s.tokenKind___18451);s.tmp_1=r0;r0=s.tmp_1==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=38;continue}r0=pxsim_pxtrt_stlocRef(s.tokenKind___18451,1);case 38:case 39:s.tmp_0=r0=s.token___18450;r0=pxsim_pxtrt_ldlocRef(s.token___18450);s.tmp_3=r0;if(s.tmp_3&&s.tmp_3.vtable){setupResume(s,71);pxsim_String__stringConv(s.tmp_3);checkResumeConsumed();return}else{s.retval=s.tmp_3+\"\"}case 71:r0=s.retval;s.tmp_2=r0;if(s.noteChar___18551&&s.noteChar___18551.vtable){setupResume(s,72);pxsim_String__stringConv(s.noteChar___18551);checkResumeConsumed();return}else{s.retval=s.noteChar___18551+\"\"}case 72:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_2,s.tmp_4);s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);s.prevNote___18527=false;case 40:r0=s.i___18546+1;s.i___18546=r0;{step=10;continue}case 41:s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.consumeToken___18454;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=73;return s.tmp_0;case 73:r0=s.retval;s.tmp_0=r0=s.note___18542;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=42;continue}r0=s.tmp_0;{step=43;continue}case 42:r0=pxsim_pxtrt_ldlocRef(s.hz___18338);s.tmp_1=r0;r0=s.tmp_1<0;case 43:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=46;continue}s.tmp_3=r0=s.note___18542;r0=pxsim_pxtrt_ldlocRef(s.octave___18336);s.tmp_6=r0;r0=s.tmp_6-1;s.tmp_5=r0;r0=12*s.tmp_5;s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.keyNumber___18623=r0;s.tmp_1=r0=globals.freqs___11758;r0=s.keyNumber___18623*2;s.tmp_2=r0;r0=pxsim.BufferMethods.getNumber(s.tmp_1,4,s.tmp_2);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=44;continue}r0=s.tmp_0;{step=45;continue}case 44:r0=0;case 45:s.tmp_3=r0;r0=pxsim_pxtrt_stlocRef(s.hz___18338,s.tmp_3);case 46:case 47:r0=pxsim_pxtrt_ldlocRef(s.ms___18341);s.currMs___18633=r0;r0=s.currMs___18633<=0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=48;continue}r0=pxsim_pxtrt_ldlocRef(s.tempo___18337);s.tmp_1=r0;r0=pxsim.Math_.idiv(15e3,s.tmp_1);s.beat___18636=r0;r0=pxsim_pxtrt_ldlocRef(s.duration___18335);s.tmp_0=r0;r0=s.tmp_0*s.beat___18636;s.currMs___18633=r0;case 48:case 49:r0=pxsim_pxtrt_ldlocRef(s.hz___18338);s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=50;continue}{step=55;continue}case 50:r0=pxsim_pxtrt_ldlocRef(s.hz___18338);s.tmp_3=r0;r0=s.tmp_3==0;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=51;continue}r0=s.timePos___18342+s.currMs___18633;s.timePos___18342=r0;{step=54;continue}case 51:r0=pxsim_pxtrt_ldlocRef(s.endHz___18339);s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=52;continue}s.tmp_2=r0=s.endHz___18339;r0=pxsim_pxtrt_ldlocRef(s.hz___18338);s.tmp_3=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_2,s.tmp_3);case 52:case 53:r0=pxsim_pxtrt_stlocRef(s.sndInstrPtr___18356,0);s.tmp_0=lambda_5_mk(s);s.tmp_0.argL=s.addForm___18357;r0=pxsim_pxtrt_ldlocRef(s.envA___18347);s.tmp_0.arg0=r0;s.tmp_0.arg1=0;s.tmp_0.arg2=255;s.tmp_0.arg3=0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=74;return s.tmp_0;case 74:r0=s.retval;s.tmp_0=lambda_5_mk(s);s.tmp_0.argL=s.addForm___18357;r0=pxsim_pxtrt_ldlocRef(s.envD___18348);s.tmp_0.arg0=r0;s.tmp_0.arg1=255;r0=pxsim_pxtrt_ldlocRef(s.envS___18349);s.tmp_0.arg2=r0;r0=pxsim_pxtrt_ldlocRef(s.envA___18347);s.tmp_0.arg3=r0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=75;return s.tmp_0;case 75:r0=s.retval;s.tmp_0=lambda_5_mk(s);s.tmp_0.argL=s.addForm___18357;s.tmp_1=r0=s.currMs___18633;r0=pxsim_pxtrt_ldlocRef(s.envA___18347);s.tmp_3=r0;r0=pxsim_pxtrt_ldlocRef(s.envD___18348);s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0.arg0=r0;r0=pxsim_pxtrt_ldlocRef(s.envS___18349);s.tmp_0.arg1=r0;r0=pxsim_pxtrt_ldlocRef(s.envS___18349);s.tmp_0.arg2=r0;r0=pxsim_pxtrt_ldlocRef(s.envD___18348);s.tmp_5=r0;r0=pxsim_pxtrt_ldlocRef(s.envA___18347);s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_0.arg3=r0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=76;return s.tmp_0;case 76:r0=s.retval;s.tmp_0=lambda_5_mk(s);s.tmp_0.argL=s.addForm___18357;r0=pxsim_pxtrt_ldlocRef(s.envR___18350);s.tmp_0.arg0=r0;r0=pxsim_pxtrt_ldlocRef(s.envS___18349);s.tmp_0.arg1=r0;s.tmp_0.arg2=0;s.tmp_0.arg3=s.currMs___18633;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=77;return s.tmp_0;case 77:r0=s.retval;r0=s.timePos___18342-s.now___18346;s.tmp_0=r0;s.tmp_2=r0=s.sndInstr___18352;r0=pxsim_pxtrt_ldlocRef(s.sndInstrPtr___18356);s.tmp_3=r0;r0=pxsim.BufferMethods.slice(s.tmp_2,0,s.tmp_3);s.tmp_1=r0;r0=pxsim.music.queuePlayInstructions(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt_stlocRef(s.endHz___18339,-1);r0=s.timePos___18342+s.currMs___18633;s.timePos___18342=r0;case 54:case 55:r0=s.timePos___18342-s.now___18346;s.timeLeft___18683=r0;r0=s.timeLeft___18683>200;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=56;continue}s.tmp_1=pause__P11666_mk(s);r0=s.timeLeft___18683-100;s.tmp_1.arg0=r0;s.pc=78;return s.tmp_1;case 78:r0=s.retval;r0=pxsim.control.millis();s.tmp_0=r0;r0=s.tmp_0-s.startTime___18343;s.now___18346=r0;case 56:case 57:{step=3;continue}case 58:case 59:r0=undefined;return leave(s,r0);default:oops()}}}music_MelodyPlayer_play__P11790.info={start:10782,length:9001,line:336,column:8,endLine:567,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"play\",argumentNames:[\"this\",\"volume\"]};function music_MelodyPlayer_play__P11790_mk(s){checkStack(s.depth);return{parent:s,fn:music_MelodyPlayer_play__P11790,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,notes___18330:undefined,pos___18334:undefined,duration___18335:undefined,octave___18336:undefined,tempo___18337:undefined,hz___18338:undefined,endHz___18339:undefined,ms___18341:undefined,timePos___18342:undefined,startTime___18343:undefined,now___18346:undefined,envA___18347:undefined,envD___18348:undefined,envS___18349:undefined,envR___18350:undefined,soundWave___18351:undefined,sndInstr___18352:undefined,sndInstrPtr___18356:undefined,addForm___18357:undefined,scanNextWord___18406:undefined,token___18450:undefined,tokenKind___18451:undefined,consumeToken___18454:undefined,currNote___18525:undefined,prevNote___18527:undefined,timeLeft___18529:undefined,note___18542:undefined,i___18546:undefined,noteChar___18551:undefined,keyNumber___18623:undefined,currMs___18633:undefined,beat___18636:undefined,timeLeft___18683:undefined,arg0:undefined,arg1:undefined}}function inline__P18358(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.freqStart___18363=undefined;s.freqEnd___18365=undefined;s.envelopeWidth___18367=undefined;s.slope___18380=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.freqStart___18363=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.freqEnd___18365=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[2]);s.tmp_1=r0;r0=s.tmp_1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtrt_ldlocRef(s.caps[2]);{step=2;continue}case 1:r0=pxsim_pxtrt_ldlocRef(s.caps[3]);s.tmp_3=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[4]);s.tmp_5=r0;r0=pxsim.Math_.idiv(15e3,s.tmp_5);s.tmp_4=r0;r0=s.tmp_3*s.tmp_4;s.tmp_2=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[5]);s.tmp_6=r0;r0=s.tmp_2+s.tmp_6;case 2:s.tmp_7=r0;s.envelopeWidth___18367=s.tmp_7;r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_1=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_2=r0;r0=s.tmp_1!=s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.envelopeWidth___18367!=0;case 4:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}r0=s.freqEnd___18365-s.freqStart___18363;s.tmp_4=r0;r0=s.tmp_4/s.envelopeWidth___18367;s.slope___18380=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_0=r0;r0=s.slope___18380*s.arg3;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.freqStart___18363=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_0=r0;s.tmp_2=r0=s.slope___18380;r0=s.arg3+s.arg0;s.tmp_3=r0;r0=s.tmp_2*s.tmp_3;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;s.freqEnd___18365=r0;case 5:case 6:s.tmp_0=r0=s.caps[6];s.tmp_2=music_addNote__P11787_mk(s);s.tmp_2.arg0=s.caps[7];r0=pxsim_pxtrt_ldlocRef(s.caps[6]);s.tmp_2.arg1=r0;s.tmp_2.arg2=s.arg0;s.tmp_2.arg3=s.arg1;s.tmp_2.arg4=s.arg2;r0=pxsim_pxtrt_ldlocRef(s.caps[8]);s.tmp_2.arg5=r0;s.tmp_2.arg6=s.freqStart___18363;r0=pxsim_pxtrt_ldlocRef(s.caps[9]);s.tmp_2.arg7=r0;s.tmp_2.arg8=s.freqEnd___18365;s.pc=7;return s.tmp_2;case 7:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=undefined;return leave(s,r0);default:oops()}}}inline__P18358.info={start:11590,length:643,line:362,column:28,endLine:373,endColumn:13,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[\"formDuration\",\"beg\",\"end\",\"msOff\"]};function inline__P18358_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18358,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,freqStart___18363:undefined,freqEnd___18365:undefined,envelopeWidth___18367:undefined,slope___18380:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function inline__P18407(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.c___18414=undefined;s.note___18426=undefined;s.c___18431=undefined;r0=s.caps[0].fields[\"melody\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_String_.mkEmpty();{step=23;continue}case 1:case 2:case 3:r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_4=r0;r0=pxsim_String_.length(s.caps[2]);s.tmp_5=r0;r0=s.tmp_4<s.tmp_5;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=12;continue}s.tmp_6=r0=s.caps[2];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_7=r0;r0=pxsim_String_.charAt(s.tmp_6,s.tmp_7);s.c___18414=r0;r0=s.c___18414!=\" \";s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=4;continue}r0=s.tmp_0;{step=5;continue}case 4:r0=s.c___18414!=\"\\\\r\";case 5:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(r0){step=6;continue}r0=s.tmp_1;{step=7;continue}case 6:r0=s.c___18414!=\"\\\\n\";case 7:s.tmp_2=r0;r0=pxsim_numops_toBool(s.tmp_2);if(r0){step=8;continue}r0=s.tmp_2;{step=9;continue}case 8:r0=s.c___18414!=\"\\\\t\";case 9:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=10;continue}{step=12;continue}case 10:case 11:s.tmp_4=r0=s.caps[1];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_6=r0;r0=s.tmp_6+1;s.tmp_5=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_4,s.tmp_5);{step=3;continue}case 12:r0=pxsim_String_.mkEmpty();s.note___18426=r0;case 13:r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_1=r0;r0=pxsim_String_.length(s.caps[2]);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=22;continue}s.tmp_3=r0=s.caps[2];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_4=r0;r0=pxsim_String_.charAt(s.tmp_3,s.tmp_4);s.c___18431=r0;r0=s.c___18431==\" \";s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=14;continue}r0=s.tmp_0;{step=15;continue}case 14:r0=s.c___18431==\"\\\\r\";case 15:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=16;continue}r0=s.tmp_1;{step=17;continue}case 16:r0=s.c___18431==\"\\\\n\";case 17:s.tmp_2=r0;r0=pxsim_numops_toBool(s.tmp_2);if(!r0){step=18;continue}r0=s.tmp_2;{step=19;continue}case 18:r0=s.c___18431==\"\\\\t\";case 19:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=20;continue}{step=22;continue}case 20:case 21:if(s.note___18426&&s.note___18426.vtable){setupResume(s,24);pxsim_String__stringConv(s.note___18426);checkResumeConsumed();return}else{s.retval=s.note___18426+\"\"}case 24:r0=s.retval;s.tmp_4=r0;if(s.c___18431&&s.c___18431.vtable){setupResume(s,25);pxsim_String__stringConv(s.c___18431);checkResumeConsumed();return}else{s.retval=s.c___18431+\"\"}case 25:r0=s.retval;s.tmp_5=r0;r0=pxsim_String__concat(s.tmp_4,s.tmp_5);s.note___18426=r0;s.tmp_0=r0=s.caps[1];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);{step=13;continue}case 22:r0=s.note___18426;case 23:return leave(s,r0);default:oops()}}}inline__P18407.info={start:12268,length:708,line:375,column:33,endLine:397,endColumn:13,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[]};function inline__P18407_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18407,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,c___18414:undefined,note___18426:undefined,c___18431:undefined}}function inline__P18455(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.d___18459=undefined;r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_1=r0;r0=s.tmp_1!=0;case 2:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=15;continue}r0=pxsim_pxtrt_ldlocRef(s.caps[0]);s.tmp_3=r0;r0=pxsim_String_.toNumber(s.tmp_3);s.tmp_4=r0;r0=s.tmp_4>>0;s.d___18459=r0;r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_0=r0;r0=pxsim_pxtcore.switch_eq(1,s.tmp_0);if(r0){step=3;continue}r0=pxsim_pxtcore.switch_eq(2,s.tmp_0);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(3,s.tmp_0);if(r0){step=5;continue}r0=pxsim_pxtcore.switch_eq(4,s.tmp_0);if(r0){step=6;continue}r0=pxsim_pxtcore.switch_eq(6,s.tmp_0);if(r0){step=7;continue}r0=pxsim_pxtcore.switch_eq(7,s.tmp_0);if(r0){step=8;continue}r0=pxsim_pxtcore.switch_eq(8,s.tmp_0);if(r0){step=9;continue}r0=pxsim_pxtcore.switch_eq(9,s.tmp_0);if(r0){step=10;continue}r0=pxsim_pxtcore.switch_eq(10,s.tmp_0);if(r0){step=11;continue}r0=pxsim_pxtcore.switch_eq(11,s.tmp_0);if(r0){step=12;continue}r0=pxsim_pxtcore.switch_eq(5,s.tmp_0);if(r0){step=13;continue}r0=s.tmp_0;{step=14;continue}case 3:r0=pxsim_pxtrt_stlocRef(s.caps[2],s.d___18459);{step=14;continue}case 4:s.tmp_0=r0=s.caps[3];s.tmp_2=Math_max__P11486_mk(s);s.tmp_2.arg0=1;s.tmp_3=Math_min__P11487_mk(s);s.tmp_3.arg0=16;s.tmp_3.arg1=s.d___18459;s.pc=18;return s.tmp_3;case 18:r0=s.retval;s.tmp_2.arg1=r0;s.pc=17;return s.tmp_2;case 17:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt_stlocRef(s.caps[4],-1);{step=14;continue}case 5:s.tmp_0=r0=s.caps[5];s.tmp_2=Math_max__P11486_mk(s);s.tmp_2.arg0=1;s.tmp_2.arg1=s.d___18459;s.pc=19;return s.tmp_2;case 19:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);{step=14;continue}case 6:r0=pxsim_pxtrt_stlocRef(s.caps[6],s.d___18459);r0=pxsim_pxtrt_stlocRef(s.caps[1],6);{step=14;continue}case 7:r0=pxsim_pxtrt_stlocRef(s.caps[4],s.d___18459);{step=14;continue}case 8:s.tmp_0=r0=s.caps[7];s.tmp_2=Math_clamp__P11483_mk(s);s.tmp_2.arg0=1;s.tmp_2.arg1=15;s.tmp_2.arg2=s.d___18459;s.pc=20;return s.tmp_2;case 20:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);{step=14;continue}case 9:r0=pxsim_pxtrt_stlocRef(s.caps[8],s.d___18459);r0=pxsim_pxtrt_stlocRef(s.caps[1],9);{step=14;continue}case 10:r0=pxsim_pxtrt_stlocRef(s.caps[9],s.d___18459);r0=pxsim_pxtrt_stlocRef(s.caps[1],10);{step=14;continue}case 11:s.tmp_0=r0=s.caps[10];s.tmp_2=Math_clamp__P11483_mk(s);s.tmp_2.arg0=0;s.tmp_2.arg1=255;s.tmp_2.arg2=s.d___18459;s.pc=21;return s.tmp_2;case 21:r0=s.retval;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=pxsim_pxtrt_stlocRef(s.caps[1],11);{step=14;continue}case 12:r0=pxsim_pxtrt_stlocRef(s.caps[11],s.d___18459);{step=14;continue}case 13:r0=pxsim_pxtrt_stlocRef(s.caps[12],s.d___18459);case 14:s.tmp_0=r0=s.caps[0];r0=pxsim_String_.mkEmpty();s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);case 15:case 16:r0=undefined;return leave(s,r0);default:oops()}}}inline__P18455.info={start:14009,length:1189,line:433,column:33,endLine:454,endColumn:13,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[]};function inline__P18455_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P18455,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,d___18459:undefined}}function music_addNote__P11787(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.arg6=s.lambdaArgs[6];s.arg7=s.lambdaArgs[7];s.arg8=s.lambdaArgs[8];s.lambdaArgs=null}r0=s.arg2>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.BufferMethods.setNumber(s.arg0,2,s.arg1,s.arg5);s.tmp_0=r0=s.arg0;r0=s.arg1+1;s.tmp_1=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,2,s.tmp_1,0);s.tmp_0=r0=s.arg0;r0=s.arg1+2;s.tmp_1=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,4,s.tmp_1,s.arg6);s.tmp_0=r0=s.arg0;r0=s.arg1+4;s.tmp_1=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,4,s.tmp_1,s.arg2);s.tmp_0=r0=s.arg0;r0=s.arg1+6;s.tmp_1=r0;r0=s.arg3*s.arg7;s.tmp_3=r0;r0=s.tmp_3>>6;s.tmp_2=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,4,s.tmp_1,s.tmp_2);s.tmp_0=r0=s.arg0;r0=s.arg1+8;s.tmp_1=r0;r0=s.arg4*s.arg7;s.tmp_3=r0;r0=s.tmp_3>>6;s.tmp_2=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,4,s.tmp_1,s.tmp_2);s.tmp_0=r0=s.arg0;r0=s.arg1+10;s.tmp_1=r0;r0=pxsim.BufferMethods.setNumber(s.tmp_0,4,s.tmp_1,s.arg8);r0=s.arg1+12;s.arg1=r0;case 1:case 2:r0=pxsim.BufferMethods.setNumber(s.arg0,2,s.arg1,0);r0=s.arg1;return leave(s,r0);default:oops()}}}music_addNote__P11787.info={start:9649,length:904,line:307,column:4,endLine:320,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"addNote\",argumentNames:[\"sndInstr\",\"sndInstrPtr\",\"ms\",\"beg\",\"end\",\"soundWave\",\"hz\",\"volume\",\"endHz\"]};function music_addNote__P11787_mk(s){checkStack(s.depth);return{parent:s,fn:music_addNote__P11787,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined,arg6:undefined,arg7:undefined,arg8:undefined}}function music_volume__P11767(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=music_initVolume__P11765_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=globals.globalVolume___11762;return leave(s,r0);default:oops()}}}music_volume__P11767.info={start:1781,length:90,line:61,column:4,endLine:64,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"volume\",argumentNames:[]};function music_volume__P11767_mk(s){checkStack(s.depth);return{parent:s,fn:music_volume__P11767,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function music_initVolume__P11765(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=globals.globalVolume___11762===null;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}globals.globalVolume___11762=0;s.tmp_0=music_setVolume__P11766_mk(s);r0=pxsim_pxtcore.getConfig(59,128);s.tmp_0.arg0=r0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}music_initVolume__P11765.info={start:1014,length:180,line:33,column:4,endLine:38,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"initVolume\",argumentNames:[]};function music_initVolume__P11765_mk(s){checkStack(s.depth);return{parent:s,fn:music_initVolume__P11765,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function music_setVolume__P11766(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=0;s.tmp_0.arg1=255;r0=s.arg0|0;s.tmp_0.arg2=r0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;globals.globalVolume___11762=r0;r0=globals.globalVolume___11762>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=1;{step=2;continue}case 1:r0=0;case 2:s.tmp_1=r0;r0=undefined;r0=undefined;return leave(s,r0);default:oops()}}}music_setVolume__P11766.info={start:1533,length:153,line:51,column:4,endLine:54,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"setVolume\",argumentNames:[\"volume\"]};function music_setVolume__P11766_mk(s){checkStack(s.depth);return{parent:s,fn:music_setVolume__P11766,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function music_enableAmp__P11764(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=undefined;return leave(s,r0);default:oops()}}}music_enableAmp__P11764.info={start:944,length:64,line:29,column:4,endLine:31,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"enableAmp\",argumentNames:[\"en\"]};function music_enableAmp__P11764_mk(s){checkStack(s.depth);return{parent:s,fn:music_enableAmp__P11764,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function parseInt__P11459(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_String_.toNumber(s.arg0);s.tmp_0=r0;r0=s.tmp_0>>0;return leave(s,r0);default:oops()}}}parseInt__P11459.info={start:394,length:77,line:17,column:0,endLine:19,endColumn:1,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"parseInt\",argumentNames:[\"text\"]};function parseInt__P11459_mk(s){checkStack(s.depth);return{parent:s,fn:parseInt__P11459,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function music_Melody_unregisterMelody__P11779(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(globals.music_Melody_playingMelodies___11785);if(!r0){step=1;continue}r0=pxsim_Array_.removeElement(globals.music_Melody_playingMelodies___11785,s.arg0);case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}music_Melody_unregisterMelody__P11779.info={start:7415,length:201,line:234,column:8,endLine:239,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"unregisterMelody\",argumentNames:[\"this\"]};function music_Melody_unregisterMelody__P11779_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_unregisterMelody__P11779,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function music_Melody_registerMelody__P11778(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(globals.music_Melody_playingMelodies___11785);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals.music_Melody_playingMelodies___11785=r0;case 1:case 2:r0=pxsim_Array__length(globals.music_Melody_playingMelodies___11785);s.tmp_1=r0;r0=s.tmp_1>4;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=music_Melody_stop__P11777_mk(s);s.tmp_3=r0=globals.music_Melody_playingMelodies___11785;r0=pxsim_Array__length(globals.music_Melody_playingMelodies___11785);s.tmp_5=r0;r0=s.tmp_5-1;s.tmp_4=r0;r0=pxsim_Array__getAt(s.tmp_3,s.tmp_4);s.tmp_2.arg0=r0;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 3:case 4:r0=pxsim_Array_.removeElement(globals.music_Melody_playingMelodies___11785,s.arg0);r0=pxsim_Array__push(globals.music_Melody_playingMelodies___11785,s.arg0);r0=undefined;return leave(s,r0);default:oops()}}}music_Melody_registerMelody__P11778.info={start:6833,length:573,line:222,column:8,endLine:233,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"registerMelody\",argumentNames:[\"this\"]};function music_Melody_registerMelody__P11778_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_registerMelody__P11778,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined}}function music_Melody_stop__P11777(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);r0=s.arg0.fields[\"_player\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=music_MelodyPlayer_stop__P11789_mk(s);r0=s.arg0.fields[\"_player\"];s.tmp_1.arg0=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=s.arg0.fields[\"_player\"]=null;case 1:case 2:s.tmp_0=music_Melody_unregisterMelody__P11779_mk(s);s.tmp_0.arg0=s.arg0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}music_Melody_stop__P11777.info={start:6650,length:173,line:214,column:8,endLine:220,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"stop\",argumentNames:[\"this\"]};function music_Melody_stop__P11777_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_stop__P11777,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function music_MelodyPlayer_stop__P11789(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_MelodyPlayer__C11788_VT))failedCast(r0);r0=s.arg0.fields[\"melody\"]=null;r0=undefined;return leave(s,r0);default:oops()}}}music_MelodyPlayer_stop__P11789.info={start:10723,length:49,line:332,column:8,endLine:334,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"stop\",argumentNames:[\"this\"]};function music_MelodyPlayer_stop__P11789_mk(s){checkStack(s.depth);return{parent:s,fn:music_MelodyPlayer_stop__P11789,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function sprites_onOverlap__P12099(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sc___19254=undefined;s.overlapHandlers___19256=undefined;s.overlapMap___19259=undefined;s.associate___19262=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0==undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg1==undefined;case 2:s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(!r0){step=3;continue}r0=s.tmp_1;{step=4;continue}case 3:r0=pxsim_numops_toBoolDecr(s.arg2);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 4:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}{step=7;continue}case 5:case 6:s.tmp_4=game_currentScene__P12194_mk(s);s.pc=8;return s.tmp_4;case 8:r0=s.retval;s.sc___19254=r0;r0=s.sc___19254.fields[\"overlapHandlers\"];s.overlapHandlers___19256=r0;r0=s.sc___19254.fields[\"overlapMap\"];s.overlapMap___19259=r0;r0=pxsim_pxtcore_mkAction(1,associate__P19262);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.overlapMap___19259);s.associate___19262=s.tmp_0;s.tmp_1=lambda_3_mk(s);s.tmp_1.argL=s.associate___19262;s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg1;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=9;return s.tmp_1;case 9:r0=s.retval;s.tmp_0=lambda_3_mk(s);s.tmp_0.argL=s.associate___19262;s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=s.arg0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=10;return s.tmp_0;case 10:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(scene_OverlapHandler__C12325_VT);s.tmp_0=r0;s.tmp_1=scene_OverlapHandler_constructor__P12326_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg0;s.tmp_1.arg2=s.arg1;s.tmp_1.arg3=s.arg2;s.pc=11;return s.tmp_1;case 11:r0=s.retval;r0=pxsim_Array__push(s.overlapHandlers___19256,s.tmp_0);case 7:r0=undefined;return leave(s,r0);default:oops()}}}sprites_onOverlap__P12099.info={start:1605,length:755,line:50,column:4,endLine:74,endColumn:5,fileName:\"pxt_modules/game/spriteevents.ts\",functionName:\"onOverlap\",argumentNames:[\"kind\",\"otherKind\",\"handler\"]};function sprites_onOverlap__P12099_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_onOverlap__P12099,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,sc___19254:undefined,overlapHandlers___19256:undefined,overlapMap___19259:undefined,associate___19262:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function associate__P19262(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_pxtrt.mapGetGeneric(s.caps[0],s.arg0);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=r0=s.caps[0];s.tmp_4=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_5=r0;r0=pxsim_pxtrt.mapSetGeneric(s.tmp_3,s.tmp_4,s.tmp_5);case 1:case 2:r0=pxsim_pxtrt.mapGetGeneric(s.caps[0],s.arg0);s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg1);r0=undefined;return leave(s,r0);default:oops()}}}associate__P19262.info={start:1942,length:172,line:56,column:8,endLine:62,endColumn:9,fileName:\"pxt_modules/game/spriteevents.ts\",functionName:\"associate\",argumentNames:[\"a\",\"b\"]};function associate__P19262_mk(s){checkStack(s.depth);return{parent:s,fn:associate__P19262,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined,arg1:undefined}}function scene_OverlapHandler_constructor__P12326(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_OverlapHandler__C12325_VT))failedCast(r0);r0=s.arg0.fields[\"kind\"]=s.arg1;r0=s.arg0.fields[\"otherKind\"]=s.arg2;r0=s.arg0.fields[\"handler\"]=s.arg3;return leave(s,r0);default:oops()}}}scene_OverlapHandler_constructor__P12326.info={start:388,length:171,line:20,column:8,endLine:24,endColumn:13,fileName:\"pxt_modules/game/scene.ts\",functionName:\"inline\",argumentNames:[\"this\",\"kind\",\"otherKind\",\"handler\"]};function scene_OverlapHandler_constructor__P12326_mk(s){checkStack(s.depth);return{parent:s,fn:scene_OverlapHandler_constructor__P12326,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function Sprite_ay__P12044(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_ay\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_ay__P12044.info={start:3039,length:51,line:113,column:4,endLine:115,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"ay\",argumentNames:[\"this\",\"v\"]};function Sprite_ay__P12044_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_ay__P12044,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function Sprite_vy__P12040(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.arg1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_1=r0;r0=s.tmp_0.fields[\"_vy\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_vy__P12040.info={start:2361,length:51,line:91,column:4,endLine:93,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"vy\",argumentNames:[\"this\",\"v\"]};function Sprite_vy__P12040_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_vy__P12040,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function Sprite_vy__P12039(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_vy\"];s.tmp_0=r0;r0=s.tmp_0/256;return leave(s,r0);default:oops()}}}Sprite_vy__P12039.info={start:2199,length:60,line:86,column:4,endLine:88,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"vy\",argumentNames:[\"this\"]};function Sprite_vy__P12039_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_vy__P12039,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite_ay__P12043(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_ay\"];s.tmp_0=r0;r0=s.tmp_0/256;return leave(s,r0);default:oops()}}}Sprite_ay__P12043.info={start:2873,length:60,line:108,column:4,endLine:110,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"ay\",argumentNames:[\"this\"]};function Sprite_ay__P12043_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_ay__P12043,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function animation_stopAnimation__P12980(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.state___19556=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_2=game_currentScene__P12194_mk(s);s.pc=5;return s.tmp_2;case 5:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1.fields[\"_data\"];s.tmp_0=r0;r0=pxsim_pxtrt.mapGetGeneric(s.tmp_0,\"__animation\");s.state___19556=r0;s.tmp_0=r0=s.state___19556;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_1=if_animations_1_mk(s);s.tmp_1.arg0=s.state___19556;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"animations\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"animations\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"animations\"]}else{s.pc=6;return s.tmp_1}}case 6:r0=s.retval;case 2:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkAction(2,inline__P19568);s.tmp_3=r0;r0=pxsim_pxtrt_stclo(s.tmp_3,0,s.arg1);r0=pxsim_pxtrt_stclo(s.tmp_3,1,s.arg0);s.tmp_4=if_animations_2_mk(s);s.tmp_4.arg0=s.state___19556;s.tmp_5=helpers_arrayFilter__P11473_mk(s);s.tmp_6=if_animations_1_mk(s);s.tmp_6.arg0=s.state___19556;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"animations\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"animations\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"animations\"]}else{s.pc=9;return s.tmp_6}}case 9:r0=s.retval;s.tmp_5.arg0=r0;s.tmp_5.arg1=s.tmp_3;s.pc=8;return s.tmp_5;case 8:r0=s.retval;s.tmp_4.arg1=r0;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapSetByString(s.tmp_4.arg0,\"animations\",s.tmp_4.arg1)}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"set/animations\"];if(s.tmp_4.fn===null){s.tmp_4.arg0.fields[\"animations\"]=s.tmp_4.arg1}else if(s.tmp_4.fn===undefined){failedCast(s.tmp_4.arg0)}else{s.pc=7;return s.tmp_4}}case 7:r0=s.retval;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}animation_stopAnimation__P12980.info={start:22701,length:898,line:577,column:4,endLine:596,endColumn:5,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"stopAnimation\",argumentNames:[\"type\",\"sprite\"]};function animation_stopAnimation__P12980_mk(s){checkStack(s.depth);return{parent:s,fn:animation_stopAnimation__P12980,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,state___19556:undefined,arg0:undefined,arg1:undefined}}function inline__P19568(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"sprite\"];s.tmp_1=r0;r0=s.tmp_1===s.caps[0];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tmp_2=r0=s.caps[1];r0=pxsim_pxtcore.switch_eq(1,s.tmp_2);if(r0){step=1;continue}r0=pxsim_pxtcore.switch_eq(2,s.tmp_2);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(0,s.tmp_2);if(r0){step=7;continue}r0=s.tmp_2;{step=8;continue}case 1:r0=s.arg0;r0=checkSubtype(r0,animation_ImageAnimation__C12968_VT);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=2;continue}r0=false;{step=11;continue}case 2:case 3:{step=8;continue}case 4:r0=s.arg0;r0=checkSubtype(r0,animation_MovementAnimation__C12972_VT);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=5;continue}r0=false;{step=11;continue}case 5:case 6:{step=8;continue}case 7:r0=false;{step=11;continue}case 8:case 9:case 10:r0=true;case 11:return leave(s,r0);default:oops()}}}inline__P19568.info={start:22945,length:636,line:580,column:55,endLine:594,endColumn:13,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"anim\"]};function inline__P19568_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19568,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function controller_Button_onEvent__P11967(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);s.tmp_0=control_onEvent__P11638_mk(s);s.tmp_0.arg0=s.arg1;r0=s.arg0.fields[\"id\"];s.tmp_0.arg1=r0;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=16;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}controller_Button_onEvent__P11967.info={start:3475,length:124,line:108,column:8,endLine:110,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"onEvent\",argumentNames:[\"this\",\"event\",\"handler\"]};function controller_Button_onEvent__P11967_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_onEvent__P11967,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function control_onEvent__P11638(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ctx___19601=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}s.tmp_0=control_eventContext__P11660_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.ctx___19601=r0;r0=pxsim_numops_toBoolDecr(s.ctx___19601);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.control.internalOnEvent(s.arg0,s.arg1,s.arg2,s.arg3);{step=2;continue}case 1:s.tmp_0=control_EventContext_registerHandler__P11652_mk(s);s.tmp_0.arg0=s.ctx___19601;s.tmp_0.arg1=s.arg0;s.tmp_0.arg2=s.arg1;s.tmp_0.arg3=s.arg2;s.tmp_0.arg4=s.arg3;s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 2:r0=undefined;return leave(s,r0);default:oops()}}}control_onEvent__P11638.info={start:336,length:325,line:9,column:4,endLine:15,endColumn:5,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"onEvent\",argumentNames:[\"src\",\"value\",\"handler\",\"flags\"]};function control_onEvent__P11638_mk(s){checkStack(s.depth);return{parent:s,fn:control_onEvent__P11638,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,ctx___19601:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function control_EventContext_registerHandler__P11652(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.h___19622=undefined;s.unnamed122___U1=undefined;s.unnamed123___U2=undefined;s.hn___19638=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventContext__C11645_VT))failedCast(r0);s.h___19622=undefined;s.h___19622=undefined;r0=s.arg0.fields[\"handlers\"];s.unnamed122___U1=r0;s.unnamed123___U2=0;case 1:s.tmp_0=r0=s.unnamed123___U2;r0=pxsim_Array__length(s.unnamed122___U1);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=6;continue}r0=pxsim_Array__getAt(s.unnamed122___U1,s.unnamed123___U2);s.h___19622=r0;r0=s.h___19622.fields[\"src\"];s.tmp_3=r0;r0=s.tmp_3==s.arg1;s.tmp_2=r0;r0=pxsim_numops_toBool(s.tmp_2);if(r0){step=2;continue}r0=s.tmp_2;{step=3;continue}case 2:r0=s.h___19622.fields[\"value\"];s.tmp_4=r0;r0=s.tmp_4==s.arg2;case 3:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=4;continue}r0=s.h___19622.fields[\"flags\"]=s.arg4;r0=s.h___19622.fields[\"handler\"]=s.arg3;{step=7;continue}case 4:case 5:r0=s.unnamed123___U2+1;s.unnamed123___U2=r0;{step=1;continue}case 6:s.unnamed122___U1=undefined;r0=pxsim_pxtcore_mkClassInstance(control_EventHandler__C11640_VT);s.tmp_0=r0;s.tmp_1=control_EventHandler_constructor__P11643_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg1;s.tmp_1.arg2=s.arg2;s.tmp_1.arg3=s.arg3;s.tmp_1.arg4=s.arg4;s.pc=8;return s.tmp_1;case 8:r0=s.retval;s.hn___19638=s.tmp_0;r0=s.arg0.fields[\"handlers\"];s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.hn___19638);s.tmp_0=control_EventHandler_register__P11641_mk(s);s.tmp_0.arg0=s.hn___19638;s.pc=9;return s.tmp_0;case 9:r0=s.retval;case 7:r0=undefined;return leave(s,r0);default:oops()}}}control_EventContext_registerHandler__P11652.info={start:4832,length:525,line:150,column:8,endLine:163,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"registerHandler\",argumentNames:[\"this\",\"src\",\"value\",\"handler\",\"flags\"]};function control_EventContext_registerHandler__P11652_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventContext_registerHandler__P11652,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,h___19622:undefined,unnamed122___U1:undefined,unnamed123___U2:undefined,hn___19638:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function control_EventHandler_constructor__P11643(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,control_EventHandler__C11640_VT))failedCast(r0);r0=s.arg0.fields[\"src\"]=s.arg1;r0=s.arg0.fields[\"value\"]=s.arg2;r0=s.arg0.fields[\"handler\"]=s.arg3;return leave(s,r0);default:oops()}}}control_EventHandler_constructor__P11643.info={start:876,length:183,line:28,column:8,endLine:32,endColumn:9,fileName:\"pxt_modules/base/eventcontext.ts\",functionName:\"inline\",argumentNames:[\"this\",\"src\",\"value\",\"handler\",\"flags\"]};function control_EventHandler_constructor__P11643_mk(s){checkStack(s.depth);return{parent:s,fn:control_EventHandler_constructor__P11643,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function game_eventContext__P12441(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=game_init__P12442_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=globals._scene___12433.fields[\"eventContext\"];return leave(s,r0);default:oops()}}}game_eventContext__P12441.info={start:1032,length:112,line:39,column:4,endLine:42,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"eventContext\",argumentNames:[]};function game_eventContext__P12441_mk(s){checkStack(s.depth);return{parent:s,fn:game_eventContext__P12441,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function controller_pauseUntilAnyButtonIsPressed__P12009(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:setupResume(s,1);pxsim.control.waitForEvent(2049,0);checkResumeConsumed();return;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}controller_pauseUntilAnyButtonIsPressed__P12009.info={start:17360,length:96,line:537,column:4,endLine:539,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"pauseUntilAnyButtonIsPressed\",argumentNames:[]};function controller_pauseUntilAnyButtonIsPressed__P12009_mk(s){checkStack(s.depth);return{parent:s,fn:controller_pauseUntilAnyButtonIsPressed__P12009,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function game_setWaitAnyButton__P12439(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}globals.__waitAnyButton___12437=s.arg0;r0=undefined;return leave(s,r0);default:oops()}}}game_setWaitAnyButton__P12439.info={start:826,length:83,line:30,column:4,endLine:32,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"setWaitAnyButton\",argumentNames:[\"f\"]};function game_setWaitAnyButton__P12439_mk(s){checkStack(s.depth);return{parent:s,fn:game_setWaitAnyButton__P12439,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function Math_abs__P11484(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=0-s.arg0;{step=2;continue}case 1:r0=s.arg0;case 2:s.tmp_1=r0;r0=s.tmp_1;return leave(s,r0);default:oops()}}}Math_abs__P11484.info={start:9884,length:77,line:336,column:4,endLine:338,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"abs\",argumentNames:[\"x\"]};function Math_abs__P11484_mk(s){checkStack(s.depth);return{parent:s,fn:Math_abs__P11484,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Math_sign__P11485(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=0;{step=5;continue}case 1:case 2:r0=s.arg0>0;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}r0=1;{step=5;continue}case 3:case 4:r0=-1;case 5:return leave(s,r0);default:oops()}}}Math_sign__P11485.info={start:10119,length:125,line:344,column:4,endLine:348,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"sign\",argumentNames:[\"x\"]};function Math_sign__P11485_mk(s){checkStack(s.depth);return{parent:s,fn:Math_sign__P11485,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function texteffects_TextEffect_constructor__P12872(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,texteffects_TextEffect__C12871_VT))failedCast(r0);r0=s.arg0.fields[\"getState\"]=s.arg1;return leave(s,r0);default:oops()}}}texteffects_TextEffect_constructor__P12872.info={start:657,length:133,line:25,column:8,endLine:27,endColumn:9,fileName:\"pxt_modules/game/texteffects.ts\",functionName:\"inline\",argumentNames:[\"this\",\"getState\"]};function texteffects_TextEffect_constructor__P12872_mk(s){checkStack(s.depth);return{parent:s,fn:texteffects_TextEffect_constructor__P12872,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Math_FastRandom_constructor__P12586(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Math_FastRandom__C12579_VT))failedCast(r0);r0=s.arg1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim.Math_.randomRange(1,65535);s.arg1=r0;case 1:case 2:r0=s.arg0.fields[\"seed\"]=s.arg1;r0=s.arg0.fields[\"lfsr\"]=s.arg1;return leave(s,r0);default:oops()}}}Math_FastRandom_constructor__P12586.info={start:1392,length:175,line:43,column:8,endLine:47,endColumn:9,fileName:\"pxt_modules/game/mathUtil.ts\",functionName:\"inline\",argumentNames:[\"this\",\"seed\"]};function Math_FastRandom_constructor__P12586_mk(s){checkStack(s.depth);return{parent:s,fn:Math_FastRandom_constructor__P12586,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function control_ramSize__P11604(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_pxtcore.getConfig(205,0);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=32*1024;s.tmp_1=r0;r0=s.tmp_1*1024;case 2:s.tmp_2=r0;r0=s.tmp_2;return leave(s,r0);default:oops()}}}control_ramSize__P11604.info={start:7962,length:100,line:265,column:4,endLine:267,endColumn:5,fileName:\"pxt_modules/base/control.ts\",functionName:\"ramSize\",argumentNames:[]};function control_ramSize__P11604_mk(s){checkStack(s.depth);return{parent:s,fn:control_ramSize__P11604,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function control__ramSize__P11603(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=32*1024;s.tmp_0=r0;r0=s.tmp_0*1024;return leave(s,r0);default:oops()}}}control__ramSize__P11603.info={start:7842,length:60,line:260,column:4,endLine:262,endColumn:5,fileName:\"pxt_modules/base/control.ts\",functionName:\"_ramSize\",argumentNames:[]};function control__ramSize__P11603_mk(s){checkStack(s.depth);return{parent:s,fn:control__ramSize__P11603,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function game_consoleOverlay_listener__P12690(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}{step=7;continue}case 3:case 4:s.tmp_4=helpers_arrayForEach__P11472_mk(s);s.tmp_5=helpers_arrayFilter__P11473_mk(s);s.tmp_6=helpers_stringSplit__P11480_mk(s);s.tmp_6.arg0=s.arg1;s.tmp_6.arg1=\"\\\\n\";s.tmp_6.arg2=undefined;s.pc=10;return s.tmp_6;case 10:r0=s.retval;s.tmp_5.arg0=r0;s.tmp_5.arg1=inline__P19718;s.pc=9;return s.tmp_5;case 9:r0=s.retval;s.tmp_4.arg0=r0;s.tmp_4.arg1=inline__P19722;s.pc=8;return s.tmp_4;case 8:r0=s.retval;r0=pxsim_Array__length(globals.consoleStrings___12662);s.tmp_1=r0;r0=s.tmp_1>globals.consoleLines___12668;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_2=helpers_arraySplice__P11461_mk(s);s.tmp_2.arg0=globals.consoleStrings___12662;s.tmp_2.arg1=0;r0=pxsim_Array__length(globals.consoleStrings___12662);s.tmp_3=r0;r0=s.tmp_3-globals.consoleLines___12668;s.tmp_2.arg2=r0;s.pc=11;return s.tmp_2;case 11:r0=s.retval;case 5:case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}game_consoleOverlay_listener__P12690.info={start:787,length:571,line:26,column:4,endLine:42,endColumn:5,fileName:\"pxt_modules/game/console.ts\",functionName:\"listener\",argumentNames:[\"priority\",\"text\"]};function game_consoleOverlay_listener__P12690_mk(s){checkStack(s.depth);return{parent:s,fn:game_consoleOverlay_listener__P12690,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined}}function inline__P19718(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P19718.info={start:985,length:14,line:32,column:20,endLine:32,endColumn:34,fileName:\"pxt_modules/game/console.ts\",functionName:\"inline\",argumentNames:[\"line\"]};function inline__P19718_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19718,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function inline__P19722(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.j___19724=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.j___19724=0;case 1:s.tmp_1=r0=s.j___19724;r0=pxsim_String_.length(s.arg0);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_3=r0=globals.consoleStrings___12662;s.tmp_5=helpers_stringSlice__P11478_mk(s);s.tmp_5.arg0=s.arg0;s.tmp_5.arg1=s.j___19724;r0=s.j___19724+globals.consoleColumns___12678;s.tmp_5.arg2=r0;s.pc=3;return s.tmp_5;case 3:r0=s.retval;s.tmp_4=r0;r0=pxsim_Array__push(s.tmp_3,s.tmp_4);r0=s.j___19724+globals.consoleColumns___12678;s.j___19724=r0;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P19722.info={start:1022,length:189,line:33,column:21,endLine:37,endColumn:13,fileName:\"pxt_modules/game/console.ts\",functionName:\"inline\",argumentNames:[\"line\"]};function inline__P19722_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19722,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,j___19724:undefined,arg0:undefined}}function console_addListener__P11619(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array_.indexOf(globals.listeners___11611,s.arg0,undefined);s.tmp_2=r0;r0=s.tmp_2>-1;case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:r0=pxsim_Array__push(globals.listeners___11611,s.arg0);case 5:r0=undefined;return leave(s,r0);default:oops()}}}console_addListener__P11619.info={start:3460,length:197,line:118,column:4,endLine:121,endColumn:5,fileName:\"pxt_modules/base/console.ts\",functionName:\"addListener\",argumentNames:[\"listener\"]};function console_addListener__P11619_mk(s){checkStack(s.depth);return{parent:s,fn:console_addListener__P11619,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function inline__P19763(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim.control.__log(s.arg0,s.arg1);r0=undefined;return leave(s,r0);default:oops()}}}inline__P19763.info={start:534,length:85,line:25,column:8,endLine:25,endColumn:93,fileName:\"pxt_modules/base/console.ts\",functionName:\"inline\",argumentNames:[\"priority\",\"text\"]};function inline__P19763_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19763,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function scene_systemMenu_register__P12619(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.instance___12587);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_0=controller_Button_onEvent__P11967_mk(s);s.tmp_0.arg0=globals.menu___11955;s.tmp_0.arg1=2049;s.tmp_0.arg2=scene_systemMenu_showSystemMenu__P12620;s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_register__P12619.info={start:12112,length:193,line:365,column:4,endLine:369,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"register\",argumentNames:[]};function scene_systemMenu_register__P12619_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_register__P12619,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function scene_systemMenu_showSystemMenu__P12620(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.instance___12587);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_0=game_pushScene__P12443_mk(s);s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_PauseMenu__C12599_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_PauseMenu_constructor__P12606_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=scene_systemMenu_buildOptionList__P12616;s.tmp_1.arg2=undefined;s.pc=5;return s.tmp_1;case 5:r0=s.retval;globals.instance___12587=s.tmp_0;s.tmp_0=scene_systemMenu_PauseMenu_show__P12600_mk(s);s.tmp_0.arg0=globals.instance___12587;s.pc=6;return s.tmp_0;case 6:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_showSystemMenu__P12620.info={start:12311,length:172,line:371,column:4,endLine:376,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"showSystemMenu\",argumentNames:[]};function scene_systemMenu_showSystemMenu__P12620_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_showSystemMenu__P12620,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function scene_systemMenu_buildOptionList__P12616(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.options___20591=undefined;r0=pxsim_Array__mk();s.options___20591=r0;r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.VOLUME_DOWN_ICON___12646;s.tmp_1.arg2=inline__P20599;s.tmp_1.arg3=scene_systemMenu_volumeDown__P12609;s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.VOLUME_UP_ICON___12637;s.tmp_1.arg2=inline__P20613;s.tmp_1.arg3=scene_systemMenu_volumeUp__P12608;s.pc=4;return s.tmp_1;case 4:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.BRIGHTNESS_DOWN_ICON___12640;s.tmp_1.arg2=inline__P20627;s.tmp_1.arg3=scene_systemMenu_brightnessDown__P12611;s.pc=5;return s.tmp_1;case 5:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.BRIGHTNESS_UP_ICON___12655;s.tmp_1.arg2=inline__P20643;s.tmp_1.arg3=scene_systemMenu_brightnessUp__P12610;s.pc=6;return s.tmp_1;case 6:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.STATS_ICON___12658;s.tmp_1.arg2=inline__P20658;s.tmp_1.arg3=scene_systemMenu_toggleStats__P12612;s.pc=7;return s.tmp_1;case 7:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.CONSOLE_ICON___12652;s.tmp_1.arg2=inline__P20667;s.tmp_1.arg3=scene_systemMenu_toggleConsole__P12613;s.pc=8;return s.tmp_1;case 8:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.SLEEP_ICON___12649;s.tmp_1.arg2=inline__P20676;s.tmp_1.arg3=scene_systemMenu_sleep__P12614;s.pc=9;return s.tmp_1;case 9:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=pxsim_numops_toBoolDecr(globals.customMenuOptions___12588);if(!r0){step=1;continue}s.tmp_0=helpers_arrayConcat__P11476_mk(s);s.tmp_0.arg0=s.options___20591;s.tmp_0.arg1=globals.customMenuOptions___12588;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.options___20591=r0;case 1:case 2:r0=pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C12590_VT);s.tmp_0=r0;s.tmp_1=scene_systemMenu_MenuOption_constructor__P12598_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=globals.CLOSE_MENU_ICON___12643;s.tmp_1.arg2=inline__P20690;s.tmp_1.arg3=scene_systemMenu_closeMenu__P12615;s.pc=11;return s.tmp_1;case 11:r0=s.retval;r0=pxsim_Array__push(s.options___20591,s.tmp_0);r0=s.options___20591;return leave(s,r0);default:oops()}}}scene_systemMenu_buildOptionList__P12616.info={start:9882,length:1085,line:319,column:4,endLine:337,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"buildOptionList\",argumentNames:[]};function scene_systemMenu_buildOptionList__P12616_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_buildOptionList__P12616,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,options___20591:undefined}}function inline__P20599(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_3=music_volume__P11767_mk(s);s.pc=1;return s.tmp_3;case 1:r0=s.retval;s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,2);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 2:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"VOLUME DOWN (\",s.tmp_1);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\")\");return leave(s,r0);default:oops()}}}inline__P20599.info={start:10027,length:39,line:322,column:54,endLine:322,endColumn:93,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20599_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20599,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P20613(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_3=music_volume__P11767_mk(s);s.pc=1;return s.tmp_3;case 1:r0=s.retval;s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,2);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 2:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"VOLUME UP (\",s.tmp_1);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\")\");return leave(s,r0);default:oops()}}}inline__P20613.info={start:10134,length:37,line:323,column:52,endLine:323,endColumn:89,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20613_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20613,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function inline__P20627(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=globals.brightness___11826;s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,1);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 1:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"BRIGHTNESS DOWN (\",s.tmp_1);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\")\");return leave(s,r0);default:oops()}}}inline__P20627.info={start:10243,length:48,line:324,column:58,endLine:324,endColumn:106,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20627_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20627,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P20643(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=globals.brightness___11826;s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,1);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 1:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(\"BRIGHTNESS UP (\",s.tmp_1);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\")\");return leave(s,r0);default:oops()}}}inline__P20643.info={start:10367,length:46,line:325,column:56,endLine:325,endColumn:102,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20643_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20643,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P20658(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.stats___12424);if(!r0){step=1;continue}r0=\"HIDE STATS\";{step=2;continue}case 1:r0=\"SHOW STATS\";case 2:s.tmp_0=r0;r0=s.tmp_0;return leave(s,r0);default:oops()}}}inline__P20658.info={start:10479,length:46,line:326,column:48,endLine:326,endColumn:94,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20658_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20658,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P20667(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=\"HIDE CONSOLE\";{step=2;continue}case 1:r0=\"SHOW CONSOLE\";case 2:s.tmp_4=r0;r0=s.tmp_4;return leave(s,r0);default:oops()}}}inline__P20667.info={start:10592,length:71,line:327,column:50,endLine:327,endColumn:121,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20667_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20667,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function inline__P20676(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=\"SLEEP\";return leave(s,r0);default:oops()}}}inline__P20676.info={start:10730,length:13,line:328,column:48,endLine:328,endColumn:61,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20676_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20676,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function inline__P20690(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=\"CLOSE\";return leave(s,r0);default:oops()}}}inline__P20690.info={start:10909,length:13,line:334,column:53,endLine:334,endColumn:66,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20690_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20690,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function game_consoleOverlay_isVisible__P12691(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}game_consoleOverlay_isVisible__P12691.info={start:422,length:68,line:11,column:4,endLine:13,endColumn:5,fileName:\"pxt_modules/game/console.ts\",functionName:\"isVisible\",argumentNames:[]};function game_consoleOverlay_isVisible__P12691_mk(s){checkStack(s.depth);return{parent:s,fn:game_consoleOverlay_isVisible__P12691,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function scene_systemMenu_closeMenu__P12615(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.instance___12587);if(!r0){step=1;continue}s.tmp_0=scene_systemMenu_PauseMenu_dispose__P12604_mk(s);s.tmp_0.arg0=globals.instance___12587;s.pc=3;return s.tmp_0;case 3:r0=s.retval;globals.instance___12587=undefined;s.tmp_0=controller__setUserEventsEnabled__P12010_mk(s);s.tmp_0.arg0=true;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=game_popScene__P12444_mk(s);s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_closeMenu__P12615.info={start:9667,length:209,line:310,column:4,endLine:317,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"closeMenu\",argumentNames:[]};function scene_systemMenu_closeMenu__P12615_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_closeMenu__P12615,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function scene_systemMenu_PauseMenu_dispose__P12604(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=s.arg0.fields[\"options\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=helpers_arrayForEach__P11472_mk(s);r0=s.arg0.fields[\"options\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=inline__P20199;s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=s.arg0.fields[\"options\"]=undefined;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_dispose__P12604.info={start:7732,length:165,line:243,column:8,endLine:248,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"dispose\",argumentNames:[\"this\"]};function scene_systemMenu_PauseMenu_dispose__P12604_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_dispose__P12604,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P20199(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=scene_systemMenu_MenuOption_dispose__P12596_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P20199.info={start:7813,length:16,line:245,column:37,endLine:245,endColumn:53,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[\"o\"]};function inline__P20199_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20199,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function scene_systemMenu_MenuOption_dispose__P12596(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"card\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=Sprite_destroy__P12079_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=undefined;s.tmp_1.arg2=undefined;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=Sprite_destroy__P12079_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=undefined;s.tmp_0.arg2=undefined;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=s.arg0.fields[\"card\"]=undefined;r0=s.arg0.fields[\"icon\"]=undefined;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_dispose__P12596.info={start:1812,length:216,line:77,column:8,endLine:84,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"dispose\",argumentNames:[\"this\"]};function scene_systemMenu_MenuOption_dispose__P12596_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_dispose__P12596,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Sprite_destroy__P12079(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:s.tmp_2=r0=s.arg0;r0=s.tmp_2.fields[\"flags\"];s.tmp_4=r0;r0=s.tmp_4|2;s.tmp_3=r0;r0=s.tmp_2.fields[\"flags\"]=s.tmp_3;r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=3;continue}s.tmp_0=effects_ParticleEffect_destroy__P12829_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=s.arg0;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=undefined;s.pc=6;return s.tmp_0;case 6:r0=s.retval;{step=4;continue}case 3:s.tmp_0=Sprite__destroyCore__P12080_mk(s);s.tmp_0.arg0=s.arg0;s.pc=7;return s.tmp_0;case 7:r0=s.retval;case 4:case 5:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_destroy__P12079.info={start:24882,length:293,line:763,column:4,endLine:772,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"destroy\",argumentNames:[\"this\",\"effect\",\"duration\"]};function Sprite_destroy__P12079_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_destroy__P12079,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function effects_ParticleEffect_destroy__P12829(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ParticleEffect__C12827_VT))failedCast(r0);s.tmp_0=Sprite_setFlag__P12072_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=1;s.tmp_0.arg2=true;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=effects_ParticleEffect_start__P12828_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg3;s.tmp_0.arg3=undefined;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=1;continue}r0=s.arg2;{step=2;continue}case 1:r0=s.arg0.fields[\"defaultLifespan\"];s.tmp_0=r0;r0=s.tmp_0>>2;case 2:s.tmp_1=r0;r0=s.arg1.fields[\"lifespan\"]=s.tmp_1;s.tmp_0=effects_ImageEffect_applyTo__P12862_mk(s);s.tmp_0.arg0=globals.dissolve___12866;s.tmp_0.arg1=s.arg1;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}effects_ParticleEffect_destroy__P12829.info={start:1652,length:312,line:40,column:8,endLine:45,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"destroy\",argumentNames:[\"this\",\"anchor\",\"duration\",\"particlesPerSecond\"]};function effects_ParticleEffect_destroy__P12829_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ParticleEffect_destroy__P12829,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function inline__P20318(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___20321=undefined;s.x___20328=undefined;s.y___20333=undefined;s.w___20338=undefined;s.h___20341=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_ImageMethods.width(s.arg0);s.tmp_1=r0;r0=pxsim_ImageMethods.height(s.arg0);s.tmp_2=r0;r0=s.tmp_1*s.tmp_2;s.tmp_0=r0;r0=s.tmp_0>>5;s.i___20321=r0;case 1:r0=s.i___20321>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_1.arg0=s.arg1;s.tmp_1.arg1=0;r0=pxsim_ImageMethods.width(s.arg0);s.tmp_1.arg2=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.x___20328=r0;s.tmp_0=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=0;r0=pxsim_ImageMethods.height(s.arg0);s.tmp_0.arg2=r0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.y___20333=r0;s.tmp_0=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=1;s.tmp_0.arg2=3;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.w___20338=r0;s.tmp_0=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=1;s.tmp_0.arg2=3;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.h___20341=r0;s.tmp_0=helpers_imageDrawRect__P11839_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.x___20328;s.tmp_0.arg2=s.y___20333;s.tmp_0.arg3=s.w___20338;s.tmp_0.arg4=s.h___20341;s.tmp_0.arg5=0;s.pc=7;return s.tmp_0;case 7:r0=s.retval;r0=s.i___20321-1;s.i___20321=r0;{step=1;continue}case 2:r0=undefined;return leave(s,r0);default:oops()}}}inline__P20318.info={start:2199,length:360,line:60,column:49,endLine:69,endColumn:5,fileName:\"pxt_modules/game/effects.ts\",functionName:\"inline\",argumentNames:[\"input\",\"r\"]};function inline__P20318_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20318,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,i___20321:undefined,x___20328:undefined,y___20333:undefined,w___20338:undefined,h___20341:undefined,arg0:undefined,arg1:undefined}}function helpers_imageDrawRect__P11839(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}r0=s.arg3==0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg4==0;case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:r0=s.arg3-1;s.arg3=r0;r0=s.arg4-1;s.arg4=r0;s.tmp_0=helpers_imageDrawLine__P11838_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;r0=s.arg1+s.arg3;s.tmp_0.arg3=r0;s.tmp_0.arg4=s.arg2;s.tmp_0.arg5=s.arg5;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=helpers_imageDrawLine__P11838_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=s.arg1;r0=s.arg2+s.arg4;s.tmp_0.arg4=r0;s.tmp_0.arg5=s.arg5;s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.tmp_0=helpers_imageDrawLine__P11838_mk(s);s.tmp_0.arg0=s.arg0;r0=s.arg1+s.arg3;s.tmp_0.arg1=r0;r0=s.arg2+s.arg4;s.tmp_0.arg2=r0;r0=s.arg1+s.arg3;s.tmp_0.arg3=r0;s.tmp_0.arg4=s.arg2;s.tmp_0.arg5=s.arg5;s.pc=8;return s.tmp_0;case 8:r0=s.retval;s.tmp_0=helpers_imageDrawLine__P11838_mk(s);s.tmp_0.arg0=s.arg0;r0=s.arg1+s.arg3;s.tmp_0.arg1=r0;r0=s.arg2+s.arg4;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.arg1;r0=s.arg2+s.arg4;s.tmp_0.arg4=r0;s.tmp_0.arg5=s.arg5;s.pc=9;return s.tmp_0;case 9:r0=s.retval;case 5:r0=undefined;return leave(s,r0);default:oops()}}}helpers_imageDrawRect__P11839.info={start:4139,length:370,line:140,column:4,endLine:148,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"imageDrawRect\",argumentNames:[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]};function helpers_imageDrawRect__P11839_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imageDrawRect__P11839,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function helpers_imageDrawLine__P11838(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;s.tmp_2=helpers_pack__P11833_mk(s);s.tmp_2.arg0=s.arg1;s.tmp_2.arg1=s.arg2;s.pc=1;return s.tmp_2;case 1:r0=s.retval;s.tmp_1=r0;s.tmp_4=helpers_pack__P11833_mk(s);s.tmp_4.arg0=s.arg3;s.tmp_4.arg1=s.arg4;s.pc=2;return s.tmp_4;case 2:r0=s.retval;s.tmp_3=r0;r0=pxsim_ImageMethods._drawLine(s.tmp_0,s.tmp_1,s.tmp_3,s.arg5);r0=undefined;return leave(s,r0);default:oops()}}}helpers_imageDrawLine__P11838.info={start:3975,length:159,line:137,column:4,endLine:139,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"imageDrawLine\",argumentNames:[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]};function helpers_imageDrawLine__P11838_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_imageDrawLine__P11838,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function effects_ImageEffect_applyTo__P12862(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.clonedImage___20424=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ImageEffect__C12861_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg1.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);case 2:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:r0=s.arg1.fields[\"_image\"];s.tmp_5=r0;r0=pxsim_ImageMethods.clone(s.tmp_5);s.clonedImage___20424=r0;s.tmp_0=effects_ImageEffect_change__P12863_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.clonedImage___20424;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=Sprite_setImage__P12049_mk(s);s.tmp_0.arg0=s.arg1;s.tmp_0.arg1=s.clonedImage___20424;s.pc=7;return s.tmp_0;case 7:r0=s.retval;case 5:r0=undefined;return leave(s,r0);default:oops()}}}effects_ImageEffect_applyTo__P12862.info={start:823,length:218,line:21,column:8,endLine:26,endColumn:9,fileName:\"pxt_modules/game/effects.ts\",functionName:\"applyTo\",argumentNames:[\"this\",\"sprite\"]};function effects_ImageEffect_applyTo__P12862_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ImageEffect_applyTo__P12862,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,clonedImage___20424:undefined,arg0:undefined,arg1:undefined}}function effects_ImageEffect_change__P12863(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ImageEffect__C12861_VT))failedCast(r0);s.tmp_0=lambda_3_mk(s);r0=s.arg0.fields[\"effect\"];s.tmp_0.argL=r0;s.tmp_0.arg0=s.arg1;r0=s.arg0.fields[\"fastRandom\"];s.tmp_0.arg1=r0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}effects_ImageEffect_change__P12863.info={start:1151,length:81,line:32,column:8,endLine:34,endColumn:9,fileName:\"pxt_modules/game/effects.ts\",functionName:\"change\",argumentNames:[\"this\",\"input\"]};function effects_ImageEffect_change__P12863_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ImageEffect_change__P12863,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function effects_ParticleEffect_start__P12828(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.src___20447=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ParticleEffect__C12827_VT))failedCast(r0);r0=s.arg0.fields[\"sourceFactory\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=9;continue}case 1:case 2:r0=pxsim_numops_toBoolDecr(s.arg3);if(!r0){step=3;continue}r0=s.arg3;{step=4;continue}case 3:r0=s.arg0.fields[\"defaultRate\"];case 4:s.tmp_3=r0;s.tmp_4=lambda_3_mk(s);r0=s.arg0.fields[\"sourceFactory\"];s.tmp_4.argL=r0;s.tmp_4.arg0=s.arg1;s.tmp_4.arg1=s.tmp_3;setupLambda(s.tmp_4,s.tmp_4.argL);s.pc=10;return s.tmp_4;case 10:r0=s.retval;s.src___20447=r0;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=7;continue}r0=s.arg2>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=s.arg2;{step=6;continue}case 5:r0=s.arg0.fields[\"defaultLifespan\"];case 6:s.tmp_1=r0;r0=s.src___20447.fields[\"lifespan\"]=s.tmp_1;case 7:case 8:case 9:r0=undefined;return leave(s,r0);default:oops()}}}effects_ParticleEffect_start__P12828.info={start:968,length:367,line:26,column:8,endLine:31,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"start\",argumentNames:[\"this\",\"anchor\",\"duration\",\"particlesPerSecond\"]};function effects_ParticleEffect_start__P12828_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ParticleEffect_start__P12828,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,src___20447:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function Sprite_setFlag__P12072(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=1;continue}s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2|s.arg1;s.tmp_1=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_1;{step=2;continue}case 1:s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"flags\"];s.tmp_4=r0;r0=~s.tmp_4;s.tmp_3=r0;r0=s.tmp_3|s.arg1;s.tmp_2=r0;r0=~s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_1;case 2:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_setFlag__P12072.info={start:22274,length:130,line:684,column:4,endLine:687,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"setFlag\",argumentNames:[\"this\",\"flag\",\"on\"]};function Sprite_setFlag__P12072_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_setFlag__P12072,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Sprite__destroyCore__P12080(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___20246=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2|2;s.tmp_1=r0;r0=s.tmp_0.fields[\"flags\"]=s.tmp_1;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.scene___20246=r0;r0=s.arg0.fields[\"sayBubbleSprite\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=Sprite_destroy__P12079_mk(s);r0=s.arg0.fields[\"sayBubbleSprite\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=undefined;s.tmp_1.arg2=undefined;s.pc=10;return s.tmp_1;case 10:r0=s.retval;case 1:case 2:r0=s.scene___20246.fields[\"allSprites\"];s.tmp_0=r0;r0=pxsim_Array_.removeElement(s.tmp_0,s.arg0);r0=s.arg0.fields[\"_kind\"];s.tmp_1=r0;r0=s.tmp_1>=0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=s.scene___20246.fields[\"spritesByKind\"];s.tmp_2=r0;r0=s.arg0.fields[\"_kind\"];s.tmp_3=r0;r0=pxsim_pxtrt.mapGetGeneric(s.tmp_2,s.tmp_3);case 4:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=5;continue}s.tmp_5=SpriteSet_remove__P12107_mk(s);r0=s.scene___20246.fields[\"spritesByKind\"];s.tmp_6=r0;r0=s.arg0.fields[\"_kind\"];s.tmp_7=r0;r0=pxsim_pxtrt.mapGetGeneric(s.tmp_6,s.tmp_7);s.tmp_5.arg0=r0;s.tmp_5.arg1=s.arg0;s.pc=11;return s.tmp_5;case 11:r0=s.retval;case 5:case 6:s.tmp_0=PhysicsEngine__C12133_v1_2_mk(s);r0=s.scene___20246.fields[\"physicsEngine\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg0;if(!checkSubtype(s.tmp_0.arg0,PhysicsEngine__C12133_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.removeSprite;s.pc=12;return s.tmp_0;case 12:r0=s.retval;r0=s.arg0.fields[\"destroyHandler\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}s.tmp_1=lambda_1_mk(s);r0=s.arg0.fields[\"destroyHandler\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=13;return s.tmp_1;case 13:r0=s.retval;case 7:case 8:r0=pxsim_pxtcore_mkAction(1,inline__P20281);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtcore_mkAction(1,inline__P20286);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.arg0);s.tmp_2=helpers_arrayForEach__P11472_mk(s);s.tmp_3=helpers_arrayFilter__P11473_mk(s);r0=s.scene___20246.fields[\"destroyedHandlers\"];s.tmp_3.arg0=r0;s.tmp_3.arg1=s.tmp_0;s.pc=15;return s.tmp_3;case 15:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=s.tmp_1;s.pc=14;return s.tmp_2;case 14:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite__destroyCore__P12080.info={start:25181,length:693,line:774,column:4,endLine:790,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"_destroyCore\",argumentNames:[\"this\"]};function Sprite__destroyCore__P12080_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite__destroyCore__P12080,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,scene___20246:undefined,arg0:undefined}}function inline__P20281(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"kind\"];s.tmp_0=r0;r0=s.caps[0].fields[\"_kind\"];s.tmp_1=r0;r0=s.tmp_0==s.tmp_1;return leave(s,r0);default:oops()}}}inline__P20281.info={start:25797,length:26,line:788,column:20,endLine:788,endColumn:46,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P20281_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20281,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P20286(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);r0=s.arg0.fields[\"handler\"];s.tmp_0.argL=r0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P20286.info={start:25846,length:20,line:789,column:21,endLine:789,endColumn:41,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P20286_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20286,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function PhysicsEngine_removeSprite__P12135(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,PhysicsEngine__C12133_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}PhysicsEngine_removeSprite__P12135.info={start:159,length:32,line:10,column:4,endLine:10,endColumn:36,fileName:\"pxt_modules/game/physics.ts\",functionName:\"removeSprite\",argumentNames:[\"this\",\"sprite\"]};function PhysicsEngine_removeSprite__P12135_mk(s){checkStack(s.depth);return{parent:s,fn:PhysicsEngine_removeSprite__P12135,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Sprite_kind__P12063(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_kind\"];return leave(s,r0);default:oops()}}}Sprite_kind__P12063.info={start:9686,length:41,line:349,column:4,endLine:351,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"kind\",argumentNames:[\"this\"]};function Sprite_kind__P12063_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_kind__P12063,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function controller__setUserEventsEnabled__P12010(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}globals._userEventsEnabled___11959=s.arg0;r0=undefined;return leave(s,r0);default:oops()}}}controller__setUserEventsEnabled__P12010.info={start:17462,length:101,line:541,column:4,endLine:543,endColumn:5,fileName:\"pxt_modules/game/controller.ts\",functionName:\"_setUserEventsEnabled\",argumentNames:[\"enabled\"]};function controller__setUserEventsEnabled__P12010_mk(s){checkStack(s.depth);return{parent:s,fn:controller__setUserEventsEnabled__P12010,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function scene_systemMenu_sleep__P12614(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_pxtcore.deepSleep();r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_sleep__P12614.info={start:9610,length:51,line:306,column:4,endLine:308,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"sleep\",argumentNames:[]};function scene_systemMenu_sleep__P12614_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_sleep__P12614,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null}}function scene_systemMenu_toggleConsole__P12613(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_4=game_consoleOverlay_setVisible__P12693_mk(s);s.tmp_4.arg0=false;s.tmp_4.arg1=undefined;s.pc=3;return s.tmp_4;case 3:r0=s.retval;{step=2;continue}case 1:s.tmp_0=game_consoleOverlay_setVisible__P12693_mk(s);s.tmp_0.arg0=true;s.tmp_0.arg1=undefined;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=console_log__P11616_mk(s);s.tmp_0.arg0=\"console\";s.pc=5;return s.tmp_0;case 5:r0=s.retval;case 2:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_toggleConsole__P12613.info={start:9365,length:239,line:297,column:4,endLine:304,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"toggleConsole\",argumentNames:[]};function scene_systemMenu_toggleConsole__P12613_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_toggleConsole__P12613,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function game_consoleOverlay_setVisible__P12693(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_1=r0=s.arg0;r0=pxsim_numops_toBoolDecr(globals.consoleStrings___12662);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1!=s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_numops_toBoolDecr(s.arg0);if(!r0){step=1;continue}r0=pxsim_Array__mk();{step=2;continue}case 1:r0=undefined;case 2:s.tmp_6=r0;globals.consoleStrings___12662=s.tmp_6;case 3:case 4:r0=s.arg1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}globals.consoleColor___12661=s.arg1;case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}game_consoleOverlay_setVisible__P12693.info={start:562,length:219,line:19,column:4,endLine:24,endColumn:5,fileName:\"pxt_modules/game/console.ts\",functionName:\"setVisible\",argumentNames:[\"value\",\"col\"]};function game_consoleOverlay_setVisible__P12693_mk(s){checkStack(s.depth);return{parent:s,fn:game_consoleOverlay_setVisible__P12693,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined}}function console_log__P11616(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=console_add__P11612_mk(s);s.tmp_0.arg0=1;s.tmp_1=console_inspect__P11618_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=20;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}console_log__P11616.info={start:1422,length:95,line:57,column:4,endLine:59,endColumn:5,fileName:\"pxt_modules/base/console.ts\",functionName:\"log\",argumentNames:[\"value\"]};function console_log__P11616_mk(s){checkStack(s.depth);return{parent:s,fn:console_log__P11616,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function console_inspect__P11618(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.asArr___20738=undefined;s.asString___20755=undefined;s.keys___20765=undefined;s.snipped___20769=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_pxtcore.typeOf(s.arg0);s.tmp_1=r0;r0=s.tmp_1==\"string\";s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=17;continue}{step=16;continue}case 1:r0=pxsim_pxtcore.typeOf(s.arg0);s.tmp_3=r0;r0=s.tmp_3==\"number\";s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=2;continue}r0=pxsim_String_.mkEmpty();s.tmp_4=r0;if(s.arg0&&s.arg0.vtable){setupResume(s,18);pxsim_String__stringConv(s.arg0);checkResumeConsumed();return}else{s.retval=s.arg0+\"\"}case 18:r0=s.retval;s.tmp_5=r0;r0=pxsim_String__concat(s.tmp_4,s.tmp_5);{step=17;continue}{step=15;continue}case 2:r0=pxsim_Array_.isArray(s.arg0);s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=5;continue}s.asArr___20738=s.arg0;r0=pxsim_Array__length(s.asArr___20738);s.tmp_1=r0;r0=s.tmp_1<=s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=helpers_arrayJoin__P11464_mk(s);s.tmp_2.arg0=s.asArr___20738;s.tmp_2.arg1=\",\";s.pc=19;return s.tmp_2;case 19:r0=s.retval;{step=17;continue}{step=4;continue}case 3:r0=pxsim_String_.mkEmpty();s.tmp_4=r0;s.tmp_7=helpers_arrayJoin__P11464_mk(s);s.tmp_8=helpers_arraySlice__P11477_mk(s);s.tmp_8.arg0=s.asArr___20738;s.tmp_8.arg1=0;s.tmp_8.arg2=s.arg1;s.pc=21;return s.tmp_8;case 21:r0=s.retval;s.tmp_7.arg0=r0;s.tmp_7.arg1=\",\";s.pc=20;return s.tmp_7;case 20:r0=s.retval;s.tmp_6=r0;if(s.tmp_6&&s.tmp_6.vtable){setupResume(s,22);pxsim_String__stringConv(s.tmp_6);checkResumeConsumed();return}else{s.retval=s.tmp_6+\"\"}case 22:r0=s.retval;s.tmp_5=r0;r0=pxsim_String__concat(s.tmp_4,s.tmp_5);s.tmp_3=r0;r0=pxsim_String__concat(s.tmp_3,\"...\");{step=17;continue}case 4:{step=14;continue}case 5:if(s.arg0&&s.arg0.vtable){setupResume(s,23);pxsim_String__stringConv(s.arg0);checkResumeConsumed();return}else{s.retval=s.arg0+\"\"}case 23:r0=s.retval;s.tmp_9=r0;r0=pxsim_String_.mkEmpty();s.tmp_10=r0;r0=pxsim_String__concat(s.tmp_9,s.tmp_10);s.asString___20755=r0;r0=s.asString___20755!=\"[object Object]\";s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=6;continue}r0=s.tmp_0;{step=7;continue}case 6:r0=s.asString___20755!=\"[Object]\";case 7:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=8;continue}r0=s.asString___20755;{step=17;continue}case 8:case 9:r0=pxsim_pxtrt.keysOf(s.arg0);s.keys___20765=r0;r0=pxsim_Array__length(s.keys___20765);s.tmp_0=r0;r0=s.tmp_0>s.arg1;s.snipped___20769=r0;r0=pxsim_numops_toBoolDecr(s.snipped___20769);if(!r0){step=10;continue}s.tmp_0=helpers_arraySlice__P11477_mk(s);s.tmp_0.arg0=s.keys___20765;s.tmp_0.arg1=0;s.tmp_0.arg2=s.arg1;s.pc=24;return s.tmp_0;case 24:r0=s.retval;s.keys___20765=r0;case 10:case 11:r0=pxsim_pxtcore_mkAction(1,inline__P20786);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_numops_toBoolDecr(s.snipped___20769);if(!r0){step=12;continue}r0=\"\\\\n    ...\";{step=13;continue}case 12:r0=pxsim_String_.mkEmpty();case 13:s.tmp_1=r0;s.tmp_7=helpers_arrayReduce__P11475_mk(s);s.tmp_7.arg0=s.keys___20765;s.tmp_7.arg1=s.tmp_0;r0=pxsim_String_.mkEmpty();s.tmp_7.arg2=r0;s.pc=25;return s.tmp_7;case 25:r0=s.retval;s.tmp_6=r0;if(s.tmp_6&&s.tmp_6.vtable){setupResume(s,26);pxsim_String__stringConv(s.tmp_6);checkResumeConsumed();return}else{s.retval=s.tmp_6+\"\"}case 26:r0=s.retval;s.tmp_5=r0;if(s.tmp_1&&s.tmp_1.vtable){setupResume(s,27);pxsim_String__stringConv(s.tmp_1);checkResumeConsumed();return}else{s.retval=s.tmp_1+\"\"}case 27:r0=s.retval;s.tmp_8=r0;r0=pxsim_String__concat(s.tmp_5,s.tmp_8);s.tmp_4=r0;if(s.tmp_4&&s.tmp_4.vtable){setupResume(s,28);pxsim_String__stringConv(s.tmp_4);checkResumeConsumed();return}else{s.retval=s.tmp_4+\"\"}case 28:r0=s.retval;s.tmp_3=r0;r0=pxsim_String__concat(\"{\",s.tmp_3);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\"\\\\n}\");case 14:case 15:case 16:case 17:return leave(s,r0);default:oops()}}}console_inspect__P11618.info={start:2173,length:1190,line:78,column:4,endLine:111,endColumn:5,fileName:\"pxt_modules/base/console.ts\",functionName:\"inspect\",argumentNames:[\"obj\",\"maxElements\"]};function console_inspect__P11618_mk(s){checkStack(s.depth);return{parent:s,fn:console_inspect__P11618,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,asArr___20738:undefined,asString___20755:undefined,keys___20765:undefined,snipped___20769:undefined,arg0:undefined,arg1:undefined}}function inline__P20786(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}if(s.arg0&&s.arg0.vtable){setupResume(s,1);pxsim_String__stringConv(s.arg0);checkResumeConsumed();return}else{s.retval=s.arg0+\"\"}case 1:r0=s.retval;s.tmp_0=r0;if(s.arg1&&s.arg1.vtable){setupResume(s,2);pxsim_String__stringConv(s.arg1);checkResumeConsumed();return}else{s.retval=s.arg1+\"\"}case 2:r0=s.retval;s.tmp_5=r0;r0=pxsim_String__concat(\"\\\\n    \",s.tmp_5);s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_4,\": \");s.tmp_3=r0;r0=pxsim_pxtrt.mapGetGeneric(s.caps[0],s.arg1);s.tmp_7=r0;if(s.tmp_7&&s.tmp_7.vtable){setupResume(s,3);pxsim_String__stringConv(s.tmp_7);checkResumeConsumed();return}else{s.retval=s.tmp_7+\"\"}case 3:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_6);s.tmp_2=r0;if(s.tmp_2&&s.tmp_2.vtable){setupResume(s,4);pxsim_String__stringConv(s.tmp_2);checkResumeConsumed();return}else{s.retval=s.tmp_2+\"\"}case 4:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(s.tmp_0,s.tmp_1);return leave(s,r0);default:oops()}}}inline__P20786.info={start:3195,length:61,line:105,column:20,endLine:105,endColumn:81,fileName:\"pxt_modules/base/console.ts\",functionName:\"inline\",argumentNames:[\"prev\",\"currKey\"]};function inline__P20786_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20786,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,arg0:undefined,arg1:undefined}}function helpers_arrayReduce__P11475(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.len___20813=undefined;s.i___20816=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim_Array__length(s.arg0);s.len___20813=r0;s.i___20816=0;case 1:r0=s.i___20816<s.len___20813;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=lambda_4_mk(s);s.tmp_1.argL=s.arg1;s.tmp_1.arg0=s.arg2;r0=pxsim_Array__getAt(s.arg0,s.i___20816);s.tmp_1.arg1=r0;s.tmp_1.arg2=s.i___20816;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.arg2=r0;r0=s.i___20816+1;s.i___20816=r0;{step=1;continue}case 2:r0=s.arg2;return leave(s,r0);default:oops()}}}helpers_arrayReduce__P11475.info={start:5563,length:317,line:184,column:4,endLine:190,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayReduce\",argumentNames:[\"arr\",\"callbackfn\",\"initialValue\"]};function helpers_arrayReduce__P11475_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayReduce__P11475,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,len___20813:undefined,i___20816:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function helpers_arrayJoin__P11464(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.r___20837=undefined;s.len___20838=undefined;s.i___20841=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg1===null;case 2:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}s.arg1=\",\";case 3:case 4:r0=pxsim_String_.mkEmpty();s.r___20837=r0;r0=pxsim_Array__length(s.arg0);s.len___20838=r0;s.i___20841=0;case 5:r0=s.i___20841<s.len___20838;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=14;continue}r0=s.i___20841>0;s.tmp_1=r0;r0=pxsim_numops_toBool(s.tmp_1);if(r0){step=6;continue}r0=s.tmp_1;{step=7;continue}case 6:r0=s.arg1;case 7:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=8;continue}if(s.r___20837&&s.r___20837.vtable){setupResume(s,15);pxsim_String__stringConv(s.r___20837);checkResumeConsumed();return}else{s.retval=s.r___20837+\"\"}case 15:r0=s.retval;s.tmp_3=r0;if(s.arg1&&s.arg1.vtable){setupResume(s,16);pxsim_String__stringConv(s.arg1);checkResumeConsumed();return}else{s.retval=s.arg1+\"\"}case 16:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_4);s.r___20837=r0;case 8:case 9:r0=pxsim_Array__getAt(s.arg0,s.i___20841);s.tmp_1=r0;r0=s.tmp_1===undefined;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=10;continue}r0=s.tmp_0;{step=11;continue}case 10:r0=pxsim_Array__getAt(s.arg0,s.i___20841);s.tmp_2=r0;r0=s.tmp_2===null;case 11:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=12;continue}r0=pxsim_String_.mkEmpty();{step=13;continue}case 12:r0=pxsim_Array__getAt(s.arg0,s.i___20841);case 13:s.tmp_4=r0;if(s.r___20837&&s.r___20837.vtable){setupResume(s,17);pxsim_String__stringConv(s.r___20837);checkResumeConsumed();return}else{s.retval=s.r___20837+\"\"}case 17:r0=s.retval;s.tmp_5=r0;if(s.tmp_4&&s.tmp_4.vtable){setupResume(s,18);pxsim_String__stringConv(s.tmp_4);checkResumeConsumed();return}else{s.retval=s.tmp_4+\"\"}case 18:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(s.tmp_5,s.tmp_6);s.r___20837=r0;r0=s.i___20841+1;s.i___20841=r0;{step=5;continue}case 14:r0=s.r___20837;return leave(s,r0);default:oops()}}}helpers_arrayJoin__P11464.info={start:1850,length:432,line:73,column:4,endLine:86,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayJoin\",argumentNames:[\"arr\",\"sep\"]};function helpers_arrayJoin__P11464_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayJoin__P11464,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,r___20837:undefined,len___20838:undefined,i___20841:undefined,arg0:undefined,arg1:undefined}}function console_add__P11612(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.i___20882=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0<globals.minPriority___11610;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=5;continue}case 1:case 2:if(s.arg1&&s.arg1.vtable){setupResume(s,6);pxsim_String__stringConv(s.arg1);checkResumeConsumed();return}else{s.retval=s.arg1+\"\"}case 6:r0=s.retval;s.tmp_1=r0;r0=pxsim_String__concat(s.tmp_1,\"\\\\n\");s.arg1=r0;s.i___20882=0;case 3:s.tmp_1=r0=s.i___20882;r0=pxsim_Array__length(globals.listeners___11611);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_3=lambda_3_mk(s);r0=pxsim_Array__getAt(globals.listeners___11611,s.i___20882);s.tmp_3.argL=r0;s.tmp_3.arg0=s.arg0;s.tmp_3.arg1=s.arg1;setupLambda(s.tmp_3,s.tmp_3.argL);s.pc=7;return s.tmp_3;case 7:r0=s.retval;r0=s.i___20882+1;s.i___20882=r0;{step=3;continue}case 4:case 5:r0=undefined;return leave(s,r0);default:oops()}}}console_add__P11612.info={start:632,length:280,line:28,column:4,endLine:35,endColumn:5,fileName:\"pxt_modules/base/console.ts\",functionName:\"add\",argumentNames:[\"priority\",\"text\"]};function console_add__P11612_mk(s){checkStack(s.depth);return{parent:s,fn:console_add__P11612,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,i___20882:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_toggleStats__P12612(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.stats___12424);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);globals.stats___12424=r0;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_toggleStats__P12612.info={start:9295,length:64,line:293,column:4,endLine:295,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"toggleStats\",argumentNames:[]};function scene_systemMenu_toggleStats__P12612_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_toggleStats__P12612,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function scene_systemMenu_brightnessDown__P12611(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=helpers_setScreenBrightness__P11844_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=globals.brightness___11826;s.tmp_1=r0;r0=s.tmp_1-10;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_brightnessDown__P12611.info={start:9200,length:89,line:289,column:4,endLine:291,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"brightnessDown\",argumentNames:[]};function scene_systemMenu_brightnessDown__P12611_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_brightnessDown__P12611,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function helpers_setScreenBrightness__P11844(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=10;s.tmp_0.arg1=100;r0=s.arg1|0;s.tmp_0.arg2=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.arg1=r0;globals.brightness___11826=s.arg1;r0=pxsim_pxtcore.setScreenBrightness(globals.brightness___11826);r0=undefined;return leave(s,r0);default:oops()}}}helpers_setScreenBrightness__P11844.info={start:7332,length:210,line:237,column:4,endLine:241,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"setScreenBrightness\",argumentNames:[\"img\",\"b\"]};function helpers_setScreenBrightness__P11844_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_setScreenBrightness__P11844,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_brightnessUp__P12610(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=helpers_setScreenBrightness__P11844_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=globals.brightness___11826;s.tmp_1=r0;r0=s.tmp_1+10;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_brightnessUp__P12610.info={start:9107,length:87,line:285,column:4,endLine:287,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"brightnessUp\",argumentNames:[]};function scene_systemMenu_brightnessUp__P12610_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_brightnessUp__P12610,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined}}function scene_systemMenu_volumeDown__P12609(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.v___21017=undefined;s.remainder___21019=undefined;s.newVolume___21021=undefined;s.tmp_0=music_volume__P11767_mk(s);s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.v___21017=r0;r0=s.v___21017%32;s.remainder___21019=r0;r0=pxsim_numops_toBoolDecr(s.remainder___21019);if(!r0){step=1;continue}r0=s.remainder___21019;{step=2;continue}case 1:r0=32;case 2:s.tmp_0=r0;r0=s.v___21017-s.tmp_0;s.newVolume___21021=r0;s.tmp_0=scene_systemMenu_setVolume__P12607_mk(s);s.tmp_0.arg0=s.newVolume___21021;s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_volumeDown__P12609.info={start:8914,length:187,line:278,column:4,endLine:283,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"volumeDown\",argumentNames:[]};function scene_systemMenu_volumeDown__P12609_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_volumeDown__P12609,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,v___21017:undefined,remainder___21019:undefined,newVolume___21021:undefined}}function scene_systemMenu_setVolume__P12607(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=music_setVolume__P11766_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=music_playTone__P11769_mk(s);s.tmp_0.arg0=440;s.tmp_0.arg1=500;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=settings_writeNumber__P11920_mk(s);s.tmp_0.arg0=\"#volume\";s.tmp_0.arg1=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_setVolume__P12607.info={start:8565,length:166,line:265,column:4,endLine:269,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"setVolume\",argumentNames:[\"newVolume\"]};function scene_systemMenu_setVolume__P12607_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_setVolume__P12607,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function music_playTone__P11769(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.id___20960=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_pxtrt.mklocRef();s.tmp_0=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.arg1);s.arg1=s.tmp_0;r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_2=r0;r0=s.tmp_2==0;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=1;continue}r0=pxsim_pxtrt_stlocRef(s.arg1,864e5);case 1:case 2:r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_1=r0;r0=s.tmp_1<=2e3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=music_playNoteCore__P11768_mk(s);s.tmp_2.arg0=0;s.tmp_2.arg1=s.arg0;r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_2.arg2=r0;s.pc=5;return s.tmp_2;case 5:r0=s.retval;s.tmp_0=pause__P11666_mk(s);r0=pxsim_pxtrt_ldlocRef(s.arg1);s.tmp_0.arg0=r0;s.pc=6;return s.tmp_0;case 6:r0=s.retval;{step=4;continue}case 3:r0=globals.playToneID___11770+1;s.tmp_0=r0;globals.playToneID___11770=r0;s.id___20960=s.tmp_0;r0=pxsim_pxtcore_mkAction(3,inline__P20965);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.id___20960);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.arg1);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.arg0);r0=pxsim.control.runInParallel(s.tmp_0);case 4:r0=undefined;return leave(s,r0);default:oops()}}}music_playTone__P11769.info={start:2591,length:831,line:83,column:4,endLine:108,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"playTone\",argumentNames:[\"frequency\",\"ms\"]};function music_playTone__P11769_mk(s){checkStack(s.depth);return{parent:s,fn:music_playTone__P11769,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,id___20960:undefined,arg0:undefined,arg1:undefined}}function inline__P20965(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.pos___20966=undefined;s.now___20974=undefined;s.d___20977=undefined;s.t___20980=undefined;r0=pxsim.control.millis();s.pos___20966=r0;case 1:r0=s.caps[0]==globals.playToneID___11770;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_1=r0;r0=s.tmp_1>0;case 3:s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=6;continue}r0=pxsim.control.millis();s.now___20974=r0;r0=s.pos___20966-s.now___20974;s.d___20977=r0;s.tmp_0=Math_min__P11487_mk(s);r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_0.arg0=r0;s.tmp_0.arg1=500;s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.t___20980=r0;s.tmp_0=r0=s.caps[1];r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_2=r0;r0=s.tmp_2-s.t___20980;s.tmp_1=r0;r0=pxsim_pxtrt_stlocRef(s.tmp_0,s.tmp_1);r0=s.pos___20966+s.t___20980;s.pos___20966=r0;s.tmp_0=music_playNoteCore__P11768_mk(s);r0=s.d___20977-1;s.tmp_0.arg0=r0;s.tmp_0.arg1=s.caps[2];s.tmp_0.arg2=s.t___20980;s.pc=8;return s.tmp_0;case 8:r0=s.retval;r0=pxsim_pxtrt_ldlocRef(s.caps[1]);s.tmp_1=r0;r0=s.tmp_1==0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_2=pause__P11666_mk(s);r0=s.d___20977+s.t___20980;s.tmp_2.arg0=r0;s.pc=9;return s.tmp_2;case 9:r0=s.retval;{step=5;continue}case 4:s.tmp_0=pause__P11666_mk(s);r0=s.d___20977+s.t___20980;s.tmp_1=r0;r0=s.tmp_1-100;s.tmp_0.arg0=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;case 5:{step=1;continue}case 6:r0=undefined;return leave(s,r0);default:oops()}}}inline__P20965.info={start:2890,length:515,line:92,column:34,endLine:106,endColumn:13,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"inline\",argumentNames:[]};function inline__P20965_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P20965,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,pos___20966:undefined,now___20974:undefined,d___20977:undefined,t___20980:undefined}}function music_playNoteCore__P11768(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.buf___21003=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=pxsim.control.createBuffer(12);s.buf___21003=r0;s.tmp_0=music_addNote__P11787_mk(s);s.tmp_0.arg0=s.buf___21003;s.tmp_0.arg1=0;s.tmp_0.arg2=s.arg2;s.tmp_0.arg3=255;s.tmp_0.arg4=255;s.tmp_0.arg5=3;s.tmp_0.arg6=s.arg1;s.tmp_1=music_volume__P11767_mk(s);s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg7=r0;s.tmp_0.arg8=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=pxsim.music.queuePlayInstructions(s.arg0,s.buf___21003);r0=undefined;return leave(s,r0);default:oops()}}}music_playNoteCore__P11768.info={start:1877,length:240,line:66,column:4,endLine:70,endColumn:5,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"playNoteCore\",argumentNames:[\"when\",\"frequency\",\"ms\"]};function music_playNoteCore__P11768_mk(s){checkStack(s.depth);return{parent:s,fn:music_playNoteCore__P11768,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,buf___21003:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function scene_systemMenu_volumeUp__P12608(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.v___20934=undefined;s.remainder___20936=undefined;s.newVolume___20938=undefined;s.tmp_0=music_volume__P11767_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.v___20934=r0;r0=s.v___20934%32;s.remainder___20936=r0;r0=s.v___20934+32;s.tmp_0=r0;r0=s.tmp_0-s.remainder___20936;s.newVolume___20938=r0;s.tmp_0=scene_systemMenu_setVolume__P12607_mk(s);s.tmp_0.arg0=s.newVolume___20938;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_volumeUp__P12608.info={start:8737,length:171,line:271,column:4,endLine:276,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"volumeUp\",argumentNames:[]};function scene_systemMenu_volumeUp__P12608_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_volumeUp__P12608,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,v___20934:undefined,remainder___20936:undefined,newVolume___20938:undefined}}function scene_systemMenu_MenuOption_constructor__P12598(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"iconImage\"]=s.arg1;r0=s.arg0.fields[\"getText\"]=s.arg2;r0=s.arg0.fields[\"action\"]=s.arg3;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_constructor__P12598.info={start:786,length:108,line:38,column:8,endLine:39,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[\"this\",\"iconImage\",\"getText\",\"action\"]};function scene_systemMenu_MenuOption_constructor__P12598_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_constructor__P12598,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function helpers_screenBrightness__P11845(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=globals.brightness___11826;return leave(s,r0);default:oops()}}}helpers_screenBrightness__P11845.info={start:7548,length:98,line:243,column:4,endLine:245,endColumn:5,fileName:\"pxt_modules/screen/image.ts\",functionName:\"screenBrightness\",argumentNames:[\"img\"]};function helpers_screenBrightness__P11845_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_screenBrightness__P11845,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function helpers_arrayConcat__P11476(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.out___20695=undefined;s.value___20698=undefined;s.unnamed108___U2=undefined;s.unnamed109___U3=undefined;s.value___20705=undefined;s.unnamed110___U5=undefined;s.unnamed111___U6=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__mk();s.out___20695=r0;s.value___20698=undefined;s.value___20698=undefined;s.unnamed108___U2=s.arg0;s.unnamed109___U3=0;case 1:s.tmp_0=r0=s.unnamed109___U3;r0=pxsim_Array__length(s.unnamed108___U2);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=2;continue}r0=pxsim_Array__getAt(s.unnamed108___U2,s.unnamed109___U3);s.value___20698=r0;r0=pxsim_Array__push(s.out___20695,s.value___20698);r0=s.unnamed109___U3+1;s.unnamed109___U3=r0;{step=1;continue}case 2:s.unnamed108___U2=undefined;s.value___20705=undefined;s.value___20705=undefined;s.unnamed110___U5=s.arg1;s.unnamed111___U6=0;case 3:s.tmp_0=r0=s.unnamed111___U6;r0=pxsim_Array__length(s.unnamed110___U5);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=4;continue}r0=pxsim_Array__getAt(s.unnamed110___U5,s.unnamed111___U6);s.value___20705=r0;r0=pxsim_Array__push(s.out___20695,s.value___20705);r0=s.unnamed111___U6+1;s.unnamed111___U6=r0;{step=3;continue}case 4:s.unnamed110___U5=undefined;r0=s.out___20695;return leave(s,r0);default:oops()}}}helpers_arrayConcat__P11476.info={start:5886,length:264,line:192,column:4,endLine:201,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayConcat\",argumentNames:[\"arr\",\"otherArr\"]};function helpers_arrayConcat__P11476_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayConcat__P11476,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,out___20695:undefined,value___20698:undefined,unnamed108___U2:undefined,unnamed109___U3:undefined,value___20705:undefined,unnamed110___U5:undefined,unnamed111___U6:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_PauseMenu_constructor__P12606(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=s.arg0.fields[\"generator\"]=s.arg1;s.tmp_0=r0=s.arg2;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_1=scene_systemMenu_buildMenuTheme__P12617_mk(s);r0=pxsim_ImageMethods.width(globals.CARD_NORMAL___12628);s.tmp_1.arg0=r0;s.tmp_1.arg1=6;s.tmp_1.arg2=undefined;s.tmp_1.arg3=undefined;s.pc=3;return s.tmp_1;case 3:r0=s.retval;case 2:s.tmp_2=r0;r0=s.arg0.fields[\"theme\"]=s.tmp_2;r0=s.arg0.fields[\"scrollRow\"]=0;r0=s.arg0.fields[\"scrollOffset\"]=0;r0=s.arg0.fields[\"scrollTarget\"]=0;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_constructor__P12606.info={start:3029,length:257,line:116,column:8,endLine:121,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[\"this\",\"generator\",\"theme\"]};function scene_systemMenu_PauseMenu_constructor__P12606_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_constructor__P12606,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function scene_systemMenu_buildMenuTheme__P12617(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.cardsPerRow___21048=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_0=r0;r0=s.arg0+s.arg1;s.tmp_1=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.tmp_1);s.cardsPerRow___21048=r0;s.tmp_0=r0=s.arg2;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=globals.font8___11848;case 2:s.tmp_1=r0;s.arg2=s.tmp_1;s.tmp_0=r0=s.arg3;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:s.tmp_1=image_doubledFont__P11851_mk(s);s.tmp_1.arg0=s.arg2;s.pc=5;return s.tmp_1;case 5:r0=s.retval;case 4:s.tmp_2=r0;s.arg3=s.tmp_2;r0=pxsim_pxtrt.mkMap();s.tmp_0=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"cardSpacing\",s.arg1);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"cardWidth\",s.arg0);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"cardsPerRow\",s.cardsPerRow___21048);r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_3=r0;r0=s.cardsPerRow___21048*s.arg0;s.tmp_5=r0;r0=s.cardsPerRow___21048-1;s.tmp_7=r0;r0=s.tmp_7*s.arg1;s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"padding\",s.tmp_1);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"infoFont\",s.arg2);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"headerFont\",s.arg3);s.tmp_11=if_charHeight_1_mk(s);s.tmp_11.arg0=s.arg3;if(!s.tmp_11.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_11.arg0,\"charHeight\")}else{s.tmp_11.fn=s.tmp_11.arg0.vtable.iface[\"charHeight\"];if(s.tmp_11.fn==null){s.retval=s.tmp_11.arg0.fields[\"charHeight\"]}else{s.pc=6;return s.tmp_11}}case 6:r0=s.retval;s.tmp_10=r0;r0=s.tmp_10+2;s.tmp_9=r0;r0=s.tmp_9+s.arg1;s.tmp_8=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"cardsTop\",s.tmp_8);r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_14=r0;s.tmp_16=if_charHeight_1_mk(s);s.tmp_16.arg0=s.arg2;if(!s.tmp_16.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_16.arg0,\"charHeight\")}else{s.tmp_16.fn=s.tmp_16.arg0.vtable.iface[\"charHeight\"];if(s.tmp_16.fn==null){s.retval=s.tmp_16.arg0.fields[\"charHeight\"]}else{s.pc=7;return s.tmp_16}}case 7:r0=s.retval;s.tmp_15=r0;r0=s.tmp_14-s.tmp_15;s.tmp_13=r0;r0=s.tmp_13-2;s.tmp_12=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"infoTop\",s.tmp_12);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"headerText\",\"PAUSED\");r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"selectedCard\",globals.CARD_SELECTED___12631);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"activeCard\",globals.CARD_ACTIVE___12634);r0=pxsim_pxtrt.mapSetByString(s.tmp_0,\"basicCard\",globals.CARD_NORMAL___12628);r0=s.tmp_0;return leave(s,r0);default:oops()}}}scene_systemMenu_buildMenuTheme__P12617.info={start:10973,length:906,line:339,column:4,endLine:358,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"buildMenuTheme\",argumentNames:[\"cardWidth\",\"cardSpacing\",\"infoFont\",\"headerFont\"]};function scene_systemMenu_buildMenuTheme__P12617_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_buildMenuTheme__P12617,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,cardsPerRow___21048:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function image_doubledFont__P11851(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=image_scaledFont__P11852_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=2;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}image_doubledFont__P11851.info={start:12008,length:82,line:146,column:4,endLine:148,endColumn:5,fileName:\"pxt_modules/screen/text.ts\",functionName:\"doubledFont\",argumentNames:[\"f\"]};function image_doubledFont__P11851_mk(s){checkStack(s.depth);return{parent:s,fn:image_doubledFont__P11851,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function image_scaledFont__P11852(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg1|0;s.arg1=r0;r0=s.arg1<2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=5;continue}case 1:case 2:r0=pxsim_pxtrt.mkMap();s.tmp_1=r0;s.tmp_4=if_charWidth_1_mk(s);s.tmp_4.arg0=s.arg0;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"charWidth\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"charWidth\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"charWidth\"]}else{s.pc=6;return s.tmp_4}}case 6:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3*s.arg1;s.tmp_2=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_1,\"charWidth\",s.tmp_2);s.tmp_7=if_charHeight_1_mk(s);s.tmp_7.arg0=s.arg0;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"charHeight\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"charHeight\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"charHeight\"]}else{s.pc=7;return s.tmp_7}}case 7:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6*s.arg1;s.tmp_5=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_1,\"charHeight\",s.tmp_5);s.tmp_9=if_data_1_mk(s);s.tmp_9.arg0=s.arg0;if(!s.tmp_9.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_9.arg0,\"data\")}else{s.tmp_9.fn=s.tmp_9.arg0.vtable.iface[\"data\"];if(s.tmp_9.fn==null){s.retval=s.tmp_9.arg0.fields[\"data\"]}else{s.pc=8;return s.tmp_9}}case 8:r0=s.retval;s.tmp_8=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_1,\"data\",s.tmp_8);s.tmp_11=if_multiplier_1_mk(s);s.tmp_11.arg0=s.arg0;if(!s.tmp_11.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_11.arg0,\"multiplier\")}else{s.tmp_11.fn=s.tmp_11.arg0.vtable.iface[\"multiplier\"];if(s.tmp_11.fn==null){s.retval=s.tmp_11.arg0.fields[\"multiplier\"]}else{s.pc=9;return s.tmp_11}}case 9:r0=s.retval;s.tmp_10=r0;r0=pxsim_numops_toBoolDecr(s.tmp_10);if(!r0){step=3;continue}s.tmp_12=r0=s.arg1;s.tmp_14=if_multiplier_1_mk(s);s.tmp_14.arg0=s.arg0;if(!s.tmp_14.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_14.arg0,\"multiplier\")}else{s.tmp_14.fn=s.tmp_14.arg0.vtable.iface[\"multiplier\"];if(s.tmp_14.fn==null){s.retval=s.tmp_14.arg0.fields[\"multiplier\"]}else{s.pc=10;return s.tmp_14}}case 10:r0=s.retval;s.tmp_13=r0;r0=s.tmp_12*s.tmp_13;{step=4;continue}case 3:r0=s.arg1;case 4:s.tmp_15=r0;r0=pxsim_pxtrt.mapSetByString(s.tmp_1,\"multiplier\",s.tmp_15);r0=s.tmp_1;case 5:return leave(s,r0);default:oops()}}}image_scaledFont__P11852.info={start:12096,length:331,line:150,column:4,endLine:160,endColumn:5,fileName:\"pxt_modules/screen/text.ts\",functionName:\"scaledFont\",argumentNames:[\"f\",\"size\"]};function image_scaledFont__P11852_mk(s){checkStack(s.depth);return{parent:s,fn:image_scaledFont__P11852,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_PauseMenu_show__P12600(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.current___19796=undefined;s.i___19797=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);s.tmp_0=r0=s.arg0;s.tmp_2=lambda_1_mk(s);r0=s.arg0.fields[\"generator\"];s.tmp_2.argL=r0;setupLambda(s.tmp_2,s.tmp_2.argL);s.pc=3;return s.tmp_2;case 3:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"options\"]=s.tmp_1;r0=s.arg0.fields[\"selection\"]=0;s.i___19797=0;case 1:s.tmp_1=r0=s.i___19797;r0=s.arg0.fields[\"options\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}r0=s.arg0.fields[\"options\"];s.tmp_4=r0;r0=pxsim_Array__getAt(s.tmp_4,s.i___19797);s.current___19796=r0;s.tmp_0=scene_systemMenu_MenuOption_show__P12591_mk(s);s.tmp_0.arg0=s.current___19796;s.pc=4;return s.tmp_0;case 4:r0=s.retval;s.tmp_0=scene_systemMenu_MenuOption_setTheme__P12594_mk(s);s.tmp_0.arg0=s.current___19796;r0=s.arg0.fields[\"theme\"];s.tmp_0.arg1=r0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=scene_systemMenu_MenuOption_position__P12592_mk(s);s.tmp_0.arg0=s.current___19796;s.tmp_2=if_padding_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"padding\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"padding\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"padding\"]}else{s.pc=7;return s.tmp_2}}case 7:r0=s.retval;s.tmp_1=r0;s.tmp_5=r0=s.i___19797;s.tmp_7=if_cardsPerRow_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_7.arg0=r0;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"cardsPerRow\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"cardsPerRow\"]}else{s.pc=8;return s.tmp_7}}case 8:r0=s.retval;s.tmp_6=r0;r0=s.tmp_5%s.tmp_6;s.tmp_4=r0;s.tmp_10=if_cardWidth_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_10.arg0=r0;if(!s.tmp_10.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_10.arg0,\"cardWidth\")}else{s.tmp_10.fn=s.tmp_10.arg0.vtable.iface[\"cardWidth\"];if(s.tmp_10.fn==null){s.retval=s.tmp_10.arg0.fields[\"cardWidth\"]}else{s.pc=9;return s.tmp_10}}case 9:r0=s.retval;s.tmp_9=r0;s.tmp_12=if_cardSpacing_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_12.arg0=r0;if(!s.tmp_12.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_12.arg0,\"cardSpacing\")}else{s.tmp_12.fn=s.tmp_12.arg0.vtable.iface[\"cardSpacing\"];if(s.tmp_12.fn==null){s.retval=s.tmp_12.arg0.fields[\"cardSpacing\"]}else{s.pc=10;return s.tmp_12}}case 10:r0=s.retval;s.tmp_11=r0;r0=s.tmp_9+s.tmp_11;s.tmp_8=r0;r0=s.tmp_4*s.tmp_8;s.tmp_3=r0;r0=s.tmp_1+s.tmp_3;s.tmp_0.arg1=r0;s.tmp_14=if_cardsTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_14.arg0=r0;if(!s.tmp_14.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_14.arg0,\"cardsTop\")}else{s.tmp_14.fn=s.tmp_14.arg0.vtable.iface[\"cardsTop\"];if(s.tmp_14.fn==null){s.retval=s.tmp_14.arg0.fields[\"cardsTop\"]}else{s.pc=11;return s.tmp_14}}case 11:r0=s.retval;s.tmp_13=r0;s.tmp_17=r0=s.i___19797;s.tmp_19=if_cardsPerRow_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_19.arg0=r0;if(!s.tmp_19.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_19.arg0,\"cardsPerRow\")}else{s.tmp_19.fn=s.tmp_19.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_19.fn==null){s.retval=s.tmp_19.arg0.fields[\"cardsPerRow\"]}else{s.pc=12;return s.tmp_19}}case 12:r0=s.retval;s.tmp_18=r0;r0=pxsim.Math_.idiv(s.tmp_17,s.tmp_18);s.tmp_16=r0;s.tmp_22=if_cardWidth_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_22.arg0=r0;if(!s.tmp_22.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_22.arg0,\"cardWidth\")}else{s.tmp_22.fn=s.tmp_22.arg0.vtable.iface[\"cardWidth\"];if(s.tmp_22.fn==null){s.retval=s.tmp_22.arg0.fields[\"cardWidth\"]}else{s.pc=13;return s.tmp_22}}case 13:r0=s.retval;s.tmp_21=r0;s.tmp_24=if_cardSpacing_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_24.arg0=r0;if(!s.tmp_24.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_24.arg0,\"cardSpacing\")}else{s.tmp_24.fn=s.tmp_24.arg0.vtable.iface[\"cardSpacing\"];if(s.tmp_24.fn==null){s.retval=s.tmp_24.arg0.fields[\"cardSpacing\"]}else{s.pc=14;return s.tmp_24}}case 14:r0=s.retval;s.tmp_23=r0;r0=s.tmp_21+s.tmp_23;s.tmp_20=r0;r0=s.tmp_16*s.tmp_20;s.tmp_15=r0;r0=s.tmp_13+s.tmp_15;s.tmp_0.arg2=r0;s.pc=6;return s.tmp_0;case 6:r0=s.retval;r0=s.i___19797+1;s.i___19797=r0;{step=1;continue}case 2:s.tmp_0=controller__setUserEventsEnabled__P12010_mk(s);s.tmp_0.arg0=false;s.pc=15;return s.tmp_0;case 15:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19857);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.A___11949;s.tmp_1.arg1=2053;s.tmp_1.arg2=s.tmp_0;s.pc=16;return s.tmp_1;case 16:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19876);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.A___11949;s.tmp_1.arg1=2052;s.tmp_1.arg2=s.tmp_0;s.pc=17;return s.tmp_1;case 17:r0=s.retval;s.tmp_0=controller_Button_onEvent__P11967_mk(s);s.tmp_0.arg0=globals.B___11950;s.tmp_0.arg1=2053;s.tmp_0.arg2=inline__P19904;s.pc=18;return s.tmp_0;case 18:r0=s.retval;s.tmp_0=controller_Button_onEvent__P11967_mk(s);s.tmp_0.arg0=globals.menu___11955;s.tmp_0.arg1=2053;s.tmp_0.arg2=inline__P19909;s.pc=19;return s.tmp_0;case 19:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19914);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.up___11952;s.tmp_1.arg1=2053;s.tmp_1.arg2=s.tmp_0;s.pc=20;return s.tmp_1;case 20:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19925);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.left___11951;s.tmp_1.arg1=2053;s.tmp_1.arg2=s.tmp_0;s.pc=21;return s.tmp_1;case 21:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19933);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.down___11954;s.tmp_1.arg1=2053;s.tmp_1.arg2=s.tmp_0;s.pc=22;return s.tmp_1;case 22:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19947);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=controller_Button_onEvent__P11967_mk(s);s.tmp_1.arg0=globals.right___11953;s.tmp_1.arg1=2053;s.tmp_1.arg2=s.tmp_0;s.pc=23;return s.tmp_1;case 23:r0=s.retval;r0=pxsim_pxtcore_mkAction(1,inline__P19957);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=game_onShade__P12455_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=24;return s.tmp_1;case 24:r0=s.retval;s.tmp_0=scene_systemMenu_PauseMenu_setSelection__P12602_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=0;s.pc=25;return s.tmp_0;case 25:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_show__P12600.info={start:3296,length:2241,line:123,column:8,endLine:181,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"show\",argumentNames:[\"this\"]};function scene_systemMenu_PauseMenu_show__P12600_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_show__P12600,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,tmp_17:undefined,tmp_18:undefined,tmp_19:undefined,tmp_20:undefined,tmp_21:undefined,tmp_22:undefined,tmp_23:undefined,tmp_24:undefined,current___19796:undefined,i___19797:undefined,arg0:undefined}}function inline__P19857(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"options\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.caps[0].fields[\"options\"];s.tmp_5=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_6=r0;r0=pxsim_Array__getAt(s.tmp_5,s.tmp_6);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);case 2:s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:s.tmp_8=scene_systemMenu_MenuOption_setState__P12595_mk(s);r0=s.caps[0].fields[\"options\"];s.tmp_9=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_10=r0;r0=pxsim_Array__getAt(s.tmp_9,s.tmp_10);s.tmp_8.arg0=r0;s.tmp_8.arg1=1;s.pc=6;return s.tmp_8;case 6:r0=s.retval;case 5:r0=undefined;return leave(s,r0);default:oops()}}}inline__P19857.info={start:4025,length:170,line:140,column:50,endLine:143,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19857_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19857,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined}}function inline__P19876(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"options\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.caps[0].fields[\"options\"];s.tmp_5=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_6=r0;r0=pxsim_Array__getAt(s.tmp_5,s.tmp_6);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);case 2:s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=3;continue}{step=5;continue}case 3:case 4:s.tmp_8=scene_systemMenu_MenuOption_setState__P12595_mk(s);r0=s.caps[0].fields[\"options\"];s.tmp_9=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_10=r0;r0=pxsim_Array__getAt(s.tmp_9,s.tmp_10);s.tmp_8.arg0=r0;s.tmp_8.arg1=0;s.pc=6;return s.tmp_8;case 6:r0=s.retval;r0=s.caps[0].fields[\"options\"];s.tmp_1=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_1,s.tmp_2);r0=r0.fields[\"action\"];s.tmp_0=r0;r0=pxsim.control.runInParallel(s.tmp_0);case 5:r0=undefined;return leave(s,r0);default:oops()}}}inline__P19876.info={start:4247,length:247,line:145,column:48,endLine:149,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19876_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19876,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined}}function inline__P19904(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_closeMenu__P12615_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19904.info={start:4548,length:50,line:151,column:50,endLine:153,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19904_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19904,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P19909(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_closeMenu__P12615_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19909.info={start:4655,length:50,line:155,column:53,endLine:157,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19909_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19909,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P19914(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_PauseMenu_setSelection__P12602_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_1=Math_max__P11486_mk(s);s.tmp_1.arg0=0;r0=s.caps[0].fields[\"selection\"];s.tmp_2=r0;s.tmp_4=if_cardsPerRow_1_mk(s);r0=s.caps[0].fields[\"theme\"];s.tmp_4.arg0=r0;if(!s.tmp_4.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_4.arg0,\"cardsPerRow\")}else{s.tmp_4.fn=s.tmp_4.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_4.fn==null){s.retval=s.tmp_4.arg0.fields[\"cardsPerRow\"]}else{s.pc=3;return s.tmp_4}}case 3:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2-s.tmp_3;s.tmp_1.arg1=r0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19914.info={start:4760,length:110,line:159,column:51,endLine:161,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19914_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19914,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function inline__P19925(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_PauseMenu_setSelection__P12602_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_1=Math_max__P11486_mk(s);s.tmp_1.arg0=0;r0=s.caps[0].fields[\"selection\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1.arg1=r0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19925.info={start:4927,length:89,line:163,column:53,endLine:165,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19925_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19925,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function inline__P19933(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_PauseMenu_setSelection__P12602_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_1=Math_min__P11487_mk(s);r0=s.caps[0].fields[\"options\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1.arg0=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_4=r0;s.tmp_6=if_cardsPerRow_1_mk(s);r0=s.caps[0].fields[\"theme\"];s.tmp_6.arg0=r0;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"cardsPerRow\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"cardsPerRow\"]}else{s.pc=3;return s.tmp_6}}case 3:r0=s.retval;s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.tmp_1.arg1=r0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19933.info={start:5073,length:132,line:167,column:53,endLine:169,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19933_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19933,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined}}function inline__P19947(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_PauseMenu_setSelection__P12602_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_1=Math_min__P11487_mk(s);r0=s.caps[0].fields[\"options\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1.arg0=r0;r0=s.caps[0].fields[\"selection\"];s.tmp_4=r0;r0=s.tmp_4+1;s.tmp_1.arg1=r0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19947.info={start:5263,length:111,line:171,column:54,endLine:173,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19947_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19947,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined}}function inline__P19957(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=scene_systemMenu_PauseMenu_onUpdate__P12601_mk(s);s.tmp_0.arg0=s.caps[0];s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=scene_systemMenu_PauseMenu_drawText__P12603_mk(s);s.tmp_0.arg0=s.caps[0];s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P19957.info={start:5403,length:87,line:175,column:25,endLine:178,endColumn:13,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"inline\",argumentNames:[]};function inline__P19957_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P19957,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function scene_systemMenu_PauseMenu_drawText__P12603(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=s.arg0.fields[\"options\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_3=helpers_imageFillRect__P11836_mk(s);s.tmp_3.arg0=globals.screen___11888;s.tmp_3.arg1=0;s.tmp_3.arg2=0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_3.arg3=r0;s.tmp_5=if_cardsTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_5.arg0=r0;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"cardsTop\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"cardsTop\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"cardsTop\"]}else{s.pc=5;return s.tmp_5}}case 5:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4-2;s.tmp_3.arg4=r0;s.tmp_3.arg5=15;s.pc=4;return s.tmp_3;case 4:r0=s.retval;s.tmp_0=helpers_imagePrintCenter__P11856_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_1=if_headerText_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"headerText\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"headerText\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"headerText\"]}else{s.pc=7;return s.tmp_1}}case 7:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_0.arg2=2;s.tmp_0.arg3=1;s.tmp_2=if_headerFont_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"headerFont\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"headerFont\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"headerFont\"]}else{s.pc=8;return s.tmp_2}}case 8:r0=s.retval;s.tmp_0.arg4=r0;s.pc=6;return s.tmp_0;case 6:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=0;s.tmp_2=if_infoTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"infoTop\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"infoTop\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"infoTop\"]}else{s.pc=10;return s.tmp_2}}case 10:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1-3;s.tmp_0.arg2=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_0.arg3=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_4=r0;s.tmp_6=if_infoTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_6.arg0=r0;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"infoTop\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"infoTop\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"infoTop\"]}else{s.pc=11;return s.tmp_6}}case 11:r0=s.retval;s.tmp_5=r0;r0=s.tmp_4-s.tmp_5;s.tmp_3=r0;r0=s.tmp_3+6;s.tmp_0.arg4=r0;s.tmp_0.arg5=15;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.tmp_0=helpers_imageFillRect__P11836_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_1=if_padding_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"padding\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"padding\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"padding\"]}else{s.pc=13;return s.tmp_1}}case 13:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_2=if_infoTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"infoTop\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"infoTop\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"infoTop\"]}else{s.pc=14;return s.tmp_2}}case 14:r0=s.retval;s.tmp_0.arg2=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_3=r0;s.tmp_6=if_padding_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_6.arg0=r0;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"padding\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"padding\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"padding\"]}else{s.pc=15;return s.tmp_6}}case 15:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5<<1;s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;s.tmp_0.arg3=r0;s.tmp_8=if_charHeight_1_mk(s);s.tmp_9=if_infoFont_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_9.arg0=r0;if(!s.tmp_9.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_9.arg0,\"infoFont\")}else{s.tmp_9.fn=s.tmp_9.arg0.vtable.iface[\"infoFont\"];if(s.tmp_9.fn==null){s.retval=s.tmp_9.arg0.fields[\"infoFont\"]}else{s.pc=17;return s.tmp_9}}case 17:r0=s.retval;s.tmp_8.arg0=r0;if(!s.tmp_8.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_8.arg0,\"charHeight\")}else{s.tmp_8.fn=s.tmp_8.arg0.vtable.iface[\"charHeight\"];if(s.tmp_8.fn==null){s.retval=s.tmp_8.arg0.fields[\"charHeight\"]}else{s.pc=16;return s.tmp_8}}case 16:r0=s.retval;s.tmp_7=r0;r0=s.tmp_7+1;s.tmp_0.arg4=r0;s.tmp_0.arg5=1;s.pc=12;return s.tmp_0;case 12:r0=s.retval;s.tmp_0=helpers_imagePrintCenter__P11856_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_1=lambda_1_mk(s);r0=s.arg0.fields[\"options\"];s.tmp_2=r0;r0=s.arg0.fields[\"selection\"];s.tmp_3=r0;r0=pxsim_Array__getAt(s.tmp_2,s.tmp_3);r0=r0.fields[\"getText\"];s.tmp_1.argL=r0;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=19;return s.tmp_1;case 19:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_5=if_infoTop_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_5.arg0=r0;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"infoTop\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"infoTop\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"infoTop\"]}else{s.pc=20;return s.tmp_5}}case 20:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4+1;s.tmp_0.arg2=r0;s.tmp_0.arg3=15;s.tmp_6=if_infoFont_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_6.arg0=r0;if(!s.tmp_6.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_6.arg0,\"infoFont\")}else{s.tmp_6.fn=s.tmp_6.arg0.vtable.iface[\"infoFont\"];if(s.tmp_6.fn==null){s.retval=s.tmp_6.arg0.fields[\"infoFont\"]}else{s.pc=21;return s.tmp_6}}case 21:r0=s.retval;s.tmp_0.arg4=r0;s.pc=18;return s.tmp_0;case 18:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_drawText__P12603.info={start:6927,length:795,line:224,column:8,endLine:241,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"drawText\",argumentNames:[\"this\"]};function scene_systemMenu_PauseMenu_drawText__P12603_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_drawText__P12603,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,arg0:undefined}}function scene_systemMenu_PauseMenu_setSelection__P12602(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=s.arg0.fields[\"options\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=9;continue}case 1:case 2:r0=s.arg0.fields[\"options\"];s.tmp_4=r0;r0=s.arg0.fields[\"selection\"];s.tmp_5=r0;r0=pxsim_Array__getAt(s.tmp_4,s.tmp_5);s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}s.tmp_6=scene_systemMenu_MenuOption_setState__P12595_mk(s);r0=s.arg0.fields[\"options\"];s.tmp_7=r0;r0=s.arg0.fields[\"selection\"];s.tmp_8=r0;r0=pxsim_Array__getAt(s.tmp_7,s.tmp_8);s.tmp_6.arg0=r0;s.tmp_6.arg1=2;s.pc=10;return s.tmp_6;case 10:r0=s.retval;case 3:case 4:r0=s.arg0.fields[\"selection\"]=s.arg1;r0=s.arg0.fields[\"options\"];s.tmp_1=r0;r0=s.arg0.fields[\"selection\"];s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_1,s.tmp_2);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=globals.A___11949.fields[\"_pressed\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}r0=1;{step=6;continue}case 5:r0=0;case 6:s.tmp_4=r0;s.tmp_5=scene_systemMenu_MenuOption_setState__P12595_mk(s);r0=s.arg0.fields[\"options\"];s.tmp_6=r0;r0=s.arg0.fields[\"selection\"];s.tmp_7=r0;r0=pxsim_Array__getAt(s.tmp_6,s.tmp_7);s.tmp_5.arg0=r0;s.tmp_5.arg1=s.tmp_4;s.pc=11;return s.tmp_5;case 11:r0=s.retval;case 7:case 8:s.tmp_0=scene_systemMenu_PauseMenu_updateScrollTarget__P12605_mk(s);s.tmp_0.arg0=s.arg0;s.pc=12;return s.tmp_0;case 12:r0=s.retval;case 9:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_setSelection__P12602.info={start:6436,length:481,line:208,column:8,endLine:222,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"setSelection\",argumentNames:[\"this\",\"selection\"]};function scene_systemMenu_PauseMenu_setSelection__P12602_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_setSelection__P12602,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_PauseMenu_updateScrollTarget__P12605(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.row___20151=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=s.arg0.fields[\"selection\"];s.tmp_0=r0;s.tmp_2=if_cardsPerRow_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_2.arg0=r0;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"cardsPerRow\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"cardsPerRow\"]}else{s.pc=8;return s.tmp_2}}case 8:r0=s.retval;s.tmp_1=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.tmp_1);s.row___20151=r0;r0=s.arg0.fields[\"scrollRow\"];s.tmp_1=r0;r0=s.row___20151===s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.row___20151-1;s.tmp_2=r0;r0=s.arg0.fields[\"scrollRow\"];s.tmp_3=r0;r0=s.tmp_2===s.tmp_3;case 2:s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=3;continue}{step=7;continue}case 3:case 4:r0=s.arg0.fields[\"scrollRow\"];s.tmp_6=r0;r0=s.row___20151>s.tmp_6;s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=5;continue}s.tmp_7=r0=s.arg0;r0=s.tmp_7.fields[\"scrollRow\"];s.tmp_9=r0;r0=s.tmp_9+1;s.tmp_8=r0;r0=s.tmp_7.fields[\"scrollRow\"]=s.tmp_8;{step=6;continue}case 5:s.tmp_0=r0=s.arg0;r0=s.tmp_0.fields[\"scrollRow\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=s.tmp_0.fields[\"scrollRow\"]=s.tmp_1;case 6:s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"scrollRow\"];s.tmp_2=r0;s.tmp_5=if_cardSpacing_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_5.arg0=r0;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"cardSpacing\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"cardSpacing\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"cardSpacing\"]}else{s.pc=9;return s.tmp_5}}case 9:r0=s.retval;s.tmp_4=r0;s.tmp_7=if_cardWidth_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_7.arg0=r0;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"cardWidth\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"cardWidth\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"cardWidth\"]}else{s.pc=10;return s.tmp_7}}case 10:r0=s.retval;s.tmp_6=r0;r0=s.tmp_4+s.tmp_6;s.tmp_3=r0;r0=s.tmp_2*s.tmp_3;s.tmp_1=r0;r0=s.tmp_0.fields[\"scrollTarget\"]=s.tmp_1;case 7:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_updateScrollTarget__P12605.info={start:7907,length:458,line:250,column:8,endLine:260,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"updateScrollTarget\",argumentNames:[\"this\"]};function scene_systemMenu_PauseMenu_updateScrollTarget__P12605_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_updateScrollTarget__P12605,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,row___20151:undefined,arg0:undefined}}function scene_systemMenu_PauseMenu_onUpdate__P12601(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.t___20032=undefined;s.i___20035=undefined;s.dt___20055=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_PauseMenu__C12599_VT))failedCast(r0);r0=pxsim.control.millis();s.tmp_0=r0;r0=s.tmp_0/250;s.t___20032=r0;s.i___20035=0;case 1:s.tmp_1=r0=s.i___20035;r0=s.arg0.fields[\"options\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_4=scene_systemMenu_MenuOption_setOffset__P12593_mk(s);r0=s.arg0.fields[\"options\"];s.tmp_5=r0;r0=pxsim_Array__getAt(s.tmp_5,s.i___20035);s.tmp_4.arg0=r0;s.tmp_8=r0=s.t___20032;s.tmp_11=r0=s.i___20035;s.tmp_13=if_cardsPerRow_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_13.arg0=r0;if(!s.tmp_13.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_13.arg0,\"cardsPerRow\")}else{s.tmp_13.fn=s.tmp_13.arg0.vtable.iface[\"cardsPerRow\"];if(s.tmp_13.fn==null){s.retval=s.tmp_13.arg0.fields[\"cardsPerRow\"]}else{s.pc=11;return s.tmp_13}}case 11:r0=s.retval;s.tmp_12=r0;r0=s.tmp_11%s.tmp_12;s.tmp_10=r0;r0=3.141592653589793/2;s.tmp_14=r0;r0=s.tmp_10*s.tmp_14;s.tmp_9=r0;r0=s.tmp_8-s.tmp_9;s.tmp_7=r0;r0=pxsim.Math_.sin(s.tmp_7);s.tmp_6=r0;r0=2*s.tmp_6;s.tmp_4.arg1=r0;s.pc=10;return s.tmp_4;case 10:r0=s.retval;r0=s.i___20035+1;s.i___20035=r0;{step=1;continue}case 2:s.tmp_1=game_currentScene__P12194_mk(s);s.pc=12;return s.tmp_1;case 12:r0=s.retval;r0=r0.fields[\"eventContext\"];s.tmp_0=r0;r0=s.tmp_0.fields[\"deltaTimeMillis\"];s.tmp_2=r0;r0=s.tmp_2/1e3;s.dt___20055=r0;r0=s.arg0.fields[\"scrollOffset\"];s.tmp_1=r0;r0=s.arg0.fields[\"scrollTarget\"];s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_3=r0=s.arg0;r0=s.tmp_3.fields[\"scrollOffset\"];s.tmp_5=r0;r0=s.dt___20055*100;s.tmp_6=r0;r0=s.tmp_5+s.tmp_6;s.tmp_4=r0;r0=s.tmp_3.fields[\"scrollOffset\"]=s.tmp_4;{step=6;continue}case 3:r0=s.arg0.fields[\"scrollOffset\"];s.tmp_1=r0;r0=s.arg0.fields[\"scrollTarget\"];s.tmp_2=r0;r0=s.tmp_1>s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_3=r0=s.arg0;r0=s.tmp_3.fields[\"scrollOffset\"];s.tmp_5=r0;r0=s.dt___20055*100;s.tmp_6=r0;r0=s.tmp_5-s.tmp_6;s.tmp_4=r0;r0=s.tmp_3.fields[\"scrollOffset\"]=s.tmp_4;{step=5;continue}case 4:{step=9;continue}case 5:case 6:s.tmp_2=Math_abs__P11484_mk(s);r0=s.arg0.fields[\"scrollOffset\"];s.tmp_3=r0;r0=s.arg0.fields[\"scrollTarget\"];s.tmp_4=r0;r0=s.tmp_3-s.tmp_4;s.tmp_2.arg0=r0;s.pc=13;return s.tmp_2;case 13:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1<2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=s.arg0.fields[\"scrollTarget\"];s.tmp_5=r0;r0=s.arg0.fields[\"scrollOffset\"]=s.tmp_5;case 7:case 8:s.tmp_1=game_currentScene__P12194_mk(s);s.pc=14;return s.tmp_1;case 14:r0=s.retval;r0=r0.fields[\"camera\"];s.tmp_0=r0;r0=s.arg0.fields[\"scrollOffset\"];s.tmp_2=r0;r0=s.tmp_0.fields[\"offsetY\"]=s.tmp_2;case 9:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_PauseMenu_onUpdate__P12601.info={start:5547,length:879,line:183,column:8,endLine:206,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"onUpdate\",argumentNames:[\"this\"]};function scene_systemMenu_PauseMenu_onUpdate__P12601_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_PauseMenu_onUpdate__P12601,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,t___20032:undefined,i___20035:undefined,dt___20055:undefined,arg0:undefined}}function scene_systemMenu_MenuOption_setOffset__P12593(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);s.tmp_0=Sprite_top__P12060_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"top\"];s.tmp_1=r0;r0=s.tmp_1+s.arg1;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=Sprite_y__P12036_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_1=Sprite_y__P12035_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0.arg1=r0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_setOffset__P12593.info={start:1411,length:123,line:61,column:8,endLine:64,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"setOffset\",argumentNames:[\"this\",\"offset\"]};function scene_systemMenu_MenuOption_setOffset__P12593_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_setOffset__P12593,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_MenuOption_setState__P12595(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"state\"];s.tmp_1=r0;r0=s.tmp_1===s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:r0=s.arg0.fields[\"state\"]=s.arg1;s.tmp_0=scene_systemMenu_MenuOption_updateCard__P12597_mk(s);s.tmp_0.arg0=s.arg0;s.pc=4;return s.tmp_0;case 4:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_setState__P12595.info={start:1655,length:147,line:71,column:8,endLine:75,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"setState\",argumentNames:[\"this\",\"state\"]};function scene_systemMenu_MenuOption_setState__P12595_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_setState__P12595,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_MenuOption_updateCard__P12597(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"theme\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:r0=s.arg0.fields[\"state\"];s.tmp_3=r0;r0=pxsim_pxtcore.switch_eq(2,s.tmp_3);if(r0){step=3;continue}r0=pxsim_pxtcore.switch_eq(0,s.tmp_3);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(1,s.tmp_3);if(r0){step=5;continue}r0=s.tmp_3;{step=6;continue}case 3:s.tmp_4=Sprite_setImage__P12049_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_4.arg0=r0;s.tmp_5=if_basicCard_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_5.arg0=r0;if(!s.tmp_5.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_5.arg0,\"basicCard\")}else{s.tmp_5.fn=s.tmp_5.arg0.vtable.iface[\"basicCard\"];if(s.tmp_5.fn==null){s.retval=s.tmp_5.arg0.fields[\"basicCard\"]}else{s.pc=9;return s.tmp_5}}case 9:r0=s.retval;s.tmp_4.arg1=r0;s.pc=8;return s.tmp_4;case 8:r0=s.retval;{step=6;continue}case 4:s.tmp_0=Sprite_setImage__P12049_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;s.tmp_1=if_selectedCard_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"selectedCard\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"selectedCard\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"selectedCard\"]}else{s.pc=11;return s.tmp_1}}case 11:r0=s.retval;s.tmp_0.arg1=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;{step=6;continue}case 5:s.tmp_0=Sprite_setImage__P12049_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;s.tmp_1=if_activeCard_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"activeCard\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"activeCard\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"activeCard\"]}else{s.pc=13;return s.tmp_1}}case 13:r0=s.retval;s.tmp_0.arg1=r0;s.pc=12;return s.tmp_0;case 12:r0=s.retval;case 6:s.tmp_0=Sprite_x__P12034_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_1=Sprite_x__P12033_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.pc=15;return s.tmp_1;case 15:r0=s.retval;s.tmp_0.arg1=r0;s.pc=14;return s.tmp_0;case 14:r0=s.retval;s.tmp_0=Sprite_y__P12036_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_1=Sprite_y__P12035_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.pc=17;return s.tmp_1;case 17:r0=s.retval;s.tmp_0.arg1=r0;s.pc=16;return s.tmp_0;case 16:r0=s.retval;case 7:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_updateCard__P12597.info={start:2038,length:497,line:86,column:8,endLine:97,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"updateCard\",argumentNames:[\"this\"]};function scene_systemMenu_MenuOption_updateCard__P12597_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_updateCard__P12597,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined}}function scene_systemMenu_MenuOption_setTheme__P12594(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"theme\"]=s.arg1;s.tmp_0=scene_systemMenu_MenuOption_updateCard__P12597_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_setTheme__P12594.info={start:1544,length:101,line:66,column:8,endLine:69,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"setTheme\",argumentNames:[\"this\",\"theme\"]};function scene_systemMenu_MenuOption_setTheme__P12594_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_setTheme__P12594,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function scene_systemMenu_MenuOption_position__P12592(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"top\"]=s.arg2;s.tmp_0=Sprite_left__P12056_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=Sprite_top__P12060_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg2;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=Sprite_x__P12034_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_1=Sprite_x__P12033_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.pc=4;return s.tmp_1;case 4:r0=s.retval;s.tmp_0.arg1=r0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.tmp_0=Sprite_y__P12036_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_1=Sprite_y__P12035_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_1.arg0=r0;s.pc=6;return s.tmp_1;case 6:r0=s.retval;s.tmp_0.arg1=r0;s.pc=5;return s.tmp_0;case 5:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_position__P12592.info={start:1178,length:223,line:51,column:8,endLine:59,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"position\",argumentNames:[\"this\",\"left\",\"top\"]};function scene_systemMenu_MenuOption_position__P12592_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_position__P12592,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function scene_systemMenu_MenuOption_show__P12591(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_systemMenu_MenuOption__C12590_VT))failedCast(r0);r0=s.arg0.fields[\"theme\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=if_basicCard_1_mk(s);r0=s.arg0.fields[\"theme\"];s.tmp_1.arg0=r0;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"basicCard\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"basicCard\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"basicCard\"]}else{s.pc=3;return s.tmp_1}}case 3:r0=s.retval;{step=2;continue}case 1:r0=globals.CARD_NORMAL___12628;case 2:s.tmp_2=r0;s.tmp_3=r0=s.arg0;s.tmp_5=sprites_create__P12026_mk(s);s.tmp_5.arg0=s.tmp_2;s.tmp_5.arg1=undefined;s.pc=4;return s.tmp_5;case 4:r0=s.retval;s.tmp_4=r0;r0=s.tmp_3.fields[\"card\"]=s.tmp_4;s.tmp_0=Sprite__C12031_v2_2_mk(s);r0=s.arg0.fields[\"card\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=1;if(!checkSubtype(s.tmp_0.arg0,Sprite__C12031_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=r0=s.arg0;s.tmp_2=sprites_create__P12026_mk(s);r0=s.arg0.fields[\"iconImage\"];s.tmp_2.arg0=r0;s.tmp_2.arg1=undefined;s.pc=6;return s.tmp_2;case 6:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"icon\"]=s.tmp_1;s.tmp_0=Sprite__C12031_v2_2_mk(s);r0=s.arg0.fields[\"icon\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=2;if(!checkSubtype(s.tmp_0.arg0,Sprite__C12031_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.z;s.pc=7;return s.tmp_0;case 7:r0=s.retval;r0=s.arg0.fields[\"state\"]=2;r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_MenuOption_show__P12591.info={start:904,length:264,line:41,column:8,endLine:49,endColumn:9,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"show\",argumentNames:[\"this\"]};function scene_systemMenu_MenuOption_show__P12591_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_MenuOption_show__P12591,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,arg0:undefined}}function game_onShade__P12455(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=game_init__P12442_mk(s);s.pc=4;return s.tmp_0;case 4:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=3;continue}case 1:case 2:s.tmp_2=scene_createRenderable__P12321_mk(s);s.tmp_2.arg0=80;s.tmp_2.arg1=s.arg0;s.tmp_2.arg2=undefined;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 3:r0=undefined;return leave(s,r0);default:oops()}}}game_onShade__P12455.info={start:9333,length:145,line:306,column:4,endLine:310,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"onShade\",argumentNames:[\"a\"]};function game_onShade__P12455_mk(s){checkStack(s.depth);return{parent:s,fn:game_onShade__P12455,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function scene_systemMenu_initVolume__P12622(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.vol___21111=undefined;s.tmp_0=settings_readNumber__P11924_mk(s);s.tmp_0.arg0=\"#volume\";s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.vol___21111=r0;r0=s.vol___21111!=null;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=music_setVolume__P11766_mk(s);s.tmp_1.arg0=s.vol___21111;s.pc=4;return s.tmp_1;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}scene_systemMenu_initVolume__P12622.info={start:12557,length:138,line:382,column:4,endLine:386,endColumn:5,fileName:\"pxt_modules/game/systemmenu.ts\",functionName:\"initVolume\",argumentNames:[]};function scene_systemMenu_initVolume__P12622_mk(s){checkStack(s.depth);return{parent:s,fn:scene_systemMenu_initVolume__P12622,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,vol___21111:undefined}}function game_currentScene__P12194(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=game_init__P12442_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=globals._scene___12433;return leave(s,r0);default:oops()}}}game_currentScene__P12194.info={start:667,length:90,line:22,column:4,endLine:25,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"currentScene\",argumentNames:[]};function game_currentScene__P12194_mk(s){checkStack(s.depth);return{parent:s,fn:game_currentScene__P12194,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function game_addScenePopHandler__P12190(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals._scenePopHandlers___12436);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals._scenePopHandlers___12436=r0;case 1:case 2:r0=pxsim_Array_.indexOf(globals._scenePopHandlers___12436,s.arg0,undefined);s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_Array__push(globals._scenePopHandlers___12436,s.arg0);case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}game_addScenePopHandler__P12190.info={start:11153,length:237,line:354,column:4,endLine:358,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"addScenePopHandler\",argumentNames:[\"handler\"]};function game_addScenePopHandler__P12190_mk(s){checkStack(s.depth);return{parent:s,fn:game_addScenePopHandler__P12190,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function game_addScenePushHandler__P12174(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(globals._scenePushHandlers___12435);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();globals._scenePushHandlers___12435=r0;case 1:case 2:r0=pxsim_Array_.indexOf(globals._scenePushHandlers___12435,s.arg0,undefined);s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_Array__push(globals._scenePushHandlers___12435,s.arg0);case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}game_addScenePushHandler__P12174.info={start:10152,length:242,line:330,column:4,endLine:334,endColumn:5,fileName:\"pxt_modules/game/game.ts\",functionName:\"addScenePushHandler\",argumentNames:[\"handler\"]};function game_addScenePushHandler__P12174_mk(s){checkStack(s.depth);return{parent:s,fn:game_addScenePushHandler__P12174,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function SpriteKind_create__P12116(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=globals.nextKind___12115===undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}globals.nextKind___12115=1e3;case 1:case 2:s.tmp_0=r0=globals.nextKind___12115;r0=s.tmp_0+1;globals.nextKind___12115=r0;r0=s.tmp_0;return leave(s,r0);default:oops()}}}SpriteKind_create__P12116.info={start:750,length:112,line:25,column:4,endLine:28,endColumn:5,fileName:\"pxt_modules/game/spritekind.ts\",functionName:\"create\",argumentNames:[]};function SpriteKind_create__P12116_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteKind_create__P12116,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function controller_Button_constructor__P11972(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=s.arg0.fields[\"id\"]=s.arg1;r0=s.arg0.fields[\"_buttonId\"]=s.arg2;r0=s.arg0.fields[\"_pressed\"]=false;r0=s.arg0.fields[\"repeatDelay\"]=undefined;r0=s.arg0.fields[\"repeatInterval\"]=undefined;r0=s.arg0.fields[\"_repeatCount\"]=0;r0=s.arg1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_pxtcore_mkAction(1,inline__P21197);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.arg0);r0=s.arg0.fields[\"id\"];s.tmp_2=r0;r0=pxsim.control.internalOnEvent(2050,s.tmp_2,s.tmp_1,16);r0=pxsim_pxtcore_mkAction(1,inline__P21204);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=s.arg0.fields[\"id\"];s.tmp_1=r0;r0=pxsim.control.internalOnEvent(2051,s.tmp_1,s.tmp_0,16);case 1:case 2:r0=s.arg2>-1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_pxtcore_mkAction(1,inline__P21213);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.arg0);r0=pxsim.control.internalOnEvent(s.arg2,2,s.tmp_1,16);r0=pxsim_pxtcore_mkAction(1,inline__P21224);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim.control.internalOnEvent(s.arg2,1,s.tmp_0,16);case 3:case 4:return leave(s,r0);default:oops()}}}controller_Button_constructor__P11972.info={start:1354,length:1205,line:60,column:8,endLine:79,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[\"this\",\"id\",\"buttonId\"]};function controller_Button_constructor__P11972_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_constructor__P11972,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P21197(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=controller_Button_setPressed__P11970_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_0.arg1=false;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P21197.info={start:2015,length:28,line:71,column:66,endLine:71,endColumn:94,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[]};function inline__P21197_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21197,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P21204(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_0=controller_Button_setPressed__P11970_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_0.arg1=true;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P21204.info={start:2117,length:27,line:72,column:68,endLine:72,endColumn:95,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[]};function inline__P21204_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21204,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P21213(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2050,s.tmp_0);r0=undefined;return leave(s,r0);default:oops()}}}inline__P21213.info={start:2344,length:50,line:76,column:76,endLine:76,endColumn:126,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[]};function inline__P21213_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21213,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function inline__P21224(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2051,s.tmp_0);r0=undefined;return leave(s,r0);default:oops()}}}inline__P21224.info={start:2478,length:52,line:77,column:78,endLine:77,endColumn:130,fileName:\"pxt_modules/game/controller.ts\",functionName:\"inline\",argumentNames:[]};function inline__P21224_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21224,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function controller_Button_setPressed__P11970(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=s.arg0.fields[\"_pressed\"];s.tmp_1=r0;r0=s.tmp_1!=s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_2=power_poke__P11817_mk(s);s.pc=7;return s.tmp_2;case 7:r0=s.retval;r0=s.arg0.fields[\"_owner\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=controller_Controller_connected__P11998_mk(s);r0=s.arg0.fields[\"_owner\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=true;s.pc=8;return s.tmp_1;case 8:r0=s.retval;case 1:case 2:r0=s.arg0.fields[\"_pressed\"]=s.arg1;r0=s.arg0.fields[\"_pressed\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.arg0.fields[\"_pressedElasped\"]=0;s.tmp_0=controller_Button_raiseButtonDown__P11965_mk(s);s.tmp_0.arg0=s.arg0;s.pc=9;return s.tmp_0;case 9:r0=s.retval;{step=4;continue}case 3:r0=s.arg0.fields[\"_repeatCount\"]=0;s.tmp_0=controller_Button_raiseButtonUp__P11964_mk(s);s.tmp_0.arg0=s.arg0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;case 4:case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}controller_Button_setPressed__P11970.info={start:4302,length:507,line:132,column:8,endLine:146,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"setPressed\",argumentNames:[\"this\",\"pressed\"]};function controller_Button_setPressed__P11970_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_setPressed__P11970,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function controller_Controller_connected__P11998(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"_connected\"];s.tmp_1=r0;r0=s.arg1!=s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=s.arg0.fields[\"_connected\"]=s.arg1;r0=s.arg0.fields[\"_connected\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=1;{step=2;continue}case 1:r0=2;case 2:s.tmp_1=r0;r0=s.arg0.fields[\"_id\"];s.tmp_2=r0;r0=pxsim.control.raiseEvent(s.tmp_2,s.tmp_1);case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}controller_Controller_connected__P11998.info={start:11936,length:261,line:376,column:8,endLine:381,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"connected\",argumentNames:[\"this\",\"value\"]};function controller_Controller_connected__P11998_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_connected__P11998,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function controller_Controller_id__P11984(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"_id\"];return leave(s,r0);default:oops()}}}controller_Controller_id__P11984.info={start:8221,length:49,line:247,column:8,endLine:249,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"id\",argumentNames:[\"this\"]};function controller_Controller_id__P11984_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_id__P11984,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function controller_Controller_connected__P11997(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Controller__C11981_VT))failedCast(r0);r0=s.arg0.fields[\"_connected\"];return leave(s,r0);default:oops()}}}controller_Controller_connected__P11997.info={start:11863,length:63,line:372,column:8,endLine:374,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"connected\",argumentNames:[\"this\"]};function controller_Controller_connected__P11997_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Controller_connected__P11997,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function controller_Button_raiseButtonDown__P11965(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(globals._userEventsEnabled___11959);if(!r0){step=1;continue}r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2049,s.tmp_0);{step=2;continue}case 1:r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2053,s.tmp_0);case 2:r0=undefined;return leave(s,r0);default:oops()}}}controller_Button_raiseButtonDown__P11965.info={start:2779,length:205,line:88,column:8,endLine:93,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"raiseButtonDown\",argumentNames:[\"this\"]};function controller_Button_raiseButtonDown__P11965_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_raiseButtonDown__P11965,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function controller_Button_raiseButtonUp__P11964(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(globals._userEventsEnabled___11959);if(!r0){step=1;continue}r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2048,s.tmp_0);{step=2;continue}case 1:r0=s.arg0.fields[\"id\"];s.tmp_0=r0;r0=pxsim.control.raiseEvent(2052,s.tmp_0);case 2:r0=undefined;return leave(s,r0);default:oops()}}}controller_Button_raiseButtonUp__P11964.info={start:2569,length:200,line:81,column:8,endLine:86,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"raiseButtonUp\",argumentNames:[\"this\"]};function controller_Button_raiseButtonUp__P11964_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_raiseButtonUp__P11964,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function settings_initScopes__P11915(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.rn___21299=undefined;s.tmp_1=settings_runNumber__P11913_mk(s);s.pc=1;return s.tmp_1;case 1:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0+1;s.rn___21299=r0;s.tmp_0=settings_writeNumber__P11920_mk(s);s.tmp_0.arg0=\"#run\";s.tmp_0.arg1=s.rn___21299;s.pc=2;return s.tmp_0;case 2:r0=s.retval;r0=pxsim.control.deviceSerialNumber();s.tmp_1=r0;r0=s.tmp_1&2147483647;s.tmp_0=r0;r0=pxsim_pxtcore.seedAddRandom(s.tmp_0);r0=pxsim_pxtcore.seedAddRandom(s.rn___21299);s.tmp_0=settings_setScope__P11914_mk(s);r0=pxsim_pxtcore.programName();s.tmp_0.arg0=r0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}settings_initScopes__P11915.info={start:960,length:229,line:36,column:4,endLine:44,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"initScopes\",argumentNames:[]};function settings_initScopes__P11915_mk(s){checkStack(s.depth);return{parent:s,fn:settings_initScopes__P11915,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,rn___21299:undefined}}function settings_setScope__P11914(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.currScope___21322=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_String_.length(s.arg0);s.tmp_2=r0;r0=s.tmp_2>100;case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}r0=pxsim_pxtrt.panic(922);case 3:case 4:s.tmp_0=settings_readString__P11923_mk(s);s.tmp_0.arg0=\"#scope\";s.pc=7;return s.tmp_0;case 7:r0=s.retval;s.currScope___21322=r0;r0=s.currScope___21322!=s.arg0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=pxsim.settings._userClean();s.tmp_0=settings_writeString__P11919_mk(s);s.tmp_0.arg0=\"#scope\";s.tmp_0.arg1=s.arg0;s.pc=8;return s.tmp_0;case 8:r0=s.retval;case 5:case 6:r0=undefined;return leave(s,r0);default:oops()}}}settings_setScope__P11914.info={start:684,length:270,line:26,column:4,endLine:34,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"setScope\",argumentNames:[\"scope\"]};function settings_setScope__P11914_mk(s){checkStack(s.depth);return{parent:s,fn:settings_setScope__P11914,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,currScope___21322:undefined,arg0:undefined}}function settings_readString__P11923(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.buf___21338=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim.settings._get(s.arg0);s.buf___21338=r0;r0=pxsim_numops_toBoolDecr(s.buf___21338);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=undefined;{step=3;continue}{step=2;continue}case 1:r0=pxsim.BufferMethods.toString(s.buf___21338);case 2:case 3:return leave(s,r0);default:oops()}}}settings_readString__P11923.info={start:2504,length:177,line:98,column:4,endLine:104,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"readString\",argumentNames:[\"key\"]};function settings_readString__P11923_mk(s){checkStack(s.depth);return{parent:s,fn:settings_readString__P11923,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,buf___21338:undefined,arg0:undefined}}function settings_writeString__P11919(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=settings_writeBuffer__P11918_mk(s);s.tmp_0.arg0=s.arg0;r0=pxsim.control.createBufferFromUTF8(s.arg1);s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}settings_writeString__P11919.info={start:1750,length:125,line:70,column:4,endLine:72,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"writeString\",argumentNames:[\"key\",\"value\"]};function settings_writeString__P11919_mk(s){checkStack(s.depth);return{parent:s,fn:settings_writeString__P11919,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function settings_runNumber__P11913(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tmp_1=settings_readNumber__P11924_mk(s);s.tmp_1.arg0=\"#run\";s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=0;case 2:s.tmp_2=r0;r0=s.tmp_2;return leave(s,r0);default:oops()}}}settings_runNumber__P11913.info={start:604,length:74,line:22,column:4,endLine:24,endColumn:5,fileName:\"pxt_modules/settings/settings.ts\",functionName:\"runNumber\",argumentNames:[]};function settings_runNumber__P11913_mk(s){checkStack(s.depth);return{parent:s,fn:settings_runNumber__P11913,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined}}function control___screen_setupUpdate__P11861(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}globals.__updated___11859=true;globals.__update___11858=s.arg0;s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=s.arg0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}control___screen_setupUpdate__P11861.info={start:198,length:125,line:10,column:4,endLine:14,endColumn:5,fileName:\"pxt_modules/screen/frame.ts\",functionName:\"setupUpdate\",argumentNames:[\"update\"]};function control___screen_setupUpdate__P11861_mk(s){checkStack(s.depth);return{parent:s,fn:control___screen_setupUpdate__P11861,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function control___screen_update__P11860(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=pxsim_numops_toBoolDecr(globals.__update___11858);if(!r0){step=1;continue}s.tmp_0=lambda_1_mk(s);s.tmp_0.argL=globals.__update___11858;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=3;return s.tmp_0;case 3:r0=s.retval;case 1:case 2:globals.__updated___11859=true;r0=undefined;return leave(s,r0);default:oops()}}}control___screen_update__P11860.info={start:90,length:102,line:4,column:4,endLine:8,endColumn:5,fileName:\"pxt_modules/screen/frame.ts\",functionName:\"update\",argumentNames:[]};function control___screen_update__P11860_mk(s){checkStack(s.depth);return{parent:s,fn:control___screen_update__P11860,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined}}function pause__P11666(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}setupResume(s,1);pxsim.loops.pause(s.arg0);checkResumeConsumed();return;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}pause__P11666.info={start:246,length:57,line:7,column:0,endLine:9,endColumn:1,fileName:\"pxt_modules/base/pause.ts\",functionName:\"pause\",argumentNames:[\"ms\"]};function pause__P11666_mk(s){checkStack(s.depth);return{parent:s,fn:pause__P11666,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function Fx8__P11503(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0*256;s.tmp_0=r0;r0=s.tmp_0|0;return leave(s,r0);default:oops()}}}Fx8__P11503.info={start:42,length:68,line:4,column:0,endLine:6,endColumn:1,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"Fx8\",argumentNames:[\"v\"]};function Fx8__P11503_mk(s){checkStack(s.depth);return{parent:s,fn:Fx8__P11503,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function game_BaseDialog_drawTextCore__P12380(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_drawTextCore__P12380.info={start:1757,length:65,line:70,column:8,endLine:72,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"drawTextCore\",argumentNames:[\"this\"]};function game_BaseDialog_drawTextCore__P12380_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_drawTextCore__P12380,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function game_BaseDialog_update__P12378(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_BaseDialog__C12377_VT))failedCast(r0);s.tmp_0=game_BaseDialog_clearInterior__P12383_mk(s);s.tmp_0.arg0=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.tmp_0=game_BaseDialog__C12377_v1_1_mk(s);s.tmp_0.arg0=s.arg0;if(!checkSubtype(s.tmp_0.arg0,game_BaseDialog__C12377_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.drawTextCore;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.tmp_0=game_BaseDialog_drawCursorRow__P12381_mk(s);s.tmp_0.arg0=s.arg0;s.pc=3;return s.tmp_0;case 3:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}game_BaseDialog_update__P12378.info={start:1539,length:121,line:60,column:8,endLine:64,endColumn:9,fileName:\"pxt_modules/game/textDialogs.ts\",functionName:\"update\",argumentNames:[\"this\"]};function game_BaseDialog_update__P12378_mk(s){checkStack(s.depth);return{parent:s,fn:game_BaseDialog_update__P12378,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function effects_ImageEffect_startScreenEffect__P12864(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.wasRunning___21532=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ImageEffect__C12861_VT))failedCast(r0);s.tmp_4=game_currentScene__P12194_mk(s);s.pc=8;return s.tmp_4;case 8:r0=s.retval;r0=r0.fields[\"background\"];s.tmp_3=r0;r0=s.tmp_3.fields[\"_image\"];s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);s.tmp_7=r0;r0=pxsim_Boolean__bang(s.tmp_7);s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:r0=s.arg0.fields[\"times\"];s.tmp_9=r0;r0=s.tmp_9!=undefined;s.wasRunning___21532=r0;r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=3;continue}r0=s.arg1;{step=4;continue}case 3:r0=15;case 4:s.tmp_0=r0;r0=s.arg0.fields[\"times\"]=s.tmp_0;r0=pxsim_numops_toBoolDecr(s.wasRunning___21532);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=pxsim_pxtcore_mkAction(2,inline__P21543);s.tmp_2=r0;r0=pxsim_pxtrt_stclo(s.tmp_2,0,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_2,1,s.arg2);r0=pxsim.control.runInParallel(s.tmp_2);case 5:case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}effects_ImageEffect_startScreenEffect__P12864.info={start:1457,length:637,line:41,column:8,endLine:56,endColumn:9,fileName:\"pxt_modules/game/effects.ts\",functionName:\"startScreenEffect\",argumentNames:[\"this\",\"times\",\"delay\"]};function effects_ImageEffect_startScreenEffect__P12864_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ImageEffect_startScreenEffect__P12864,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,wasRunning___21532:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P21543(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:case 1:r0=s.caps[0].fields[\"times\"];s.tmp_1=r0;r0=s.tmp_1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}s.tmp_2=effects_ImageEffect_change__P12863_mk(s);s.tmp_2.arg0=s.caps[0];s.tmp_3=scene_backgroundImage__P12363_mk(s);s.pc=6;return s.tmp_3;case 6:r0=s.retval;s.tmp_2.arg1=r0;s.pc=5;return s.tmp_2;case 5:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.caps[1]);if(!r0){step=2;continue}r0=s.caps[1];{step=3;continue}case 2:r0=s.caps[0].fields[\"preferredDelay\"];case 3:s.tmp_0=r0;s.tmp_1=pause__P11666_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=7;return s.tmp_1;case 7:r0=s.retval;s.tmp_0=r0=s.caps[0];r0=s.tmp_0.fields[\"times\"];s.tmp_2=r0;r0=s.tmp_2-1;s.tmp_1=r0;r0=s.tmp_0.fields[\"times\"]=s.tmp_1;{step=1;continue}case 4:r0=s.caps[0].fields[\"times\"]=undefined;r0=undefined;return leave(s,r0);default:oops()}}}inline__P21543.info={start:1764,length:304,line:47,column:38,endLine:54,endColumn:17,fileName:\"pxt_modules/game/effects.ts\",functionName:\"inline\",argumentNames:[]};function inline__P21543_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21543,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined}}function scene_backgroundImage__P12363(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.scene___21560=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.scene___21560=r0;s.tmp_0=scene_Background_image__P12273_mk(s);r0=s.scene___21560.fields[\"background\"];s.tmp_0.arg0=r0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;return leave(s,r0);default:oops()}}}scene_backgroundImage__P12363.info={start:2070,length:130,line:74,column:4,endLine:77,endColumn:5,fileName:\"pxt_modules/game/scenes.ts\",functionName:\"backgroundImage\",argumentNames:[]};function scene_backgroundImage__P12363_mk(s){checkStack(s.depth);return{parent:s,fn:scene_backgroundImage__P12363,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,scene___21560:undefined}}function scene_Background_hasBackgroundImage__P12275(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Background__C12271_VT))failedCast(r0);r0=s.arg0.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}scene_Background_hasBackgroundImage__P12275.info={start:1081,length:75,line:44,column:8,endLine:46,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"hasBackgroundImage\",argumentNames:[\"this\"]};function scene_Background_hasBackgroundImage__P12275_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Background_hasBackgroundImage__P12275,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function animation_MovementAnimation_constructor__P12975(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_MovementAnimation__C12972_VT))failedCast(r0);r0=s.arg0.fields[\"path\"]=s.arg2;r0=s.arg0.fields[\"nodeInterval\"]=s.arg3;s.tmp_0=animation_SpriteAnimation_constructor__P12967_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg4;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=s.arg0.fields[\"loop\"]=s.arg4;return leave(s,r0);default:oops()}}}animation_MovementAnimation_constructor__P12975.info={start:18785,length:169,line:480,column:8,endLine:484,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"this\",\"sprite\",\"path\",\"nodeInterval\",\"loop\"]};function animation_MovementAnimation_constructor__P12975_mk(s){checkStack(s.depth);return{parent:s,fn:animation_MovementAnimation_constructor__P12975,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function animation_MovementAnimation_update__P12974(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.result___21387=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_MovementAnimation__C12972_VT))failedCast(r0);r0=s.arg0.fields[\"sprite\"];r0=r0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=true;{step=9;continue}case 1:case 2:r0=s.arg0.fields[\"startedAt\"];s.tmp_3=r0;r0=s.tmp_3==null;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}s.tmp_4=r0=s.arg0;r0=pxsim.control.millis();s.tmp_5=r0;r0=s.tmp_4.fields[\"startedAt\"]=s.tmp_5;case 3:case 4:s.tmp_0=animation_Path_run__P12935_mk(s);r0=s.arg0.fields[\"path\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"nodeInterval\"];s.tmp_0.arg1=r0;r0=s.arg0.fields[\"sprite\"];s.tmp_0.arg2=r0;r0=s.arg0.fields[\"startedAt\"];s.tmp_0.arg3=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.result___21387=r0;r0=pxsim_numops_toBoolDecr(s.result___21387);if(!r0){step=7;continue}r0=s.arg0.fields[\"loop\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=true;{step=9;continue}case 5:case 6:s.tmp_3=r0=s.arg0;r0=pxsim.control.millis();s.tmp_4=r0;r0=s.tmp_3.fields[\"startedAt\"]=s.tmp_4;case 7:case 8:r0=false;case 9:return leave(s,r0);default:oops()}}}animation_MovementAnimation_update__P12974.info={start:18972,length:460,line:486,column:8,endLine:497,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"update\",argumentNames:[\"this\"]};function animation_MovementAnimation_update__P12974_mk(s){checkStack(s.depth);return{parent:s,fn:animation_MovementAnimation_update__P12974,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,result___21387:undefined,arg0:undefined}}function animation_Path_run__P12935(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.runningTime___21408=undefined;s.nodeIndex___21412=undefined;s.nodeTime___21417=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_Path__C12929_VT))failedCast(r0);r0=pxsim.control.millis();s.tmp_0=r0;r0=s.tmp_0-s.arg3;s.runningTime___21408=r0;r0=s.runningTime___21408/s.arg1;s.tmp_0=r0;r0=pxsim.Math_.floor(s.tmp_0);s.nodeIndex___21412=r0;r0=s.runningTime___21408%s.arg1;s.nodeTime___21417=r0;r0=s.arg0.fields[\"lastNode\"];s.tmp_1=r0;r0=s.tmp_1>-1;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0.fields[\"lastNode\"];s.tmp_2=r0;r0=s.tmp_2<s.nodeIndex___21412;case 2:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=3;continue}r0=s.tmp_3;{step=4;continue}case 3:r0=s.arg0.fields[\"nodes\"];s.tmp_4=r0;r0=pxsim_Array__length(s.tmp_4);case 4:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=7;continue}s.tmp_6=animation_PathNode__C12937_v0_4_mk(s);r0=s.arg0.fields[\"nodes\"];s.tmp_7=r0;r0=s.arg0.fields[\"lastNode\"];s.tmp_8=r0;r0=pxsim_Array__getAt(s.tmp_7,s.tmp_8);s.tmp_6.arg0=r0;s.tmp_6.arg1=s.arg2;s.tmp_6.arg2=s.arg1;s.tmp_6.arg3=s.arg1;if(!checkSubtype(s.tmp_6.arg0,animation_PathNode__C12937_VT))failedCast(s.tmp_6.arg0);s.tmp_6.fn=s.tmp_6.arg0.vtable.methods.apply;s.pc=10;return s.tmp_6;case 10:r0=s.retval;s.tmp_1=r0=s.nodeIndex___21412;r0=s.arg0.fields[\"nodes\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1>=s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}r0=true;{step=9;continue}case 5:case 6:case 7:case 8:r0=s.arg0.fields[\"lastNode\"]=s.nodeIndex___21412;s.tmp_0=animation_PathNode__C12937_v0_4_mk(s);r0=s.arg0.fields[\"nodes\"];s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_1,s.nodeIndex___21412);s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg2;s.tmp_0.arg2=s.nodeTime___21417;s.tmp_0.arg3=s.arg1;if(!checkSubtype(s.tmp_0.arg0,animation_PathNode__C12937_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.apply;s.pc=11;return s.tmp_0;case 11:r0=s.retval;r0=false;case 9:return leave(s,r0);default:oops()}}}animation_Path_run__P12935.info={start:11979,length:1002,line:287,column:8,endLine:301,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"run\",argumentNames:[\"this\",\"interval\",\"target\",\"startedAt\"]};function animation_Path_run__P12935_mk(s){checkStack(s.depth);return{parent:s,fn:animation_Path_run__P12935,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,runningTime___21408:undefined,nodeIndex___21412:undefined,nodeTime___21417:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function animation_PathNode_apply__P12938(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_PathNode__C12937_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}animation_PathNode_apply__P12938.info={start:13131,length:60,line:310,column:8,endLine:310,endColumn:68,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"apply\",argumentNames:[\"this\",\"target\",\"nodeTime\",\"interval\"]};function animation_PathNode_apply__P12938_mk(s){checkStack(s.depth);return{parent:s,fn:animation_PathNode_apply__P12938,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function animation_ImageAnimation_update__P12970(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.runningTime___21471=undefined;s.frameIndex___21476=undefined;s.newImage___21493=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_ImageAnimation__C12968_VT))failedCast(r0);r0=s.arg0.fields[\"sprite\"];r0=r0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=true;{step=17;continue}case 1:case 2:r0=s.arg0.fields[\"startedAt\"];s.tmp_3=r0;r0=s.tmp_3==null;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=3;continue}s.tmp_4=r0=s.arg0;r0=pxsim.control.millis();s.tmp_5=r0;r0=s.tmp_4.fields[\"startedAt\"]=s.tmp_5;case 3:case 4:r0=pxsim.control.millis();s.tmp_0=r0;r0=s.arg0.fields[\"startedAt\"];s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.runningTime___21471=r0;r0=s.arg0.fields[\"frameInterval\"];s.tmp_1=r0;r0=s.runningTime___21471/s.tmp_1;s.tmp_0=r0;r0=pxsim.Math_.floor(s.tmp_0);s.frameIndex___21476=r0;r0=s.arg0.fields[\"lastFrame\"];s.tmp_1=r0;r0=s.tmp_1>-1;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=s.arg0.fields[\"lastFrame\"];s.tmp_2=r0;r0=s.tmp_2<s.frameIndex___21476;case 6:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=7;continue}r0=s.tmp_3;{step=8;continue}case 7:r0=s.arg0.fields[\"frames\"];s.tmp_4=r0;r0=pxsim_Array__length(s.tmp_4);case 8:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=15;continue}r0=s.arg0.fields[\"frames\"];s.tmp_6=r0;r0=s.frameIndex___21476-1;s.tmp_7=r0;r0=pxsim_Array__getAt(s.tmp_6,s.tmp_7);s.newImage___21493=r0;r0=s.arg0.fields[\"sprite\"];s.tmp_2=r0;r0=s.tmp_2.fields[\"_image\"];s.tmp_1=r0;r0=s.tmp_1!==s.newImage___21493;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tmp_3=Sprite_setImage__P12049_mk(s);r0=s.arg0.fields[\"sprite\"];s.tmp_3.arg0=r0;s.tmp_3.arg1=s.newImage___21493;s.pc=18;return s.tmp_3;case 18:r0=s.retval;case 9:case 10:s.tmp_1=r0=s.frameIndex___21476;r0=s.arg0.fields[\"frames\"];s.tmp_3=r0;r0=pxsim_Array__length(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1>=s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}r0=s.arg0.fields[\"loop\"];s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);if(!r0){step=11;continue}r0=true;{step=17;continue}case 11:case 12:s.tmp_7=r0=s.arg0;r0=pxsim.control.millis();s.tmp_8=r0;r0=s.tmp_7.fields[\"startedAt\"]=s.tmp_8;case 13:case 14:case 15:case 16:r0=s.arg0.fields[\"lastFrame\"]=s.frameIndex___21476;r0=false;case 17:return leave(s,r0);default:oops()}}}animation_ImageAnimation_update__P12970.info={start:17777,length:931,line:456,column:8,endLine:476,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"update\",argumentNames:[\"this\"]};function animation_ImageAnimation_update__P12970_mk(s){checkStack(s.depth);return{parent:s,fn:animation_ImageAnimation_update__P12970,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,runningTime___21471:undefined,frameIndex___21476:undefined,newImage___21493:undefined,arg0:undefined}}function music_Melody_toString__P11784(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,music_Melody__C11774_VT))failedCast(r0);r0=s.arg0.fields[\"_text\"];return leave(s,r0);default:oops()}}}music_Melody_toString__P11784.info={start:9584,length:53,line:302,column:8,endLine:304,endColumn:9,fileName:\"pxt_modules/mixer/melody.ts\",functionName:\"toString\",argumentNames:[\"this\"]};function music_Melody_toString__P11784_mk(s){checkStack(s.depth);return{parent:s,fn:music_Melody_toString__P11784,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function tiles_TileMap_constructor__P12310(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_tileSets\"]=s.tmp_1;r0=s.arg0.fields[\"_layer\"]=1;r0=s.arg0.fields[\"scale\"]=s.arg1;r0=pxsim_pxtcore_mkAction(1,inline__P23155);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);s.tmp_1=scene_createRenderable__P12321_mk(s);s.tmp_1.arg0=globals.TILE_MAP_Z___12343;s.tmp_1.arg1=s.tmp_0;s.tmp_1.arg2=undefined;s.pc=1;return s.tmp_1;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}tiles_TileMap_constructor__P12310.info={start:2488,length:283,line:88,column:8,endLine:97,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"inline\",argumentNames:[\"this\",\"scale\"]};function tiles_TileMap_constructor__P12310_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_constructor__P12310,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function inline__P23155(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=tiles_TileMap_draw__P12307_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_0.arg1=s.arg0;s.tmp_0.arg2=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P23155.info={start:2721,length:25,line:95,column:16,endLine:95,endColumn:41,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"inline\",argumentNames:[\"t\",\"c\"]};function inline__P23155_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P23155,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function tiles_TileMap_draw__P12307(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.bitmask___23165=undefined;s.offsetX___23168=undefined;s.offsetY___23172=undefined;s.x0___23176=undefined;s.xn___23182=undefined;s.y0___23195=undefined;s.yn___23201=undefined;s.x___23214=undefined;s.y___23219=undefined;s.index___23224=undefined;s.tile___23231=undefined;s.x___23259=undefined;s.xLine___23264=undefined;s.y___23284=undefined;s.yLine___23289=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=25;continue}case 1:case 2:r0=s.arg0.fields[\"scale\"];s.tmp_8=r0;r0=1<<s.tmp_8;s.tmp_7=r0;r0=s.tmp_7-1;s.bitmask___23165=r0;r0=s.arg2.fields[\"drawOffsetX\"];s.tmp_0=r0;r0=s.tmp_0&s.bitmask___23165;s.offsetX___23168=r0;r0=s.arg2.fields[\"drawOffsetY\"];s.tmp_0=r0;r0=s.tmp_0&s.bitmask___23165;s.offsetY___23172=r0;s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=0;r0=s.arg2.fields[\"drawOffsetX\"];s.tmp_1=r0;r0=s.arg0.fields[\"scale\"];s.tmp_2=r0;r0=s.tmp_1>>s.tmp_2;s.tmp_0.arg1=r0;s.pc=26;return s.tmp_0;case 26:r0=s.retval;s.x0___23176=r0;s.tmp_0=Math_min__P11487_mk(s);r0=s.arg0.fields[\"_map\"];s.tmp_1=r0;r0=pxsim_ImageMethods.width(s.tmp_1);s.tmp_0.arg0=r0;r0=s.arg2.fields[\"drawOffsetX\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.arg1);s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.tmp_3=r0;r0=s.arg0.fields[\"scale\"];s.tmp_6=r0;r0=s.tmp_3>>s.tmp_6;s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_0.arg1=r0;s.pc=27;return s.tmp_0;case 27:r0=s.retval;s.xn___23182=r0;s.tmp_0=Math_max__P11486_mk(s);s.tmp_0.arg0=0;r0=s.arg2.fields[\"drawOffsetY\"];s.tmp_1=r0;r0=s.arg0.fields[\"scale\"];s.tmp_2=r0;r0=s.tmp_1>>s.tmp_2;s.tmp_0.arg1=r0;s.pc=28;return s.tmp_0;case 28:r0=s.retval;s.y0___23195=r0;s.tmp_0=Math_min__P11487_mk(s);r0=s.arg0.fields[\"_map\"];s.tmp_1=r0;r0=pxsim_ImageMethods.height(s.tmp_1);s.tmp_0.arg0=r0;r0=s.arg2.fields[\"drawOffsetY\"];s.tmp_4=r0;r0=pxsim_ImageMethods.height(s.arg1);s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.tmp_3=r0;r0=s.arg0.fields[\"scale\"];s.tmp_6=r0;r0=s.tmp_3>>s.tmp_6;s.tmp_2=r0;r0=s.tmp_2+1;s.tmp_0.arg1=r0;s.pc=29;return s.tmp_0;case 29:r0=s.retval;s.yn___23201=r0;s.x___23214=s.x0___23176;case 3:r0=s.x___23214<=s.xn___23182;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=10;continue}s.y___23219=s.y0___23195;case 4:r0=s.y___23219<=s.yn___23201;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}r0=s.arg0.fields[\"_map\"];s.tmp_1=r0;r0=pxsim_ImageMethods.getPixel(s.tmp_1,s.x___23214,s.y___23219);s.index___23224=r0;r0=s.arg0.fields[\"_tileSets\"];s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_1,s.index___23224);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:s.tmp_2=tiles_TileMap_generateTile__P12304_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.index___23224;s.pc=30;return s.tmp_2;case 30:r0=s.retval;case 6:s.tmp_3=r0;s.tile___23231=s.tmp_3;r0=pxsim_numops_toBoolDecr(s.tile___23231);if(!r0){step=7;continue}s.tmp_0=r0=s.arg1;s.tmp_2=tiles_TileSet_image__P12282_mk(s);s.tmp_2.arg0=s.tile___23231;s.pc=31;return s.tmp_2;case 31:r0=s.retval;s.tmp_1=r0;r0=s.x___23214-s.x0___23176;s.tmp_5=r0;r0=s.arg0.fields[\"scale\"];s.tmp_6=r0;r0=s.tmp_5<<s.tmp_6;s.tmp_4=r0;r0=s.tmp_4-s.offsetX___23168;s.tmp_3=r0;r0=s.y___23219-s.y0___23195;s.tmp_9=r0;r0=s.arg0.fields[\"scale\"];s.tmp_10=r0;r0=s.tmp_9<<s.tmp_10;s.tmp_8=r0;r0=s.tmp_8-s.offsetY___23172;s.tmp_7=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_3,s.tmp_7);case 7:case 8:r0=s.y___23219+1;s.y___23219=r0;{step=4;continue}case 9:r0=s.x___23214+1;s.x___23214=r0;{step=3;continue}case 10:r0=pxsim_numops_toBoolDecr(globals.debug___12423);if(!r0){step=23;continue}s.x___23259=s.x0___23176;case 11:r0=s.x___23259<=s.xn___23182;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=16;continue}r0=s.x___23259-s.x0___23176;s.tmp_2=r0;r0=s.arg0.fields[\"scale\"];s.tmp_3=r0;r0=s.tmp_2<<s.tmp_3;s.tmp_1=r0;r0=s.tmp_1-s.offsetX___23168;s.xLine___23264=r0;r0=s.xLine___23264>=0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=12;continue}r0=s.tmp_0;{step=13;continue}case 12:s.tmp_1=r0=s.xLine___23264;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_1<=s.tmp_2;case 13:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=14;continue}s.tmp_4=helpers_imageDrawLine__P11838_mk(s);s.tmp_4.arg0=s.arg1;s.tmp_4.arg1=s.xLine___23264;s.tmp_4.arg2=0;s.tmp_4.arg3=s.xLine___23264;r0=pxsim_ImageMethods.height(s.arg1);s.tmp_4.arg4=r0;s.tmp_4.arg5=1;s.pc=32;return s.tmp_4;case 32:r0=s.retval;case 14:case 15:r0=s.x___23259+1;s.x___23259=r0;{step=11;continue}case 16:s.y___23284=s.y0___23195;case 17:r0=s.y___23284<=s.yn___23201;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=22;continue}r0=s.y___23284-s.y0___23195;s.tmp_2=r0;r0=s.arg0.fields[\"scale\"];s.tmp_3=r0;r0=s.tmp_2<<s.tmp_3;s.tmp_1=r0;r0=s.tmp_1-s.offsetY___23172;s.yLine___23289=r0;r0=s.yLine___23289>=0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=18;continue}r0=s.tmp_0;{step=19;continue}case 18:s.tmp_1=r0=s.yLine___23289;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_1<=s.tmp_2;case 19:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=20;continue}s.tmp_4=helpers_imageDrawLine__P11838_mk(s);s.tmp_4.arg0=s.arg1;s.tmp_4.arg1=0;s.tmp_4.arg2=s.yLine___23289;r0=pxsim_ImageMethods.width(s.arg1);s.tmp_4.arg3=r0;s.tmp_4.arg4=s.yLine___23289;s.tmp_4.arg5=1;s.pc=33;return s.tmp_4;case 33:r0=s.retval;case 20:case 21:r0=s.y___23284+1;s.y___23284=r0;{step=17;continue}case 22:case 23:case 24:case 25:r0=undefined;return leave(s,r0);default:oops()}}}tiles_TileMap_draw__P12307.info={start:5334,length:2251,line:183,column:8,endLine:238,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"draw\",argumentNames:[\"this\",\"target\",\"camera\"]};function tiles_TileMap_draw__P12307_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_draw__P12307,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,bitmask___23165:undefined,offsetX___23168:undefined,offsetY___23172:undefined,x0___23176:undefined,xn___23182:undefined,y0___23195:undefined,yn___23201:undefined,x___23214:undefined,y___23219:undefined,index___23224:undefined,tile___23231:undefined,x___23259:undefined,xLine___23264:undefined,y___23284:undefined,yLine___23289:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function tiles_TileMap_generateTile__P12304(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.size___22124=undefined;s.i___22127=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"scale\"];s.tmp_0=r0;r0=1<<s.tmp_0;s.size___22124=r0;r0=pxsim.image.create(s.size___22124,s.size___22124);s.i___22127=r0;r0=pxsim_ImageMethods.fill(s.i___22127,s.arg1);r0=pxsim_pxtcore_mkClassInstance(tiles_TileSet__C12281_VT);s.tmp_0=r0;s.tmp_1=tiles_TileSet_constructor__P12283_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.i___22127;s.tmp_1.arg2=false;s.tmp_1.arg3=s.arg0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;r0=s.arg0.fields[\"_tileSets\"];s.tmp_2=r0;r0=pxsim_Array_.setAt(s.tmp_2,s.arg1,s.tmp_0);r0=s.tmp_0;return leave(s,r0);default:oops()}}}tiles_TileMap_generateTile__P12304.info={start:4764,length:245,line:166,column:8,endLine:172,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"generateTile\",argumentNames:[\"this\",\"index\"]};function tiles_TileMap_generateTile__P12304_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_generateTile__P12304,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,size___22124:undefined,i___22127:undefined,arg0:undefined,arg1:undefined}}function tiles_TileSet_constructor__P12283(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileSet__C12281_VT))failedCast(r0);r0=s.arg0.fields[\"originalImage\"]=s.arg1;r0=s.arg0.fields[\"obstacle\"]=s.arg2;r0=s.arg0.fields[\"map\"]=s.arg3;return leave(s,r0);default:oops()}}}tiles_TileSet_constructor__P12283.info={start:312,length:180,line:16,column:8,endLine:20,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"inline\",argumentNames:[\"this\",\"image\",\"collisions\",\"map\"]};function tiles_TileSet_constructor__P12283_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileSet_constructor__P12283,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function tiles_TileSet_image__P12282(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.size___22050=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileSet__C12281_VT))failedCast(r0);r0=s.arg0.fields[\"map\"];r0=r0.fields[\"scale\"];s.tmp_0=r0;r0=1<<s.tmp_0;s.size___22050=r0;r0=s.arg0.fields[\"cachedImage\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0.fields[\"cachedImage\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3!=s.size___22050;case 2:s.tmp_5=r0;r0=pxsim_numops_toBool(s.tmp_5);if(!r0){step=3;continue}r0=s.tmp_5;{step=4;continue}case 3:r0=s.arg0.fields[\"cachedImage\"];s.tmp_7=r0;r0=pxsim_ImageMethods.height(s.tmp_7);s.tmp_6=r0;r0=s.tmp_6!=s.size___22050;case 4:s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);if(!r0){step=9;continue}r0=s.arg0.fields[\"originalImage\"];s.tmp_11=r0;r0=pxsim_ImageMethods.width(s.tmp_11);s.tmp_10=r0;r0=s.tmp_10==s.size___22050;s.tmp_9=r0;r0=pxsim_numops_toBool(s.tmp_9);if(r0){step=5;continue}r0=s.tmp_9;{step=6;continue}case 5:r0=s.arg0.fields[\"originalImage\"];s.tmp_13=r0;r0=pxsim_ImageMethods.height(s.tmp_13);s.tmp_12=r0;r0=s.tmp_12==s.size___22050;case 6:s.tmp_14=r0;r0=pxsim_numops_toBoolDecr(s.tmp_14);if(!r0){step=7;continue}r0=s.arg0.fields[\"originalImage\"];s.tmp_15=r0;r0=s.arg0.fields[\"cachedImage\"]=s.tmp_15;{step=8;continue}case 7:s.tmp_0=r0=s.arg0;r0=pxsim.image.create(s.size___22050,s.size___22050);s.tmp_1=r0;r0=s.tmp_0.fields[\"cachedImage\"]=s.tmp_1;r0=s.arg0.fields[\"cachedImage\"];s.tmp_0=r0;r0=s.arg0.fields[\"originalImage\"];s.tmp_1=r0;r0=pxsim_ImageMethods.drawImage(s.tmp_0,s.tmp_1,0,0);case 8:case 9:case 10:r0=s.arg0.fields[\"cachedImage\"];return leave(s,r0);default:oops()}}}tiles_TileSet_image__P12282.info={start:502,length:567,line:22,column:8,endLine:33,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"image\",argumentNames:[\"this\"]};function tiles_TileSet_image__P12282_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileSet_image__P12282,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,size___22050:undefined,arg0:undefined}}function scene_BackgroundLayer_constructor__P12280(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_BackgroundLayer__C12278_VT))failedCast(r0);s.tmp_0=r0=s.arg0;s.tmp_2=Math_max__P11486_mk(s);s.tmp_2.arg0=1;s.tmp_2.arg1=s.arg1;s.pc=7;return s.tmp_2;case 7:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"distance\"]=s.tmp_1;r0=s.arg0.fields[\"img\"]=s.arg3;s.tmp_0=r0=s.arg2;r0=pxsim_pxtcore.switch_eq(5,s.tmp_0);if(r0){step=1;continue}r0=pxsim_pxtcore.switch_eq(1,s.tmp_0);if(r0){step=2;continue}r0=pxsim_pxtcore.switch_eq(2,s.tmp_0);if(r0){step=3;continue}r0=pxsim_pxtcore.switch_eq(3,s.tmp_0);if(r0){step=4;continue}r0=pxsim_pxtcore.switch_eq(4,s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 1:r0=s.arg0.fields[\"repeatX\"]=true;r0=s.arg0.fields[\"repeatY\"]=true;r0=s.arg0.fields[\"alignX\"]=5;r0=s.arg0.fields[\"alignY\"]=5;{step=6;continue}case 2:case 3:r0=s.arg0.fields[\"repeatX\"]=false;r0=s.arg0.fields[\"repeatY\"]=true;r0=s.arg0.fields[\"alignX\"]=s.arg2;r0=s.arg0.fields[\"alignY\"]=5;{step=6;continue}case 4:case 5:r0=s.arg0.fields[\"repeatX\"]=true;r0=s.arg0.fields[\"repeatY\"]=false;r0=s.arg0.fields[\"alignX\"]=5;r0=s.arg0.fields[\"alignY\"]=s.arg2;case 6:return leave(s,r0);default:oops()}}}scene_BackgroundLayer_constructor__P12280.info={start:1936,length:1117,line:72,column:8,endLine:97,endColumn:9,fileName:\"pxt_modules/game/background.ts\",functionName:\"inline\",argumentNames:[\"this\",\"distance\",\"alignment\",\"img\"]};function scene_BackgroundLayer_constructor__P12280_mk(s){checkStack(s.depth);return{parent:s,fn:scene_BackgroundLayer_constructor__P12280,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function sprites_SpriteMap_toString__P12095(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);r0=pxsim_String_.mkEmpty();s.tmp_3=r0;r0=s.arg0.fields[\"buckets\"];s.tmp_6=r0;r0=pxsim_Array__length(s.tmp_6);s.tmp_5=r0;if(s.tmp_5&&s.tmp_5.vtable){setupResume(s,1);pxsim_String__stringConv(s.tmp_5);checkResumeConsumed();return}else{s.retval=s.tmp_5+\"\"}case 1:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_4);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\" buckets, \");s.tmp_1=r0;s.tmp_10=helpers_arrayFilter__P11473_mk(s);r0=s.arg0.fields[\"buckets\"];s.tmp_10.arg0=r0;s.tmp_10.arg1=inline__P21583;s.pc=2;return s.tmp_10;case 2:r0=s.retval;s.tmp_9=r0;r0=pxsim_Array__length(s.tmp_9);s.tmp_8=r0;if(s.tmp_8&&s.tmp_8.vtable){setupResume(s,3);pxsim_String__stringConv(s.tmp_8);checkResumeConsumed();return}else{s.retval=s.tmp_8+\"\"}case 3:r0=s.retval;s.tmp_7=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_7);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\" filled\");return leave(s,r0);default:oops()}}}sprites_SpriteMap_toString__P12095.info={start:4629,length:123,line:126,column:8,endLine:128,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"toString\",argumentNames:[\"this\"]};function sprites_SpriteMap_toString__P12095_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_toString__P12095,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,arg0:undefined}}function inline__P21583(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=pxsim_numops_toBoolDecr(s.arg0);s.tmp_2=r0;r0=pxsim_Boolean__bang(s.tmp_2);s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}inline__P21583.info={start:4716,length:8,line:127,column:74,endLine:127,endColumn:82,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"inline\",argumentNames:[\"b\"]};function inline__P21583_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P21583,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function ArcadePhysicsEngine_moveSprite__P12162(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tm___21618=undefined;s.tileSize___21626=undefined;s.ms___21638=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);r0=s.arg1.fields[\"_x\"];s.tmp_0=r0;r0=s.arg1.fields[\"_lastX\"]=s.tmp_0;r0=s.arg1.fields[\"_y\"];s.tmp_0=r0;r0=s.arg1.fields[\"_lastY\"]=s.tmp_0;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"_x\"];s.tmp_2=r0;r0=s.tmp_2+s.arg2;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"_y\"];s.tmp_2=r0;r0=s.tmp_2+s.arg3;s.tmp_1=r0;r0=s.tmp_0.fields[\"_y\"]=s.tmp_1;r0=s.arg1.fields[\"flags\"];s.tmp_3=r0;r0=s.tmp_3&globals.SPRITE_CANNOT_COLLIDE___12143;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}s.tmp_4=game_currentScene__P12194_mk(s);s.pc=12;return s.tmp_4;case 12:r0=s.retval;r0=r0.fields[\"tileMap\"];s.tm___21618=r0;s.tmp_0=r0=s.tm___21618;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.tm___21618.fields[\"_map\"];s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);case 2:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);s.tmp_7=r0;r0=pxsim_Boolean__bang(s.tmp_7);s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=3;continue}{step=11;continue}case 3:case 4:r0=s.tm___21618.fields[\"scale\"];s.tmp_8=r0;r0=1<<s.tmp_8;s.tileSize___21626=r0;s.tmp_2=Math_abs__P11484_mk(s);r0=s.arg2+128;s.tmp_3=r0;r0=s.tmp_3>>8;s.tmp_2.arg0=r0;s.pc=13;return s.tmp_2;case 13:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1<s.tileSize___21626;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:s.tmp_5=Math_abs__P11484_mk(s);r0=s.arg3+128;s.tmp_6=r0;r0=s.tmp_6>>8;s.tmp_5.arg0=r0;s.pc=14;return s.tmp_5;case 14:r0=s.retval;s.tmp_4=r0;r0=s.tmp_4<s.tileSize___21626;case 6:s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=7;continue}r0=pxsim_pxtcore_mkClassInstance(MovingSprite__C12150_VT);s.tmp_8=r0;s.tmp_9=MovingSprite_constructor__P12151_mk(s);s.tmp_9.arg0=s.tmp_8;s.tmp_9.arg1=s.arg1;r0=s.arg1.fields[\"_vx\"];s.tmp_9.arg2=r0;r0=s.arg1.fields[\"_vy\"];s.tmp_9.arg3=r0;s.tmp_9.arg4=s.arg2;s.tmp_9.arg5=s.arg3;s.tmp_9.arg6=s.arg2;s.tmp_9.arg7=s.arg3;s.pc=15;return s.tmp_9;case 15:r0=s.retval;s.ms___21638=s.tmp_8;s.tmp_0=ArcadePhysicsEngine_tilemapCollisions__P12160_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.ms___21638;s.tmp_0.arg2=s.tm___21618;s.pc=16;return s.tmp_0;case 16:r0=s.retval;case 7:case 8:case 9:case 10:case 11:r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_moveSprite__P12162.info={start:16597,length:892,line:473,column:4,endLine:499,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"moveSprite\",argumentNames:[\"this\",\"s\",\"dx\",\"dy\"]};function ArcadePhysicsEngine_moveSprite__P12162_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_moveSprite__P12162,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tm___21618:undefined,tileSize___21626:undefined,ms___21638:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function ArcadePhysicsEngine_tilemapCollisions__P12160(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.sprite___21656=undefined;s.tileScale___21660=undefined;s.tileSize___21664=undefined;s.xDiff___21667=undefined;s.yDiff___21673=undefined;s.right___21681=undefined;s.x0___21684=undefined;s.collidedTiles___21699=undefined;s.y___21701=undefined;s.y0___21716=undefined;s.collisionDirection___21745=undefined;s.tile___21771=undefined;s.unnamed134___U12=undefined;s.unnamed135___U13=undefined;s.down___21837=undefined;s.y0___21840=undefined;s.collidedTiles___21855=undefined;s.x___21857=undefined;s.x0___21868=undefined;s.collisionDirection___21895=undefined;s.tile___21921=undefined;s.unnamed136___U21=undefined;s.unnamed137___U22=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);r0=s.arg1.fields[\"sprite\"];s.sprite___21656=r0;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=1;continue}r0=s.arg2.fields[\"scale\"];{step=2;continue}case 1:r0=0;case 2:s.tmp_0=r0;s.tileScale___21660=s.tmp_0;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=3;continue}r0=1<<s.tileScale___21660;{step=4;continue}case 3:r0=0;case 4:s.tmp_0=r0;s.tileSize___21664=s.tmp_0;r0=s.sprite___21656.fields[\"_x\"];s.tmp_0=r0;r0=s.sprite___21656.fields[\"_lastX\"];s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.xDiff___21667=r0;r0=s.sprite___21656.fields[\"_y\"];s.tmp_0=r0;r0=s.sprite___21656.fields[\"_lastY\"];s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.yDiff___21673=r0;r0=s.xDiff___21667!==globals.zeroFx8___11504;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=35;continue}r0=s.xDiff___21667>globals.zeroFx8___11504;s.right___21681=r0;r0=pxsim_numops_toBoolDecr(s.right___21681);if(!r0){step=5;continue}s.tmp_1=game_Hitbox_right__P12020_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_1.arg0=r0;s.pc=69;return s.tmp_1;case 69:r0=s.retval;s.tmp_0=r0;r0=1<<8;s.tmp_2=r0;r0=s.tmp_2+s.tmp_0;{step=6;continue}case 5:s.tmp_4=game_Hitbox_left__P12018_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_4.arg0=r0;s.pc=70;return s.tmp_4;case 70:r0=s.retval;s.tmp_3=r0;r0=-1<<8;s.tmp_5=r0;r0=s.tmp_5+s.tmp_3;case 6:s.tmp_6=r0;r0=s.tmp_6+globals.oneHalfFx8___11505;s.tmp_7=r0;r0=s.tileScale___21660+8;s.tmp_8=r0;r0=s.tmp_7>>s.tmp_8;s.x0___21684=r0;r0=pxsim_Array__mk();s.collidedTiles___21699=r0;s.tmp_1=game_Hitbox_top__P12019_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_1.arg0=r0;s.pc=71;return s.tmp_1;case 71:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0-s.yDiff___21673;s.y___21701=r0;case 7:s.tmp_1=r0=s.y___21701;s.tmp_3=r0=s.tileSize___21664;s.tmp_6=game_Hitbox_bottom__P12021_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_6.arg0=r0;s.pc=72;return s.tmp_6;case 72:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5-s.yDiff___21673;s.tmp_4=r0;r0=s.tmp_3<<8;s.tmp_7=r0;r0=s.tmp_7+s.tmp_4;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=10;continue}s.tmp_10=Fx_min__P11519_mk(s);s.tmp_10.arg0=s.y___21701;s.tmp_12=game_Hitbox_bottom__P12021_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_12.arg0=r0;s.pc=74;return s.tmp_12;case 74:r0=s.retval;s.tmp_11=r0;r0=s.tmp_11-s.yDiff___21673;s.tmp_10.arg1=r0;s.pc=73;return s.tmp_10;case 73:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9+globals.oneHalfFx8___11505;s.tmp_8=r0;r0=s.tileScale___21660+8;s.tmp_13=r0;r0=s.tmp_8>>s.tmp_13;s.y0___21716=r0;s.tmp_1=tiles_TileMap_isObstacle__P12308_mk(s);s.tmp_1.arg0=s.arg2;s.tmp_1.arg1=s.x0___21684;s.tmp_1.arg2=s.y0___21716;s.pc=75;return s.tmp_1;case 75:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}s.tmp_2=r0=s.collidedTiles___21699;s.tmp_4=tiles_TileMap_getObstacle__P12309_mk(s);s.tmp_4.arg0=s.arg2;s.tmp_4.arg1=s.x0___21684;s.tmp_4.arg2=s.y0___21716;s.pc=76;return s.tmp_4;case 76:r0=s.retval;s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_2,s.tmp_3);case 8:case 9:r0=s.tileSize___21664<<8;s.tmp_0=r0;r0=s.tmp_0+s.y___21701;s.y___21701=r0;{step=7;continue}case 10:r0=pxsim_Array__length(s.collidedTiles___21699);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=33;continue}r0=pxsim_numops_toBoolDecr(s.right___21681);if(!r0){step=11;continue}r0=2;{step=12;continue}case 11:r0=0;case 12:s.tmp_1=r0;s.collisionDirection___21745=s.tmp_1;r0=pxsim_numops_toBoolDecr(s.right___21681);if(!r0){step=13;continue}r0=s.x0___21684<<s.tileScale___21660;s.tmp_1=r0;r0=s.tmp_1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_0=r0;r0=s.sprite___21656.fields[\"_hitbox\"];r0=r0.fields[\"width\"];s.tmp_4=r0;r0=s.tmp_4*256;s.tmp_5=r0;r0=s.tmp_5|0;s.tmp_3=r0;r0=s.tmp_0-s.tmp_3;{step=14;continue}case 13:r0=s.x0___21684+1;s.tmp_7=r0;r0=s.tmp_7<<s.tileScale___21660;s.tmp_6=r0;r0=s.tmp_6*256;s.tmp_8=r0;r0=s.tmp_8|0;case 14:s.tmp_9=r0;s.tmp_10=r0=s.sprite___21656;r0=s.sprite___21656.fields[\"_hitbox\"];r0=r0.fields[\"ox\"];s.tmp_13=r0;r0=0-s.tmp_13;s.tmp_12=r0;r0=s.tmp_12<<8;s.tmp_14=r0;r0=s.tmp_14+s.tmp_9;s.tmp_11=r0;r0=s.tmp_10.fields[\"_x\"]=s.tmp_11;s.tile___21771=undefined;s.tile___21771=undefined;s.unnamed134___U12=s.collidedTiles___21699;s.unnamed135___U13=0;case 15:s.tmp_0=r0=s.unnamed135___U13;r0=pxsim_Array__length(s.unnamed134___U12);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=16;continue}r0=pxsim_Array__getAt(s.unnamed134___U12,s.unnamed135___U13);s.tile___21771=r0;s.tmp_2=Sprite_registerObstacle__P12077_mk(s);s.tmp_2.arg0=s.sprite___21656;s.tmp_2.arg1=s.collisionDirection___21745;s.tmp_2.arg2=s.tile___21771;s.pc=77;return s.tmp_2;case 77:r0=s.retval;r0=s.unnamed135___U13+1;s.unnamed135___U13=r0;{step=15;continue}case 16:s.unnamed134___U12=undefined;r0=s.sprite___21656.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&16;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=17;continue}s.tmp_2=Sprite_destroy__P12079_mk(s);s.tmp_2.arg0=s.sprite___21656;s.tmp_2.arg1=undefined;s.tmp_2.arg2=undefined;s.pc=78;return s.tmp_2;case 78:r0=s.retval;{step=32;continue}case 17:r0=s.sprite___21656.fields[\"_vx\"];s.tmp_1=r0;r0=s.arg1.fields[\"cachedVx\"];s.tmp_2=r0;r0=s.tmp_1===s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=28;continue}r0=s.sprite___21656.fields[\"flags\"];s.tmp_4=r0;r0=s.tmp_4&32;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=26;continue}r0=pxsim_numops_toBoolDecr(s.right___21681);s.tmp_6=r0;r0=pxsim_Boolean__bang(s.tmp_6);s.tmp_5=r0;r0=pxsim_numops_toBool(s.tmp_5);if(r0){step=18;continue}r0=s.tmp_5;{step=19;continue}case 18:s.tmp_8=Sprite_vx__P12037_mk(s);s.tmp_8.arg0=s.sprite___21656;s.pc=79;return s.tmp_8;case 79:r0=s.retval;s.tmp_7=r0;r0=s.tmp_7<0;case 19:s.tmp_9=r0;r0=pxsim_numops_toBool(s.tmp_9);if(!r0){step=20;continue}r0=s.tmp_9;{step=23;continue}case 20:s.tmp_10=r0=s.right___21681;r0=pxsim_numops_toBool(s.tmp_10);if(r0){step=21;continue}r0=s.tmp_10;{step=22;continue}case 21:s.tmp_12=Sprite_vx__P12037_mk(s);s.tmp_12.arg0=s.sprite___21656;s.pc=80;return s.tmp_12;case 80:r0=s.retval;s.tmp_11=r0;r0=s.tmp_11>0;case 22:s.tmp_13=r0;r0=s.tmp_13;case 23:s.tmp_14=r0;r0=pxsim_numops_toBoolDecr(s.tmp_14);if(!r0){step=24;continue}s.tmp_15=r0=s.sprite___21656;r0=s.sprite___21656.fields[\"_vx\"];s.tmp_17=r0;r0=0-s.tmp_17;s.tmp_16=r0;r0=s.tmp_15.fields[\"_vx\"]=s.tmp_16;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"xStep\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"xStep\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"dx\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"dx\"]=s.tmp_1;case 24:case 25:{step=27;continue}case 26:r0=s.arg1.fields[\"dx\"]=globals.zeroFx8___11504;r0=s.sprite___21656.fields[\"_vx\"]=globals.zeroFx8___11504;case 27:{step=31;continue}case 28:s.tmp_2=Math_sign__P11485_mk(s);r0=s.sprite___21656.fields[\"_vx\"];s.tmp_3=r0;r0=s.tmp_3+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_2.arg0=r0;s.pc=81;return s.tmp_2;case 81:r0=s.retval;s.tmp_1=r0;s.tmp_6=Math_sign__P11485_mk(s);r0=s.arg1.fields[\"cachedVx\"];s.tmp_7=r0;r0=s.tmp_7+128;s.tmp_8=r0;r0=s.tmp_8>>8;s.tmp_6.arg0=r0;s.pc=82;return s.tmp_6;case 82:r0=s.retval;s.tmp_5=r0;r0=s.tmp_1===s.tmp_5;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=29;continue}r0=s.arg1.fields[\"dx\"]=globals.zeroFx8___11504;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:r0=s.yDiff___21673!==globals.zeroFx8___11504;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=67;continue}r0=s.yDiff___21673>globals.zeroFx8___11504;s.down___21837=r0;r0=pxsim_numops_toBoolDecr(s.down___21837);if(!r0){step=37;continue}s.tmp_1=game_Hitbox_bottom__P12021_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_1.arg0=r0;s.pc=83;return s.tmp_1;case 83:r0=s.retval;s.tmp_0=r0;r0=1<<8;s.tmp_2=r0;r0=s.tmp_2+s.tmp_0;{step=38;continue}case 37:s.tmp_4=game_Hitbox_top__P12019_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_4.arg0=r0;s.pc=84;return s.tmp_4;case 84:r0=s.retval;s.tmp_3=r0;r0=-1<<8;s.tmp_5=r0;r0=s.tmp_5+s.tmp_3;case 38:s.tmp_6=r0;r0=s.tmp_6+globals.oneHalfFx8___11505;s.tmp_7=r0;r0=s.tileScale___21660+8;s.tmp_8=r0;r0=s.tmp_7>>s.tmp_8;s.y0___21840=r0;r0=pxsim_Array__mk();s.collidedTiles___21855=r0;s.tmp_0=game_Hitbox_left__P12018_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_0.arg0=r0;s.pc=85;return s.tmp_0;case 85:r0=s.retval;s.x___21857=r0;case 39:s.tmp_1=r0=s.x___21857;s.tmp_3=r0=s.tileSize___21664;s.tmp_5=game_Hitbox_right__P12020_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_5.arg0=r0;s.pc=86;return s.tmp_5;case 86:r0=s.retval;s.tmp_4=r0;r0=s.tmp_3<<8;s.tmp_6=r0;r0=s.tmp_6+s.tmp_4;s.tmp_2=r0;r0=s.tmp_1<s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=42;continue}s.tmp_9=Fx_min__P11519_mk(s);s.tmp_9.arg0=s.x___21857;s.tmp_10=game_Hitbox_right__P12020_mk(s);r0=s.sprite___21656.fields[\"_hitbox\"];s.tmp_10.arg0=r0;s.pc=88;return s.tmp_10;case 88:r0=s.retval;s.tmp_9.arg1=r0;s.pc=87;return s.tmp_9;case 87:r0=s.retval;s.tmp_8=r0;r0=s.tmp_8+globals.oneHalfFx8___11505;s.tmp_7=r0;r0=s.tileScale___21660+8;s.tmp_11=r0;r0=s.tmp_7>>s.tmp_11;s.x0___21868=r0;s.tmp_1=tiles_TileMap_isObstacle__P12308_mk(s);s.tmp_1.arg0=s.arg2;s.tmp_1.arg1=s.x0___21868;s.tmp_1.arg2=s.y0___21840;s.pc=89;return s.tmp_1;case 89:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=40;continue}s.tmp_2=r0=s.collidedTiles___21855;s.tmp_4=tiles_TileMap_getObstacle__P12309_mk(s);s.tmp_4.arg0=s.arg2;s.tmp_4.arg1=s.x0___21868;s.tmp_4.arg2=s.y0___21840;s.pc=90;return s.tmp_4;case 90:r0=s.retval;s.tmp_3=r0;r0=pxsim_Array__push(s.tmp_2,s.tmp_3);case 40:case 41:r0=s.tileSize___21664<<8;s.tmp_0=r0;r0=s.tmp_0+s.x___21857;s.x___21857=r0;{step=39;continue}case 42:r0=pxsim_Array__length(s.collidedTiles___21855);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=65;continue}r0=pxsim_numops_toBoolDecr(s.down___21837);if(!r0){step=43;continue}r0=3;{step=44;continue}case 43:r0=1;case 44:s.tmp_1=r0;s.collisionDirection___21895=s.tmp_1;r0=pxsim_numops_toBoolDecr(s.down___21837);if(!r0){step=45;continue}r0=s.y0___21840<<s.tileScale___21660;s.tmp_1=r0;r0=s.tmp_1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_0=r0;r0=s.sprite___21656.fields[\"_hitbox\"];r0=r0.fields[\"height\"];s.tmp_4=r0;r0=s.tmp_4*256;s.tmp_5=r0;r0=s.tmp_5|0;s.tmp_3=r0;r0=s.tmp_0-s.tmp_3;{step=46;continue}case 45:r0=s.y0___21840+1;s.tmp_7=r0;r0=s.tmp_7<<s.tileScale___21660;s.tmp_6=r0;r0=s.tmp_6*256;s.tmp_8=r0;r0=s.tmp_8|0;case 46:s.tmp_9=r0;s.tmp_10=r0=s.sprite___21656;r0=s.sprite___21656.fields[\"_hitbox\"];r0=r0.fields[\"oy\"];s.tmp_13=r0;r0=0-s.tmp_13;s.tmp_12=r0;r0=s.tmp_12<<8;s.tmp_14=r0;r0=s.tmp_14+s.tmp_9;s.tmp_11=r0;r0=s.tmp_10.fields[\"_y\"]=s.tmp_11;s.tile___21921=undefined;s.tile___21921=undefined;s.unnamed136___U21=s.collidedTiles___21855;s.unnamed137___U22=0;case 47:s.tmp_0=r0=s.unnamed137___U22;r0=pxsim_Array__length(s.unnamed136___U21);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=48;continue}r0=pxsim_Array__getAt(s.unnamed136___U21,s.unnamed137___U22);s.tile___21921=r0;s.tmp_2=Sprite_registerObstacle__P12077_mk(s);s.tmp_2.arg0=s.sprite___21656;s.tmp_2.arg1=s.collisionDirection___21895;s.tmp_2.arg2=s.tile___21921;s.pc=91;return s.tmp_2;case 91:r0=s.retval;r0=s.unnamed137___U22+1;s.unnamed137___U22=r0;{step=47;continue}case 48:s.unnamed136___U21=undefined;r0=s.sprite___21656.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&16;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=49;continue}s.tmp_2=Sprite_destroy__P12079_mk(s);s.tmp_2.arg0=s.sprite___21656;s.tmp_2.arg1=undefined;s.tmp_2.arg2=undefined;s.pc=92;return s.tmp_2;case 92:r0=s.retval;{step=64;continue}case 49:r0=s.sprite___21656.fields[\"_vy\"];s.tmp_1=r0;r0=s.arg1.fields[\"cachedVy\"];s.tmp_2=r0;r0=s.tmp_1===s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=60;continue}r0=s.sprite___21656.fields[\"flags\"];s.tmp_4=r0;r0=s.tmp_4&32;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=58;continue}r0=pxsim_numops_toBoolDecr(s.down___21837);s.tmp_6=r0;r0=pxsim_Boolean__bang(s.tmp_6);s.tmp_5=r0;r0=pxsim_numops_toBool(s.tmp_5);if(r0){step=50;continue}r0=s.tmp_5;{step=51;continue}case 50:s.tmp_8=Sprite_vy__P12039_mk(s);s.tmp_8.arg0=s.sprite___21656;s.pc=93;return s.tmp_8;case 93:r0=s.retval;s.tmp_7=r0;r0=s.tmp_7<0;case 51:s.tmp_9=r0;r0=pxsim_numops_toBool(s.tmp_9);if(!r0){step=52;continue}r0=s.tmp_9;{step=55;continue}case 52:s.tmp_10=r0=s.down___21837;r0=pxsim_numops_toBool(s.tmp_10);if(r0){step=53;continue}r0=s.tmp_10;{step=54;continue}case 53:s.tmp_12=Sprite_vy__P12039_mk(s);s.tmp_12.arg0=s.sprite___21656;s.pc=94;return s.tmp_12;case 94:r0=s.retval;s.tmp_11=r0;r0=s.tmp_11>0;case 54:s.tmp_13=r0;r0=s.tmp_13;case 55:s.tmp_14=r0;r0=pxsim_numops_toBoolDecr(s.tmp_14);if(!r0){step=56;continue}s.tmp_15=r0=s.sprite___21656;r0=s.sprite___21656.fields[\"_vy\"];s.tmp_17=r0;r0=0-s.tmp_17;s.tmp_16=r0;r0=s.tmp_15.fields[\"_vy\"]=s.tmp_16;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"yStep\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"yStep\"]=s.tmp_1;s.tmp_0=r0=s.arg1;r0=s.arg1.fields[\"dy\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"dy\"]=s.tmp_1;case 56:case 57:{step=59;continue}case 58:r0=s.arg1.fields[\"dy\"]=globals.zeroFx8___11504;r0=s.sprite___21656.fields[\"_vy\"]=globals.zeroFx8___11504;case 59:{step=63;continue}case 60:s.tmp_2=Math_sign__P11485_mk(s);r0=s.sprite___21656.fields[\"_vy\"];s.tmp_3=r0;r0=s.tmp_3+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_2.arg0=r0;s.pc=95;return s.tmp_2;case 95:r0=s.retval;s.tmp_1=r0;s.tmp_6=Math_sign__P11485_mk(s);r0=s.arg1.fields[\"cachedVy\"];s.tmp_7=r0;r0=s.tmp_7+128;s.tmp_8=r0;r0=s.tmp_8>>8;s.tmp_6.arg0=r0;s.pc=96;return s.tmp_6;case 96:r0=s.retval;s.tmp_5=r0;r0=s.tmp_1===s.tmp_5;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=61;continue}r0=s.arg1.fields[\"dy\"]=globals.zeroFx8___11504;case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_tilemapCollisions__P12160.info={start:9627,length:6639,line:292,column:4,endLine:461,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"tilemapCollisions\",argumentNames:[\"this\",\"movingSprite\",\"tm\"]};function ArcadePhysicsEngine_tilemapCollisions__P12160_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_tilemapCollisions__P12160,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,tmp_17:undefined,sprite___21656:undefined,tileScale___21660:undefined,tileSize___21664:undefined,xDiff___21667:undefined,yDiff___21673:undefined,right___21681:undefined,x0___21684:undefined,collidedTiles___21699:undefined,y___21701:undefined,y0___21716:undefined,collisionDirection___21745:undefined,tile___21771:undefined,unnamed134___U12:undefined,unnamed135___U13:undefined,down___21837:undefined,y0___21840:undefined,collidedTiles___21855:undefined,x___21857:undefined,x0___21868:undefined,collisionDirection___21895:undefined,tile___21921:undefined,unnamed136___U21:undefined,unnamed137___U22:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function tiles_TileMap_getObstacle__P12309(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.index___22015=undefined;s.tile___22025=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);s.tmp_1=tiles_TileMap_isOutsideMap__P12305_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg1;s.tmp_1.arg2=s.arg2;s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=0;{step=2;continue}case 1:r0=s.arg0.fields[\"_map\"];s.tmp_2=r0;r0=pxsim_ImageMethods.getPixel(s.tmp_2,s.arg1,s.arg2);case 2:s.tmp_3=r0;s.index___22015=s.tmp_3;r0=s.arg0.fields[\"_tileSets\"];s.tmp_1=r0;r0=pxsim_Array__getAt(s.tmp_1,s.index___22015);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:s.tmp_2=tiles_TileMap_generateTile__P12304_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.index___22015;s.pc=6;return s.tmp_2;case 6:r0=s.retval;case 4:s.tmp_3=r0;s.tile___22025=s.tmp_3;r0=pxsim_pxtcore_mkClassInstance(sprites_StaticObstacle__C12125_VT);s.tmp_0=r0;s.tmp_1=sprites_StaticObstacle_constructor__P12132_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_2=tiles_TileSet_image__P12282_mk(s);s.tmp_2.arg0=s.tile___22025;s.pc=8;return s.tmp_2;case 8:r0=s.retval;s.tmp_1.arg1=r0;r0=s.arg0.fields[\"scale\"];s.tmp_3=r0;r0=s.arg2<<s.tmp_3;s.tmp_1.arg2=r0;r0=s.arg0.fields[\"scale\"];s.tmp_4=r0;r0=s.arg1<<s.tmp_4;s.tmp_1.arg3=r0;r0=s.arg0.fields[\"_layer\"];s.tmp_1.arg4=r0;s.tmp_1.arg5=s.index___22015;s.pc=7;return s.tmp_1;case 7:r0=s.retval;r0=s.tmp_0;return leave(s,r0);default:oops()}}}tiles_TileMap_getObstacle__P12309.info={start:7866,length:432,line:248,column:8,endLine:258,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"getObstacle\",argumentNames:[\"this\",\"col\",\"row\"]};function tiles_TileMap_getObstacle__P12309_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_getObstacle__P12309,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,index___22015:undefined,tile___22025:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function tiles_TileMap_isOutsideMap__P12305(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg1<0;case 2:s.tmp_7=r0;r0=pxsim_numops_toBool(s.tmp_7);if(!r0){step=3;continue}r0=s.tmp_7;{step=4;continue}case 3:s.tmp_8=r0=s.arg1;r0=s.arg0.fields[\"_map\"];s.tmp_10=r0;r0=pxsim_ImageMethods.width(s.tmp_10);s.tmp_9=r0;r0=s.tmp_8>=s.tmp_9;case 4:s.tmp_11=r0;r0=pxsim_numops_toBool(s.tmp_11);if(!r0){step=5;continue}r0=s.tmp_11;{step=6;continue}case 5:r0=s.arg2<0;case 6:s.tmp_12=r0;r0=pxsim_numops_toBool(s.tmp_12);if(!r0){step=7;continue}r0=s.tmp_12;{step=8;continue}case 7:s.tmp_13=r0=s.arg2;r0=s.arg0.fields[\"_map\"];s.tmp_15=r0;r0=pxsim_ImageMethods.height(s.tmp_15);s.tmp_14=r0;r0=s.tmp_13>=s.tmp_14;case 8:s.tmp_16=r0;r0=s.tmp_16;return leave(s,r0);default:oops()}}}tiles_TileMap_isOutsideMap__P12305.info={start:5019,length:192,line:174,column:8,endLine:177,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"isOutsideMap\",argumentNames:[\"this\",\"col\",\"row\"]};function tiles_TileMap_isOutsideMap__P12305_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_isOutsideMap__P12305,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function tiles_TileMap_layer__P12296(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_layer\"];return leave(s,r0);default:oops()}}}tiles_TileMap_layer__P12296.info={start:3319,length:63,line:119,column:8,endLine:121,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"layer\",argumentNames:[\"this\"]};function tiles_TileMap_layer__P12296_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_layer__P12296,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function sprites_StaticObstacle_constructor__P12132(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_StaticObstacle__C12125_VT))failedCast(r0);r0=s.arg0.fields[\"image\"]=s.arg1;r0=s.arg0.fields[\"layer\"]=s.arg4;r0=s.arg0.fields[\"top\"]=s.arg2;r0=s.arg0.fields[\"left\"]=s.arg3;r0=s.arg0.fields[\"tileIndex\"]=s.arg5;return leave(s,r0);default:oops()}}}sprites_StaticObstacle_constructor__P12132.info={start:563,length:261,line:28,column:8,endLine:34,endColumn:9,fileName:\"pxt_modules/game/obstacle.ts\",functionName:\"inline\",argumentNames:[\"this\",\"image\",\"top\",\"left\",\"layer\",\"tileIndex\"]};function sprites_StaticObstacle_constructor__P12132_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_StaticObstacle_constructor__P12132,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined}}function tiles_TileMap_isObstacle__P12308(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.t___22182=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,tiles_TileMap__C12290_VT))failedCast(r0);r0=s.arg0.fields[\"_map\"];s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);s.tmp_5=r0;r0=pxsim_Boolean__bang(s.tmp_5);s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=false;{step=7;continue}case 1:case 2:s.tmp_8=tiles_TileMap_isOutsideMap__P12305_mk(s);s.tmp_8.arg0=s.arg0;s.tmp_8.arg1=s.arg1;s.tmp_8.arg2=s.arg2;s.pc=8;return s.tmp_8;case 8:r0=s.retval;s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=3;continue}r0=true;{step=7;continue}case 3:case 4:r0=s.arg0.fields[\"_tileSets\"];s.tmp_9=r0;r0=s.arg0.fields[\"_map\"];s.tmp_11=r0;r0=pxsim_ImageMethods.getPixel(s.tmp_11,s.arg1,s.arg2);s.tmp_10=r0;r0=pxsim_Array__getAt(s.tmp_9,s.tmp_10);s.t___22182=r0;s.tmp_0=r0=s.t___22182;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:r0=s.t___22182.fields[\"obstacle\"];case 6:s.tmp_1=r0;r0=s.tmp_1;case 7:return leave(s,r0);default:oops()}}}tiles_TileMap_isObstacle__P12308.info={start:7595,length:261,line:240,column:8,endLine:246,endColumn:9,fileName:\"pxt_modules/game/tilemap.ts\",functionName:\"isObstacle\",argumentNames:[\"this\",\"col\",\"row\"]};function tiles_TileMap_isObstacle__P12308_mk(s){checkStack(s.depth);return{parent:s,fn:tiles_TileMap_isObstacle__P12308,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,t___22182:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Sprite_registerObstacle__P12077(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.collisionHandlers___21992=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_obstacles\"];s.tmp_0=r0;r0=pxsim_Array_.setAt(s.tmp_0,s.arg1,s.arg2);s.tmp_1=game_currentScene__P12194_mk(s);s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=r0.fields[\"collisionHandlers\"];s.tmp_0=r0;s.tmp_3=if_tileIndex_1_mk(s);s.tmp_3.arg0=s.arg2;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"tileIndex\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"tileIndex\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"tileIndex\"]}else{s.pc=4;return s.tmp_3}}case 4:r0=s.retval;s.tmp_2=r0;r0=pxsim_Array__getAt(s.tmp_0,s.tmp_2);s.collisionHandlers___21992=r0;r0=pxsim_numops_toBoolDecr(s.collisionHandlers___21992);if(!r0){step=1;continue}r0=pxsim_pxtcore_mkAction(1,inline__P22003);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtcore_mkAction(1,inline__P22008);s.tmp_1=r0;r0=pxsim_pxtrt_stclo(s.tmp_1,0,s.arg0);s.tmp_2=helpers_arrayForEach__P11472_mk(s);s.tmp_3=helpers_arrayFilter__P11473_mk(s);s.tmp_3.arg0=s.collisionHandlers___21992;s.tmp_3.arg1=s.tmp_0;s.pc=6;return s.tmp_3;case 6:r0=s.retval;s.tmp_2.arg0=r0;s.tmp_2.arg1=s.tmp_1;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}Sprite_registerObstacle__P12077.info={start:23979,length:388,line:733,column:4,endLine:742,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"registerObstacle\",argumentNames:[\"this\",\"direction\",\"other\"]};function Sprite_registerObstacle__P12077_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_registerObstacle__P12077,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,collisionHandlers___21992:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P22003(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"kind\"];s.tmp_0=r0;r0=s.caps[0].fields[\"_kind\"];s.tmp_1=r0;r0=s.tmp_0==s.tmp_1;return leave(s,r0);default:oops()}}}inline__P22003.info={start:24276,length:26,line:739,column:24,endLine:739,endColumn:50,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P22003_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22003,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P22008(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=lambda_2_mk(s);r0=s.arg0.fields[\"handler\"];s.tmp_0.argL=r0;s.tmp_0.arg0=s.caps[0];setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}inline__P22008.info={start:24329,length:20,line:740,column:25,endLine:740,endColumn:45,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P22008_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22008,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function game_Hitbox_bottom__P12021(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_Hitbox__C12017_VT))failedCast(r0);r0=s.arg0.fields[\"height\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0=r0;s.tmp_3=game_Hitbox_top__P12019_mk(s);s.tmp_3.arg0=s.arg0;s.pc=1;return s.tmp_3;case 1:r0=s.retval;s.tmp_2=r0;r0=s.tmp_0<<8;s.tmp_4=r0;r0=s.tmp_4+s.tmp_2;return leave(s,r0);default:oops()}}}game_Hitbox_bottom__P12021.info={start:673,length:78,line:28,column:8,endLine:30,endColumn:9,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"bottom\",argumentNames:[\"this\"]};function game_Hitbox_bottom__P12021_mk(s){checkStack(s.depth);return{parent:s,fn:game_Hitbox_bottom__P12021,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function game_Hitbox_right__P12020(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_Hitbox__C12017_VT))failedCast(r0);r0=s.arg0.fields[\"width\"];s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0=r0;s.tmp_3=game_Hitbox_left__P12018_mk(s);s.tmp_3.arg0=s.arg0;s.pc=1;return s.tmp_3;case 1:r0=s.retval;s.tmp_2=r0;r0=s.tmp_0<<8;s.tmp_4=r0;r0=s.tmp_4+s.tmp_2;return leave(s,r0);default:oops()}}}game_Hitbox_right__P12020.info={start:586,length:77,line:24,column:8,endLine:26,endColumn:9,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"right\",argumentNames:[\"this\"]};function game_Hitbox_right__P12020_mk(s){checkStack(s.depth);return{parent:s,fn:game_Hitbox_right__P12020,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function game_Hitbox_top__P12019(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_Hitbox__C12017_VT))failedCast(r0);r0=s.arg0.fields[\"oy\"];s.tmp_0=r0;r0=s.arg0.fields[\"parent\"];r0=r0.fields[\"_y\"];s.tmp_1=r0;r0=s.tmp_0<<8;s.tmp_2=r0;r0=s.tmp_2+s.tmp_1;return leave(s,r0);default:oops()}}}game_Hitbox_top__P12019.info={start:503,length:73,line:20,column:8,endLine:22,endColumn:9,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"top\",argumentNames:[\"this\"]};function game_Hitbox_top__P12019_mk(s){checkStack(s.depth);return{parent:s,fn:game_Hitbox_top__P12019,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function game_Hitbox_left__P12018(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,game_Hitbox__C12017_VT))failedCast(r0);r0=s.arg0.fields[\"ox\"];s.tmp_0=r0;r0=s.arg0.fields[\"parent\"];r0=r0.fields[\"_x\"];s.tmp_1=r0;r0=s.tmp_0<<8;s.tmp_2=r0;r0=s.tmp_2+s.tmp_1;return leave(s,r0);default:oops()}}}game_Hitbox_left__P12018.info={start:419,length:74,line:16,column:8,endLine:18,endColumn:9,fileName:\"pxt_modules/game/hitbox.ts\",functionName:\"left\",argumentNames:[\"this\"]};function game_Hitbox_left__P12018_mk(s){checkStack(s.depth);return{parent:s,fn:game_Hitbox_left__P12018,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function Fx_min__P11519(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0<s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=3;continue}{step=2;continue}case 1:r0=s.arg1;case 2:case 3:return leave(s,r0);default:oops()}}}Fx_min__P11519.info={start:1527,length:117,line:47,column:4,endLine:52,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"min\",argumentNames:[\"a\",\"b\"]};function Fx_min__P11519_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_min__P11519,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function Fx_iadd__P11512(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0<<8;s.tmp_0=r0;r0=s.tmp_0+s.arg1;return leave(s,r0);default:oops()}}}Fx_iadd__P11512.info={start:621,length:110,line:23,column:4,endLine:25,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"iadd\",argumentNames:[\"a\",\"b\"]};function Fx_iadd__P11512_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_iadd__P11512,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function Fx_toIntShifted__P11510(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}s.tmp_0=r0=s.arg0;r0=s.arg1+8;s.tmp_1=r0;r0=s.tmp_0>>s.tmp_1;return leave(s,r0);default:oops()}}}Fx_toIntShifted__P11510.info={start:391,length:102,line:17,column:4,endLine:19,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"toIntShifted\",argumentNames:[\"a\",\"n\"]};function Fx_toIntShifted__P11510_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_toIntShifted__P11510,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function MovingSprite_constructor__P12151(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.arg5=s.lambdaArgs[5];s.arg6=s.lambdaArgs[6];s.arg7=s.lambdaArgs[7];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,MovingSprite__C12150_VT))failedCast(r0);r0=s.arg0.fields[\"sprite\"]=s.arg1;r0=s.arg0.fields[\"cachedVx\"]=s.arg2;r0=s.arg0.fields[\"cachedVy\"]=s.arg3;r0=s.arg0.fields[\"dx\"]=s.arg4;r0=s.arg0.fields[\"dy\"]=s.arg5;r0=s.arg0.fields[\"xStep\"]=s.arg6;r0=s.arg0.fields[\"yStep\"]=s.arg7;return leave(s,r0);default:oops()}}}MovingSprite_constructor__P12151.info={start:610,length:313,line:28,column:4,endLine:39,endColumn:9,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"this\",\"sprite\",\"cachedVx\",\"cachedVy\",\"dx\",\"dy\",\"xStep\",\"yStep\"]};function MovingSprite_constructor__P12151_mk(s){checkStack(s.depth);return{parent:s,fn:MovingSprite_constructor__P12151,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined,arg5:undefined,arg6:undefined,arg7:undefined}}function ArcadePhysicsEngine_move__P12157(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.dtf___22238=undefined;s.dtSec___22243=undefined;s.dt2___22246=undefined;s.scene___22249=undefined;s.movingSprites___22251=undefined;s.tileMap___22262=undefined;s.MAX_STEP_COUNT___22284=undefined;s.overlapHandlers___22293=undefined;s.selected___22299=undefined;s.buffers___22300=undefined;s.count___22304=undefined;s.currMovers___22312=undefined;s.remainingMovers___22317=undefined;s.ms___22321=undefined;s.unnamed128___U14=undefined;s.unnamed129___U15=undefined;s.s___22323=undefined;s.stepX___22404=undefined;s.stepY___22415=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);s.tmp_0=Fx_min__P11519_mk(s);s.tmp_0.arg0=globals.MAX_TIME_STEP___12141;r0=s.arg1*1e3;s.tmp_1=r0;r0=s.tmp_1*256;s.tmp_2=r0;r0=s.tmp_2|0;s.tmp_0.arg1=r0;s.pc=47;return s.tmp_0;case 47:r0=s.retval;s.dtf___22238=r0;r0=pxsim.Math_.idiv(s.dtf___22238,1e3);s.dtSec___22243=r0;r0=pxsim.Math_.idiv(s.dtf___22238,2);s.dt2___22246=r0;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=48;return s.tmp_0;case 48:r0=s.retval;s.scene___22249=r0;r0=pxsim_pxtcore_mkAction(3,inline__P22256);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.dtSec___22243);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.dt2___22246);s.tmp_1=helpers_arrayMap__P11469_mk(s);r0=s.arg0.fields[\"sprites\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=s.tmp_0;s.pc=49;return s.tmp_1;case 49:r0=s.retval;s.movingSprites___22251=r0;r0=s.scene___22249.fields[\"tileMap\"];s.tileMap___22262=r0;s.tmp_0=helpers_arrayForEach__P11472_mk(s);r0=s.arg0.fields[\"sprites\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=inline__P22268;s.pc=50;return s.tmp_0;case 50:r0=s.retval;s.tmp_0=sprites_SpriteMap_clear__P12089_mk(s);r0=s.arg0.fields[\"map\"];s.tmp_0.arg0=r0;s.pc=51;return s.tmp_0;case 51:r0=s.retval;s.tmp_0=sprites_SpriteMap_resizeBuckets__P12088_mk(s);r0=s.arg0.fields[\"map\"];s.tmp_0.arg0=r0;r0=s.arg0.fields[\"sprites\"];s.tmp_0.arg1=r0;s.pc=52;return s.tmp_0;case 52:r0=s.retval;r0=s.arg0.fields[\"maxVelocity\"];s.tmp_2=r0;r0=s.arg0.fields[\"minSingleStep\"];s.tmp_3=r0;r0=s.tmp_2<<8;s.tmp_4=r0;r0=pxsim.Math_.idiv(s.tmp_4,s.tmp_3);s.tmp_1=r0;r0=pxsim.Math_.imul(s.tmp_1,s.dtSec___22243);s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_0=r0;r0=s.tmp_0+128;s.tmp_6=r0;r0=s.tmp_6>>8;s.MAX_STEP_COUNT___22284=r0;s.tmp_0=helpers_arraySlice__P11477_mk(s);r0=s.scene___22249.fields[\"overlapHandlers\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=undefined;s.tmp_0.arg2=undefined;s.pc=53;return s.tmp_0;case 53:r0=s.retval;s.overlapHandlers___22293=r0;s.selected___22299=0;r0=pxsim_Array__mk();s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.movingSprites___22251);r0=pxsim_Array__mk();s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);s.buffers___22300=s.tmp_0;s.count___22304=0;case 1:r0=s.count___22304<s.MAX_STEP_COUNT___22284;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:r0=pxsim_Array__getAt(s.buffers___22300,s.selected___22299);s.tmp_2=r0;r0=pxsim_Array__length(s.tmp_2);s.tmp_1=r0;r0=s.tmp_1!==0;case 3:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=46;continue}r0=pxsim_Array__getAt(s.buffers___22300,s.selected___22299);s.currMovers___22312=r0;r0=s.selected___22299^1;s.selected___22299=r0;r0=pxsim_Array__getAt(s.buffers___22300,s.selected___22299);s.remainingMovers___22317=r0;s.ms___22321=undefined;s.ms___22321=undefined;s.unnamed128___U14=s.currMovers___22312;s.unnamed129___U15=0;case 4:s.tmp_0=r0=s.unnamed129___U15;r0=pxsim_Array__length(s.unnamed128___U14);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=43;continue}r0=pxsim_Array__getAt(s.unnamed128___U14,s.unnamed129___U15);s.ms___22321=r0;r0=s.ms___22321.fields[\"sprite\"];s.s___22323=r0;r0=s.ms___22321.fields[\"cachedVx\"];s.tmp_1=r0;r0=s.s___22323.fields[\"_vx\"];s.tmp_2=r0;r0=s.tmp_1!==s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}r0=s.s___22323.fields[\"_vx\"];s.tmp_4=r0;r0=s.tmp_4==globals.zeroFx8___11504;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}r0=s.ms___22321.fields[\"dx\"]=globals.zeroFx8___11504;{step=14;continue}case 5:r0=s.s___22323.fields[\"_vx\"];s.tmp_1=r0;r0=s.tmp_1<globals.zeroFx8___11504;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=6;continue}r0=s.tmp_0;{step=7;continue}case 6:r0=s.ms___22321.fields[\"cachedVx\"];s.tmp_2=r0;r0=s.tmp_2>globals.zeroFx8___11504;case 7:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(!r0){step=8;continue}r0=s.tmp_3;{step=11;continue}case 8:r0=s.s___22323.fields[\"_vx\"];s.tmp_5=r0;r0=s.tmp_5>globals.zeroFx8___11504;s.tmp_4=r0;r0=pxsim_numops_toBool(s.tmp_4);if(r0){step=9;continue}r0=s.tmp_4;{step=10;continue}case 9:r0=s.ms___22321.fields[\"cachedVx\"];s.tmp_6=r0;r0=s.tmp_6<globals.zeroFx8___11504;case 10:s.tmp_7=r0;r0=s.tmp_7;case 11:s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);if(!r0){step=12;continue}s.tmp_9=r0=s.ms___22321;r0=s.ms___22321.fields[\"dx\"];s.tmp_11=r0;r0=0-s.tmp_11;s.tmp_10=r0;r0=s.tmp_9.fields[\"dx\"]=s.tmp_10;s.tmp_0=r0=s.ms___22321;r0=s.ms___22321.fields[\"xStep\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"xStep\"]=s.tmp_1;case 12:case 13:case 14:r0=s.s___22323.fields[\"_vx\"];s.tmp_0=r0;r0=s.ms___22321.fields[\"cachedVx\"]=s.tmp_0;case 15:case 16:r0=s.ms___22321.fields[\"cachedVy\"];s.tmp_1=r0;r0=s.s___22323.fields[\"_vy\"];s.tmp_2=r0;r0=s.tmp_1!==s.tmp_2;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=27;continue}r0=s.s___22323.fields[\"_vy\"];s.tmp_4=r0;r0=s.tmp_4==globals.zeroFx8___11504;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=17;continue}r0=s.ms___22321.fields[\"dy\"]=globals.zeroFx8___11504;{step=26;continue}case 17:r0=s.s___22323.fields[\"_vy\"];s.tmp_1=r0;r0=s.tmp_1<globals.zeroFx8___11504;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=18;continue}r0=s.tmp_0;{step=19;continue}case 18:r0=s.ms___22321.fields[\"cachedVy\"];s.tmp_2=r0;r0=s.tmp_2>globals.zeroFx8___11504;case 19:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(!r0){step=20;continue}r0=s.tmp_3;{step=23;continue}case 20:r0=s.s___22323.fields[\"_vy\"];s.tmp_5=r0;r0=s.tmp_5>globals.zeroFx8___11504;s.tmp_4=r0;r0=pxsim_numops_toBool(s.tmp_4);if(r0){step=21;continue}r0=s.tmp_4;{step=22;continue}case 21:r0=s.ms___22321.fields[\"cachedVy\"];s.tmp_6=r0;r0=s.tmp_6<globals.zeroFx8___11504;case 22:s.tmp_7=r0;r0=s.tmp_7;case 23:s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);if(!r0){step=24;continue}s.tmp_9=r0=s.ms___22321;r0=s.ms___22321.fields[\"dy\"];s.tmp_11=r0;r0=0-s.tmp_11;s.tmp_10=r0;r0=s.tmp_9.fields[\"dy\"]=s.tmp_10;s.tmp_0=r0=s.ms___22321;r0=s.ms___22321.fields[\"yStep\"];s.tmp_2=r0;r0=0-s.tmp_2;s.tmp_1=r0;r0=s.tmp_0.fields[\"yStep\"]=s.tmp_1;case 24:case 25:case 26:r0=s.s___22323.fields[\"_vy\"];s.tmp_0=r0;r0=s.ms___22321.fields[\"cachedVy\"]=s.tmp_0;case 27:case 28:s.tmp_2=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"xStep\"];s.tmp_2.arg0=r0;s.pc=54;return s.tmp_2;case 54:r0=s.retval;s.tmp_1=r0;s.tmp_4=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"dx\"];s.tmp_4.arg0=r0;s.pc=55;return s.tmp_4;case 55:r0=s.retval;s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=29;continue}r0=s.ms___22321.fields[\"dx\"];{step=30;continue}case 29:r0=s.ms___22321.fields[\"xStep\"];case 30:s.tmp_5=r0;s.stepX___22404=s.tmp_5;s.tmp_2=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"yStep\"];s.tmp_2.arg0=r0;s.pc=56;return s.tmp_2;case 56:r0=s.retval;s.tmp_1=r0;s.tmp_4=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"dy\"];s.tmp_4.arg0=r0;s.pc=57;return s.tmp_4;case 57:r0=s.retval;s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=31;continue}r0=s.ms___22321.fields[\"dy\"];{step=32;continue}case 31:r0=s.ms___22321.fields[\"yStep\"];case 32:s.tmp_5=r0;s.stepY___22415=s.tmp_5;s.tmp_0=r0=s.ms___22321;r0=s.ms___22321.fields[\"dx\"];s.tmp_2=r0;r0=s.tmp_2-s.stepX___22404;s.tmp_1=r0;r0=s.tmp_0.fields[\"dx\"]=s.tmp_1;s.tmp_0=r0=s.ms___22321;r0=s.ms___22321.fields[\"dy\"];s.tmp_2=r0;r0=s.tmp_2-s.stepY___22415;s.tmp_1=r0;r0=s.tmp_0.fields[\"dy\"]=s.tmp_1;r0=s.s___22323.fields[\"_x\"];s.tmp_0=r0;r0=s.s___22323.fields[\"_lastX\"]=s.tmp_0;r0=s.s___22323.fields[\"_y\"];s.tmp_0=r0;r0=s.s___22323.fields[\"_lastY\"]=s.tmp_0;s.tmp_0=r0=s.s___22323;r0=s.s___22323.fields[\"_x\"];s.tmp_2=r0;r0=s.tmp_2+s.stepX___22404;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_0=r0=s.s___22323;r0=s.s___22323.fields[\"_y\"];s.tmp_2=r0;r0=s.tmp_2+s.stepY___22415;s.tmp_1=r0;r0=s.tmp_0.fields[\"_y\"]=s.tmp_1;r0=s.s___22323.fields[\"flags\"];s.tmp_3=r0;r0=s.tmp_3&globals.SPRITE_CANNOT_COLLIDE___12143;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=37;continue}s.tmp_4=sprites_SpriteMap_insertAABB__P12093_mk(s);r0=s.arg0.fields[\"map\"];s.tmp_4.arg0=r0;s.tmp_4.arg1=s.s___22323;s.pc=58;return s.tmp_4;case 58:r0=s.retval;s.tmp_0=r0=s.tileMap___22262;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=33;continue}r0=s.tmp_0;{step=34;continue}case 33:r0=s.tileMap___22262.fields[\"_map\"];s.tmp_4=r0;r0=pxsim_numops_toBoolDecr(s.tmp_4);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);case 34:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=35;continue}s.tmp_6=ArcadePhysicsEngine_tilemapCollisions__P12160_mk(s);s.tmp_6.arg0=s.arg0;s.tmp_6.arg1=s.ms___22321;s.tmp_6.arg2=s.tileMap___22262;s.pc=59;return s.tmp_6;case 59:r0=s.retval;case 35:case 36:case 37:case 38:s.tmp_2=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"dx\"];s.tmp_2.arg0=r0;s.pc=60;return s.tmp_2;case 60:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1>globals.MIN_MOVE_GAP___12148;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=39;continue}r0=s.tmp_0;{step=40;continue}case 39:s.tmp_4=Fx_abs__P11518_mk(s);r0=s.ms___22321.fields[\"dy\"];s.tmp_4.arg0=r0;s.pc=61;return s.tmp_4;case 61:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3>globals.MIN_MOVE_GAP___12148;case 40:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=41;continue}r0=pxsim_Array__push(s.remainingMovers___22317,s.ms___22321);case 41:case 42:r0=s.unnamed129___U15+1;s.unnamed129___U15=r0;{step=4;continue}case 43:s.unnamed128___U14=undefined;s.tmp_0=ArcadePhysicsEngine_spriteCollisions__P12159_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.currMovers___22312;s.tmp_0.arg2=s.overlapHandlers___22293;s.pc=62;return s.tmp_0;case 62:r0=s.retval;case 44:r0=pxsim_Array__length(s.currMovers___22312);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=45;continue}r0=pxsim_Array_.pop(s.currMovers___22312);{step=44;continue}case 45:r0=s.count___22304+1;s.count___22304=r0;{step=1;continue}case 46:r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_move__P12157.info={start:1841,length:3940,line:75,column:4,endLine:175,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"move\",argumentNames:[\"this\",\"dt\"]};function ArcadePhysicsEngine_move__P12157_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_move__P12157,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,dtf___22238:undefined,dtSec___22243:undefined,dt2___22246:undefined,scene___22249:undefined,movingSprites___22251:undefined,tileMap___22262:undefined,MAX_STEP_COUNT___22284:undefined,overlapHandlers___22293:undefined,selected___22299:undefined,buffers___22300:undefined,count___22304:undefined,currMovers___22312:undefined,remainingMovers___22317:undefined,ms___22321:undefined,unnamed128___U14:undefined,unnamed129___U15:undefined,s___22323:undefined,stepX___22404:undefined,stepY___22415:undefined,arg0:undefined,arg1:undefined}}function inline__P22256(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=ArcadePhysicsEngine_createMovingSprite__P12158_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_0.arg1=s.arg0;s.tmp_0.arg2=s.caps[1];s.tmp_0.arg3=s.caps[2];s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}inline__P22256.info={start:2236,length:53,line:87,column:17,endLine:87,endColumn:70,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"sprite\"]};function inline__P22256_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22256,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function inline__P22268(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_1=Sprite_vx__P12037_mk(s);s.tmp_1.arg0=s.arg0;s.pc=5;return s.tmp_1;case 5:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_2=Sprite_vy__P12039_mk(s);s.tmp_2.arg0=s.arg0;s.pc=6;return s.tmp_2;case 6:r0=s.retval;case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}s.tmp_4=Sprite_clearObstacles__P12076_mk(s);s.tmp_4.arg0=s.arg0;s.pc=7;return s.tmp_4;case 7:r0=s.retval;case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}inline__P22268.info={start:2411,length:66,line:91,column:29,endLine:93,endColumn:9,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"s\"]};function inline__P22268_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22268,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function ArcadePhysicsEngine_spriteCollisions__P12159(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ms___22504=undefined;s.unnamed130___U1=undefined;s.unnamed131___U2=undefined;s.sprite___22506=undefined;s.overSprites___22512=undefined;s.overlapper___22519=undefined;s.unnamed132___U6=undefined;s.unnamed133___U7=undefined;s.thisKind___22524=undefined;s.otherKind___22527=undefined;s.higher___22537=undefined;s.lower___22544=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);r0=pxsim_Array__length(s.arg2);s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=21;continue}case 1:case 2:s.ms___22504=undefined;s.ms___22504=undefined;s.unnamed130___U1=s.arg1;s.unnamed131___U2=0;case 3:s.tmp_0=r0=s.unnamed131___U2;r0=pxsim_Array__length(s.unnamed130___U1);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=20;continue}r0=pxsim_Array__getAt(s.unnamed130___U1,s.unnamed131___U2);s.ms___22504=r0;r0=s.ms___22504.fields[\"sprite\"];s.sprite___22506=r0;r0=s.sprite___22506.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&globals.SPRITE_CANNOT_COLLIDE___12143;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}{step=19;continue}case 4:case 5:s.tmp_2=sprites_SpriteMap_overlaps__P12086_mk(s);r0=s.arg0.fields[\"map\"];s.tmp_2.arg0=r0;r0=s.ms___22504.fields[\"sprite\"];s.tmp_2.arg1=r0;s.pc=22;return s.tmp_2;case 22:r0=s.retval;s.overSprites___22512=r0;s.overlapper___22519=undefined;s.overlapper___22519=undefined;s.unnamed132___U6=s.overSprites___22512;s.unnamed133___U7=0;case 6:s.tmp_0=r0=s.unnamed133___U7;r0=pxsim_Array__length(s.unnamed132___U6);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=18;continue}r0=pxsim_Array__getAt(s.unnamed132___U6,s.unnamed133___U7);s.overlapper___22519=r0;r0=s.overlapper___22519.fields[\"flags\"];s.tmp_3=r0;r0=s.tmp_3&globals.SPRITE_CANNOT_COLLIDE___12143;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=7;continue}{step=17;continue}case 7:case 8:r0=s.sprite___22506.fields[\"_kind\"];s.thisKind___22524=r0;r0=s.overlapper___22519.fields[\"_kind\"];s.otherKind___22527=r0;r0=s.sprite___22506.fields[\"_kindsOverlappedWith\"];s.tmp_2=r0;r0=pxsim_Array_.indexOf(s.tmp_2,s.otherKind___22527,undefined);s.tmp_1=r0;r0=s.tmp_1===-1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=9;continue}{step=17;continue}case 9:case 10:r0=s.sprite___22506.fields[\"id\"];s.tmp_4=r0;r0=s.overlapper___22519.fields[\"id\"];s.tmp_5=r0;r0=s.tmp_4>s.tmp_5;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=11;continue}r0=s.sprite___22506;{step=12;continue}case 11:r0=s.overlapper___22519;case 12:s.tmp_6=r0;s.higher___22537=s.tmp_6;r0=s.higher___22537===s.sprite___22506;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=13;continue}r0=s.overlapper___22519;{step=14;continue}case 13:r0=s.sprite___22506;case 14:s.tmp_1=r0;s.lower___22544=s.tmp_1;r0=s.higher___22537.fields[\"_overlappers\"];s.tmp_2=r0;r0=s.lower___22544.fields[\"id\"];s.tmp_3=r0;r0=pxsim_Array_.indexOf(s.tmp_2,s.tmp_3,undefined);s.tmp_1=r0;r0=s.tmp_1===-1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=15;continue}r0=pxsim_pxtcore_mkAction(2,inline__P22560);s.tmp_4=r0;r0=pxsim_pxtrt_stclo(s.tmp_4,0,s.thisKind___22524);r0=pxsim_pxtrt_stclo(s.tmp_4,1,s.otherKind___22527);r0=pxsim_pxtcore_mkAction(5,inline__P22577);s.tmp_5=r0;r0=pxsim_pxtrt_stclo(s.tmp_5,0,s.higher___22537);r0=pxsim_pxtrt_stclo(s.tmp_5,1,s.lower___22544);r0=pxsim_pxtrt_stclo(s.tmp_5,2,s.thisKind___22524);r0=pxsim_pxtrt_stclo(s.tmp_5,3,s.sprite___22506);r0=pxsim_pxtrt_stclo(s.tmp_5,4,s.overlapper___22519);s.tmp_6=helpers_arrayForEach__P11472_mk(s);s.tmp_7=helpers_arrayFilter__P11473_mk(s);s.tmp_7.arg0=s.arg2;s.tmp_7.arg1=s.tmp_4;s.pc=24;return s.tmp_7;case 24:r0=s.retval;s.tmp_6.arg0=r0;s.tmp_6.arg1=s.tmp_5;s.pc=23;return s.tmp_6;case 23:r0=s.retval;case 15:case 16:case 17:r0=s.unnamed133___U7+1;s.unnamed133___U7=r0;{step=6;continue}case 18:s.unnamed132___U6=undefined;case 19:r0=s.unnamed131___U2+1;s.unnamed131___U2=r0;{step=3;continue}case 20:s.unnamed130___U1=undefined;case 21:r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_spriteCollisions__P12159.info={start:7509,length:2112,line:248,column:4,endLine:290,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"spriteCollisions\",argumentNames:[\"this\",\"movedSprites\",\"handlers\"]};function ArcadePhysicsEngine_spriteCollisions__P12159_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_spriteCollisions__P12159,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,ms___22504:undefined,unnamed130___U1:undefined,unnamed131___U2:undefined,sprite___22506:undefined,overSprites___22512:undefined,overlapper___22519:undefined,unnamed132___U6:undefined,unnamed133___U7:undefined,thisKind___22524:undefined,otherKind___22527:undefined,higher___22537:undefined,lower___22544:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function inline__P22560(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0.fields[\"kind\"];s.tmp_1=r0;r0=s.tmp_1===s.caps[0];s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=s.arg0.fields[\"otherKind\"];s.tmp_2=r0;r0=s.tmp_2===s.caps[1];case 2:s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(!r0){step=3;continue}r0=s.tmp_3;{step=6;continue}case 3:r0=s.arg0.fields[\"kind\"];s.tmp_5=r0;r0=s.tmp_5===s.caps[1];s.tmp_4=r0;r0=pxsim_numops_toBool(s.tmp_4);if(r0){step=4;continue}r0=s.tmp_4;{step=5;continue}case 4:r0=s.arg0.fields[\"otherKind\"];s.tmp_6=r0;r0=s.tmp_6===s.caps[0];case 5:s.tmp_7=r0;r0=s.tmp_7;case 6:s.tmp_8=r0;r0=s.tmp_8;return leave(s,r0);default:oops()}}}inline__P22560.info={start:8868,length:145,line:274,column:32,endLine:275,endColumn:89,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P22560_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22560,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,arg0:undefined}}function inline__P22577(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.caps[0].fields[\"_overlappers\"];s.tmp_0=r0;r0=s.caps[1].fields[\"id\"];s.tmp_1=r0;r0=pxsim_Array__push(s.tmp_0,s.tmp_1);r0=pxsim_pxtcore_mkAction(6,inline__P22587);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg0);r0=pxsim_pxtrt_stclo(s.tmp_0,1,s.caps[2]);r0=pxsim_pxtrt_stclo(s.tmp_0,2,s.caps[3]);r0=pxsim_pxtrt_stclo(s.tmp_0,3,s.caps[4]);r0=pxsim_pxtrt_stclo(s.tmp_0,4,s.caps[0]);r0=pxsim_pxtrt_stclo(s.tmp_0,5,s.caps[1]);r0=pxsim.control.runInParallel(s.tmp_0);r0=undefined;return leave(s,r0);default:oops()}}}inline__P22577.info={start:9073,length:498,line:277,column:33,endLine:286,endColumn:25,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[\"h\"]};function inline__P22577_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22577,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function inline__P22587(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:r0=s.caps[0].fields[\"kind\"];s.tmp_1=r0;r0=s.caps[1]===s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.caps[2];{step=2;continue}case 1:r0=s.caps[3];case 2:s.tmp_2=r0;r0=s.caps[0].fields[\"kind\"];s.tmp_4=r0;r0=s.caps[1]===s.tmp_4;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}r0=s.caps[3];{step=4;continue}case 3:r0=s.caps[2];case 4:s.tmp_5=r0;s.tmp_6=lambda_3_mk(s);r0=s.caps[0].fields[\"handler\"];s.tmp_6.argL=r0;s.tmp_6.arg0=s.tmp_2;s.tmp_6.arg1=s.tmp_5;setupLambda(s.tmp_6,s.tmp_6.argL);s.pc=5;return s.tmp_6;case 5:r0=s.retval;r0=s.caps[4].fields[\"_overlappers\"];s.tmp_0=r0;r0=s.caps[5].fields[\"id\"];s.tmp_1=r0;r0=pxsim_Array_.removeElement(s.tmp_0,s.tmp_1);r0=undefined;return leave(s,r0);default:oops()}}}inline__P22587.info={start:9194,length:349,line:279,column:50,endLine:285,endColumn:29,fileName:\"pxt_modules/game/physics.ts\",functionName:\"inline\",argumentNames:[]};function inline__P22587_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22587,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined}}function sprites_SpriteMap_overlaps__P12086(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.n___22608=undefined;s.o___22611=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=sprites_SpriteMap_neighbors__P12085_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.n___22608=r0;r0=pxsim_pxtcore_mkAction(1,inline__P22614);s.tmp_0=r0;r0=pxsim_pxtrt_stclo(s.tmp_0,0,s.arg1);s.tmp_1=helpers_arrayFilter__P11473_mk(s);s.tmp_1.arg0=s.n___22608;s.tmp_1.arg1=s.tmp_0;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.o___22611=r0;r0=s.o___22611;return leave(s,r0);default:oops()}}}sprites_SpriteMap_overlaps__P12086.info={start:971,length:189,line:32,column:8,endLine:36,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"overlaps\",argumentNames:[\"this\",\"sprite\"]};function sprites_SpriteMap_overlaps__P12086_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_overlaps__P12086,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,n___22608:undefined,o___22611:undefined,arg0:undefined,arg1:undefined}}function inline__P22614(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}s.tmp_0=Sprite_overlapsWith__P12073_mk(s);s.tmp_0.arg0=s.caps[0];s.tmp_0.arg1=s.arg0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}inline__P22614.info={start:1085,length:41,line:34,column:31,endLine:34,endColumn:72,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"inline\",argumentNames:[\"neighbor\"]};function inline__P22614_mk(s){checkStack(s.depth);return{parent:s,fn:inline__P22614,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function sprites_SpriteMap_neighbors__P12085(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.n___22649=undefined;s.layer___22651=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_1=sprites_SpriteMap_isOob__P12092_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg1;s.pc=4;return s.tmp_1;case 4:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=pxsim_Array__mk();{step=3;continue}case 1:case 2:r0=pxsim_Array__mk();s.n___22649=r0;r0=s.arg1.fields[\"layer\"];s.layer___22651=r0;s.tmp_0=sprites_SpriteMap_mergeAtKey__P12094_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=Sprite_left__P12055_mk(s);s.tmp_1.arg0=s.arg1;s.pc=6;return s.tmp_1;case 6:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_2=Sprite_top__P12059_mk(s);s.tmp_2.arg0=s.arg1;s.pc=7;return s.tmp_2;case 7:r0=s.retval;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.layer___22651;s.tmp_0.arg4=s.n___22649;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.tmp_0=sprites_SpriteMap_mergeAtKey__P12094_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=Sprite_left__P12055_mk(s);s.tmp_1.arg0=s.arg1;s.pc=9;return s.tmp_1;case 9:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_2=Sprite_bottom__P12061_mk(s);s.tmp_2.arg0=s.arg1;s.pc=10;return s.tmp_2;case 10:r0=s.retval;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.layer___22651;s.tmp_0.arg4=s.n___22649;s.pc=8;return s.tmp_0;case 8:r0=s.retval;s.tmp_0=sprites_SpriteMap_mergeAtKey__P12094_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=Sprite_right__P12057_mk(s);s.tmp_1.arg0=s.arg1;s.pc=12;return s.tmp_1;case 12:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_2=Sprite_top__P12059_mk(s);s.tmp_2.arg0=s.arg1;s.pc=13;return s.tmp_2;case 13:r0=s.retval;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.layer___22651;s.tmp_0.arg4=s.n___22649;s.pc=11;return s.tmp_0;case 11:r0=s.retval;s.tmp_0=sprites_SpriteMap_mergeAtKey__P12094_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=Sprite_right__P12057_mk(s);s.tmp_1.arg0=s.arg1;s.pc=15;return s.tmp_1;case 15:r0=s.retval;s.tmp_0.arg1=r0;s.tmp_2=Sprite_bottom__P12061_mk(s);s.tmp_2.arg0=s.arg1;s.pc=16;return s.tmp_2;case 16:r0=s.retval;s.tmp_0.arg2=r0;s.tmp_0.arg3=s.layer___22651;s.tmp_0.arg4=s.n___22649;s.pc=14;return s.tmp_0;case 14:r0=s.retval;r0=pxsim_Array_.removeElement(s.n___22649,s.arg1);r0=s.n___22649;case 3:return leave(s,r0);default:oops()}}}sprites_SpriteMap_neighbors__P12085.info={start:376,length:490,line:15,column:8,endLine:26,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"neighbors\",argumentNames:[\"this\",\"sprite\"]};function sprites_SpriteMap_neighbors__P12085_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_neighbors__P12085,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,n___22649:undefined,layer___22651:undefined,arg0:undefined,arg1:undefined}}function sprites_SpriteMap_mergeAtKey__P12094(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.k___22695=undefined;s.bucket___22699=undefined;s.sprite___22705=undefined;s.unnamed126___U3=undefined;s.unnamed127___U4=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.arg4=s.lambdaArgs[4];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=sprites_SpriteMap_key__P12090_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.k___22695=r0;r0=s.arg0.fields[\"buckets\"];s.tmp_0=r0;r0=pxsim_Array__getAt(s.tmp_0,s.k___22695);s.bucket___22699=r0;r0=pxsim_numops_toBoolDecr(s.bucket___22699);if(!r0){step=7;continue}s.sprite___22705=undefined;s.sprite___22705=undefined;s.unnamed126___U3=s.bucket___22699;s.unnamed127___U4=0;case 1:s.tmp_0=r0=s.unnamed127___U4;r0=pxsim_Array__length(s.unnamed126___U3);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=6;continue}r0=pxsim_Array__getAt(s.unnamed126___U3,s.unnamed127___U4);s.sprite___22705=r0;r0=s.sprite___22705.fields[\"layer\"];s.tmp_3=r0;r0=s.tmp_3&s.arg3;s.tmp_2=r0;r0=pxsim_numops_toBool(s.tmp_2);if(r0){step=2;continue}r0=s.tmp_2;{step=3;continue}case 2:r0=pxsim_Array_.indexOf(s.arg4,s.sprite___22705,undefined);s.tmp_4=r0;r0=s.tmp_4<0;case 3:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=4;continue}r0=pxsim_Array__push(s.arg4,s.sprite___22705);case 4:case 5:r0=s.unnamed127___U4+1;s.unnamed127___U4=r0;{step=1;continue}case 6:s.unnamed126___U3=undefined;case 7:case 8:r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_mergeAtKey__P12094.info={start:4235,length:384,line:115,column:8,endLine:124,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"mergeAtKey\",argumentNames:[\"this\",\"x\",\"y\",\"layer\",\"n\"]};function sprites_SpriteMap_mergeAtKey__P12094_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_mergeAtKey__P12094,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,k___22695:undefined,bucket___22699:undefined,sprite___22705:undefined,unnamed126___U3:undefined,unnamed127___U4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function sprites_SpriteMap_key__P12090(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.xi___22723=undefined;s.yi___22734=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=0;r0=s.arg0.fields[\"columnCount\"];s.tmp_0.arg1=r0;r0=s.arg0.fields[\"cellWidth\"];s.tmp_1=r0;r0=pxsim.Math_.idiv(s.arg1,s.tmp_1);s.tmp_0.arg2=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.xi___22723=r0;s.tmp_0=Math_clamp__P11483_mk(s);s.tmp_0.arg0=0;r0=s.arg0.fields[\"rowCount\"];s.tmp_0.arg1=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_1=r0;r0=pxsim.Math_.idiv(s.arg2,s.tmp_1);s.tmp_0.arg2=r0;s.pc=2;return s.tmp_0;case 2:r0=s.retval;s.yi___22734=r0;s.tmp_0=r0=s.xi___22723;r0=s.arg0.fields[\"columnCount\"];s.tmp_2=r0;r0=s.yi___22734*s.tmp_2;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;return leave(s,r0);default:oops()}}}sprites_SpriteMap_key__P12090.info={start:2640,length:270,line:78,column:8,endLine:82,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"key\",argumentNames:[\"this\",\"x\",\"y\"]};function sprites_SpriteMap_key__P12090_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_key__P12090,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,xi___22723:undefined,yi___22734:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function sprites_SpriteMap_isOob__P12092(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.tMap___22752=undefined;s.areaWidth___22756=undefined;s.areaHeight___22762=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=game_currentScene__P12194_mk(s);s.pc=11;return s.tmp_0;case 11:r0=s.retval;r0=r0.fields[\"tileMap\"];s.tMap___22752=r0;r0=pxsim_numops_toBoolDecr(s.tMap___22752);if(!r0){step=1;continue}s.tmp_0=tiles_TileMap_areaWidth__P12294_mk(s);s.tmp_0.arg0=s.tMap___22752;s.pc=12;return s.tmp_0;case 12:r0=s.retval;{step=2;continue}case 1:r0=pxsim_ImageMethods.width(globals.screen___11888);case 2:s.tmp_1=r0;s.areaWidth___22756=s.tmp_1;r0=pxsim_numops_toBoolDecr(s.tMap___22752);if(!r0){step=3;continue}s.tmp_0=tiles_TileMap_areaHeight__P12295_mk(s);s.tmp_0.arg0=s.tMap___22752;s.pc=13;return s.tmp_0;case 13:r0=s.retval;{step=4;continue}case 3:r0=pxsim_ImageMethods.height(globals.screen___11888);case 4:s.tmp_1=r0;s.areaHeight___22762=s.tmp_1;s.tmp_2=Sprite_right__P12057_mk(s);s.tmp_2.arg0=s.arg1;s.pc=14;return s.tmp_2;case 14:r0=s.retval;s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:s.tmp_4=Sprite_left__P12055_mk(s);s.tmp_4.arg0=s.arg1;s.pc=15;return s.tmp_4;case 15:r0=s.retval;s.tmp_3=r0;r0=s.tmp_3>s.areaWidth___22756;case 6:s.tmp_5=r0;r0=pxsim_numops_toBool(s.tmp_5);if(!r0){step=7;continue}r0=s.tmp_5;{step=8;continue}case 7:s.tmp_7=Sprite_bottom__P12061_mk(s);s.tmp_7.arg0=s.arg1;s.pc=16;return s.tmp_7;case 16:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6<0;case 8:s.tmp_8=r0;r0=pxsim_numops_toBool(s.tmp_8);if(!r0){step=9;continue}r0=s.tmp_8;{step=10;continue}case 9:s.tmp_10=Sprite_top__P12059_mk(s);s.tmp_10.arg0=s.arg1;s.pc=17;return s.tmp_10;case 17:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9>s.areaHeight___22762;case 10:s.tmp_11=r0;r0=s.tmp_11;return leave(s,r0);default:oops()}}}sprites_SpriteMap_isOob__P12092.info={start:3232,length:360,line:93,column:8,endLine:99,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"isOob\",argumentNames:[\"this\",\"sprite\"]};function sprites_SpriteMap_isOob__P12092_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_isOob__P12092,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tMap___22752:undefined,areaWidth___22756:undefined,areaHeight___22762:undefined,arg0:undefined,arg1:undefined}}function Sprite_right__P12057(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_1=Sprite_left__P12055_mk(s);s.tmp_1.arg0=s.arg0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;s.tmp_0=r0;r0=s.arg0.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.tmp_0+s.tmp_2;return leave(s,r0);default:oops()}}}Sprite_right__P12057.info={start:8504,length:57,line:304,column:4,endLine:306,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"right\",argumentNames:[\"this\"]};function Sprite_right__P12057_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_right__P12057,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function Sprite_overlapsWith__P12073(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg1==s.arg0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=false;{step=7;continue}case 1:case 2:r0=s.arg0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2&1;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=3;continue}r0=false;{step=7;continue}case 3:case 4:r0=s.arg1.fields[\"flags\"];s.tmp_4=r0;r0=s.tmp_4&1;s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}r0=false;{step=7;continue}case 5:case 6:r0=s.arg1.fields[\"_image\"];s.tmp_5=r0;r0=s.arg0.fields[\"_image\"];s.tmp_6=r0;s.tmp_9=Sprite_left__P12055_mk(s);s.tmp_9.arg0=s.arg0;s.pc=8;return s.tmp_9;case 8:r0=s.retval;s.tmp_8=r0;s.tmp_11=Sprite_left__P12055_mk(s);s.tmp_11.arg0=s.arg1;s.pc=9;return s.tmp_11;case 9:r0=s.retval;s.tmp_10=r0;r0=s.tmp_8-s.tmp_10;s.tmp_7=r0;s.tmp_14=Sprite_top__P12059_mk(s);s.tmp_14.arg0=s.arg0;s.pc=10;return s.tmp_14;case 10:r0=s.retval;s.tmp_13=r0;s.tmp_16=Sprite_top__P12059_mk(s);s.tmp_16.arg0=s.arg1;s.pc=11;return s.tmp_16;case 11:r0=s.retval;s.tmp_15=r0;r0=s.tmp_13-s.tmp_15;s.tmp_12=r0;r0=pxsim_ImageMethods.overlapsWith(s.tmp_5,s.tmp_6,s.tmp_7,s.tmp_12);case 7:return leave(s,r0);default:oops()}}}Sprite_overlapsWith__P12073.info={start:22692,length:366,line:697,column:4,endLine:705,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"overlapsWith\",argumentNames:[\"this\",\"other\"]};function Sprite_overlapsWith__P12073_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_overlapsWith__P12073,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,arg0:undefined,arg1:undefined}}function ArcadePhysicsEngine_createMovingSprite__P12158(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ovx___22949=undefined;s.ovy___22953=undefined;s.dx___22985=undefined;s.dy___22993=undefined;s.xStep___23001=undefined;s.yStep___23003=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);s.tmp_0=ArcadePhysicsEngine_constrain__P12163_mk(s);s.tmp_0.arg0=s.arg0;r0=s.arg1.fields[\"_vx\"];s.tmp_0.arg1=r0;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.ovx___22949=r0;s.tmp_0=ArcadePhysicsEngine_constrain__P12163_mk(s);s.tmp_0.arg0=s.arg0;r0=s.arg1.fields[\"_vy\"];s.tmp_0.arg1=r0;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.ovy___22953=r0;r0=s.arg1.fields[\"_x\"];s.tmp_0=r0;r0=s.arg1.fields[\"_lastX\"]=s.tmp_0;r0=s.arg1.fields[\"_y\"];s.tmp_0=r0;r0=s.arg1.fields[\"_lastY\"]=s.tmp_0;s.tmp_0=r0=s.arg1;s.tmp_2=ArcadePhysicsEngine_constrain__P12163_mk(s);s.tmp_2.arg0=s.arg0;r0=s.arg1.fields[\"_vx\"];s.tmp_3=r0;r0=s.arg1.fields[\"_ax\"];s.tmp_5=r0;r0=pxsim.Math_.imul(s.tmp_5,s.arg2);s.tmp_6=r0;r0=s.tmp_6>>8;s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_2.arg1=r0;s.pc=11;return s.tmp_2;case 11:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"_vx\"]=s.tmp_1;s.tmp_0=r0=s.arg1;s.tmp_2=ArcadePhysicsEngine_constrain__P12163_mk(s);s.tmp_2.arg0=s.arg0;r0=s.arg1.fields[\"_vy\"];s.tmp_3=r0;r0=s.arg1.fields[\"_ay\"];s.tmp_5=r0;r0=pxsim.Math_.imul(s.tmp_5,s.arg2);s.tmp_6=r0;r0=s.tmp_6>>8;s.tmp_4=r0;r0=s.tmp_3+s.tmp_4;s.tmp_2.arg1=r0;s.pc=12;return s.tmp_2;case 12:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"_vy\"]=s.tmp_1;r0=s.arg1.fields[\"_vx\"];s.tmp_2=r0;r0=s.tmp_2+s.ovx___22949;s.tmp_1=r0;r0=pxsim.Math_.imul(s.tmp_1,s.arg3);s.tmp_3=r0;r0=s.tmp_3>>8;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,1e3);s.dx___22985=r0;r0=s.arg1.fields[\"_vy\"];s.tmp_2=r0;r0=s.tmp_2+s.ovy___22953;s.tmp_1=r0;r0=pxsim.Math_.imul(s.tmp_1,s.arg3);s.tmp_3=r0;r0=s.tmp_3>>8;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,1e3);s.dy___22993=r0;s.xStep___23001=s.dx___22985;s.yStep___23003=s.dy___22993;case 1:s.tmp_2=Fx_abs__P11518_mk(s);s.tmp_2.arg0=s.xStep___23001;s.pc=13;return s.tmp_2;case 13:r0=s.retval;s.tmp_1=r0;r0=s.arg0.fields[\"maxSingleStep\"];s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=2;continue}r0=s.tmp_0;{step=3;continue}case 2:s.tmp_5=Fx_abs__P11518_mk(s);s.tmp_5.arg0=s.yStep___23003;s.pc=14;return s.tmp_5;case 14:r0=s.retval;s.tmp_4=r0;r0=s.arg0.fields[\"maxSingleStep\"];s.tmp_6=r0;r0=s.tmp_4>s.tmp_6;case 3:s.tmp_7=r0;r0=pxsim_numops_toBoolDecr(s.tmp_7);if(!r0){step=8;continue}s.tmp_10=Fx_abs__P11518_mk(s);s.tmp_10.arg0=s.xStep___23001;s.pc=15;return s.tmp_10;case 15:r0=s.retval;s.tmp_9=r0;r0=s.arg0.fields[\"minSingleStep\"];s.tmp_11=r0;r0=s.tmp_9>s.tmp_11;s.tmp_8=r0;r0=pxsim_numops_toBoolDecr(s.tmp_8);if(!r0){step=4;continue}r0=pxsim.Math_.idiv(s.xStep___23001,2);s.xStep___23001=r0;case 4:case 5:s.tmp_2=Fx_abs__P11518_mk(s);s.tmp_2.arg0=s.yStep___23003;s.pc=16;return s.tmp_2;case 16:r0=s.retval;s.tmp_1=r0;r0=s.arg0.fields[\"minSingleStep\"];s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}r0=pxsim.Math_.idiv(s.yStep___23003,2);s.yStep___23003=r0;case 6:case 7:{step=1;continue}case 8:r0=pxsim_pxtcore_mkClassInstance(MovingSprite__C12150_VT);s.tmp_0=r0;s.tmp_1=MovingSprite_constructor__P12151_mk(s);s.tmp_1.arg0=s.tmp_0;s.tmp_1.arg1=s.arg1;r0=s.arg1.fields[\"_vx\"];s.tmp_1.arg2=r0;r0=s.arg1.fields[\"_vy\"];s.tmp_1.arg3=r0;s.tmp_1.arg4=s.dx___22985;s.tmp_1.arg5=s.dy___22993;s.tmp_1.arg6=s.xStep___23001;s.tmp_1.arg7=s.yStep___23003;s.pc=17;return s.tmp_1;case 17:r0=s.retval;r0=s.tmp_0;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_createMovingSprite__P12158.info={start:5787,length:1716,line:177,column:4,endLine:246,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"createMovingSprite\",argumentNames:[\"this\",\"sprite\",\"dtSec\",\"dt2\"]};function ArcadePhysicsEngine_createMovingSprite__P12158_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_createMovingSprite__P12158,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,ovx___22949:undefined,ovy___22953:undefined,dx___22985:undefined,dy___22993:undefined,xStep___23001:undefined,yStep___23003:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function ArcadePhysicsEngine_constrain__P12163(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);s.tmp_0=Fx_max__P11520_mk(s);s.tmp_1=Fx_min__P11519_mk(s);r0=s.arg0.fields[\"maxVelocity\"];s.tmp_1.arg0=r0;s.tmp_1.arg1=s.arg1;s.pc=2;return s.tmp_1;case 2:r0=s.retval;s.tmp_0.arg0=r0;r0=s.arg0.fields[\"maxNegativeVelocity\"];s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_constrain__P12163.info={start:17495,length:191,line:501,column:4,endLine:509,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"constrain\",argumentNames:[\"this\",\"v\"]};function ArcadePhysicsEngine_constrain__P12163_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_constrain__P12163,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined,arg1:undefined}}function Fx_max__P11520(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0>s.arg1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0;{step=3;continue}{step=2;continue}case 1:r0=s.arg1;case 2:case 3:return leave(s,r0);default:oops()}}}Fx_max__P11520.info={start:1649,length:117,line:53,column:4,endLine:58,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"max\",argumentNames:[\"a\",\"b\"]};function Fx_max__P11520_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_max__P11520,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function sprites_SpriteMap_insertAABB__P12093(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.left___22785=undefined;s.top___22788=undefined;s.xn___22791=undefined;s.yn___22800=undefined;s.x___22809=undefined;s.y___22813=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_1=sprites_SpriteMap_isOob__P12092_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg1;s.pc=8;return s.tmp_1;case 8:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=7;continue}case 1:case 2:s.tmp_2=Sprite_left__P12055_mk(s);s.tmp_2.arg0=s.arg1;s.pc=9;return s.tmp_2;case 9:r0=s.retval;s.left___22785=r0;s.tmp_0=Sprite_top__P12059_mk(s);s.tmp_0.arg0=s.arg1;s.pc=10;return s.tmp_0;case 10:r0=s.retval;s.top___22788=r0;r0=s.arg1.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.arg0.fields[\"cellWidth\"];s.tmp_4=r0;r0=s.tmp_2+s.tmp_4;s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0=r0;r0=s.arg0.fields[\"cellWidth\"];s.tmp_5=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.tmp_5);s.xn___22791=r0;r0=s.arg1.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.tmp_2=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_4=r0;r0=s.tmp_2+s.tmp_4;s.tmp_1=r0;r0=s.tmp_1-1;s.tmp_0=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_5=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.tmp_5);s.yn___22800=r0;s.x___22809=0;case 3:r0=s.x___22809<=s.xn___22791;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=6;continue}s.y___22813=0;case 4:r0=s.y___22813<=s.yn___22800;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=5;continue}s.tmp_1=sprites_SpriteMap_insertAtKey__P12091_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_2=r0=s.left___22785;s.tmp_4=Math_min__P11487_mk(s);r0=s.arg1.fields[\"_image\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.tmp_4.arg0=r0;r0=s.arg0.fields[\"cellWidth\"];s.tmp_6=r0;r0=s.x___22809*s.tmp_6;s.tmp_4.arg1=r0;s.pc=12;return s.tmp_4;case 12:r0=s.retval;s.tmp_3=r0;r0=s.tmp_2+s.tmp_3;s.tmp_1.arg1=r0;s.tmp_7=r0=s.top___22788;s.tmp_9=Math_min__P11487_mk(s);r0=s.arg1.fields[\"_image\"];s.tmp_10=r0;r0=pxsim_ImageMethods.height(s.tmp_10);s.tmp_9.arg0=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_11=r0;r0=s.y___22813*s.tmp_11;s.tmp_9.arg1=r0;s.pc=13;return s.tmp_9;case 13:r0=s.retval;s.tmp_8=r0;r0=s.tmp_7+s.tmp_8;s.tmp_1.arg2=r0;s.tmp_1.arg3=s.arg1;s.pc=11;return s.tmp_1;case 11:r0=s.retval;r0=s.y___22813+1;s.y___22813=r0;{step=4;continue}case 5:r0=s.x___22809+1;s.x___22809=r0;{step=3;continue}case 6:case 7:r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_insertAABB__P12093.info={start:3602,length:623,line:101,column:8,endLine:113,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"insertAABB\",argumentNames:[\"this\",\"sprite\"]};function sprites_SpriteMap_insertAABB__P12093_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_insertAABB__P12093,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,left___22785:undefined,top___22788:undefined,xn___22791:undefined,yn___22800:undefined,x___22809:undefined,y___22813:undefined,arg0:undefined,arg1:undefined}}function sprites_SpriteMap_insertAtKey__P12091(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.k___22843=undefined;s.bucket___22847=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=sprites_SpriteMap_key__P12090_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.tmp_0.arg2=s.arg2;s.pc=5;return s.tmp_0;case 5:r0=s.retval;s.k___22843=r0;r0=s.arg0.fields[\"buckets\"];s.tmp_0=r0;r0=pxsim_Array__getAt(s.tmp_0,s.k___22843);s.bucket___22847=r0;r0=pxsim_numops_toBoolDecr(s.bucket___22847);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"buckets\"];s.tmp_2=r0;s.tmp_3=r0=s.k___22843;r0=pxsim_Array__mk();s.tmp_4=r0;r0=pxsim_Array_.setAt(s.tmp_2,s.tmp_3,s.tmp_4);s.bucket___22847=s.tmp_4;case 1:case 2:r0=pxsim_Array_.indexOf(s.bucket___22847,s.arg3,undefined);s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}r0=pxsim_Array__push(s.bucket___22847,s.arg3);case 3:case 4:r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_insertAtKey__P12091.info={start:2920,length:302,line:84,column:8,endLine:91,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"insertAtKey\",argumentNames:[\"this\",\"x\",\"y\",\"sprite\"]};function sprites_SpriteMap_insertAtKey__P12091_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_insertAtKey__P12091,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,k___22843:undefined,bucket___22847:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function sprites_SpriteMap_clear__P12089(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"buckets\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_clear__P12089.info={start:2580,length:50,line:74,column:8,endLine:76,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"clear\",argumentNames:[\"this\"]};function sprites_SpriteMap_clear__P12089_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_clear__P12089,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function sprites_SpriteMap_resizeBuckets__P12088(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.maxWidth___22880=undefined;s.maxHeight___22881=undefined;s.sprite___22883=undefined;s.unnamed124___U3=undefined;s.unnamed125___U4=undefined;s.tMap___22897=undefined;s.areaWidth___22901=undefined;s.areaHeight___22907=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.maxWidth___22880=0;s.maxHeight___22881=0;s.sprite___22883=undefined;s.sprite___22883=undefined;s.unnamed124___U3=s.arg1;s.unnamed125___U4=0;case 1:s.tmp_0=r0=s.unnamed125___U4;r0=pxsim_Array__length(s.unnamed124___U3);s.tmp_1=r0;r0=s.tmp_0<s.tmp_1;if(!r0){step=6;continue}r0=pxsim_Array__getAt(s.unnamed124___U3,s.unnamed125___U4);s.sprite___22883=r0;r0=s.sprite___22883.fields[\"_image\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(s.tmp_4);s.tmp_3=r0;r0=s.tmp_3>s.maxWidth___22880;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=2;continue}r0=s.sprite___22883.fields[\"_image\"];s.tmp_5=r0;r0=pxsim_ImageMethods.width(s.tmp_5);s.maxWidth___22880=r0;case 2:case 3:r0=s.sprite___22883.fields[\"_image\"];s.tmp_2=r0;r0=pxsim_ImageMethods.height(s.tmp_2);s.tmp_1=r0;r0=s.tmp_1>s.maxHeight___22881;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=4;continue}r0=s.sprite___22883.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.maxHeight___22881=r0;case 4:case 5:r0=s.unnamed125___U4+1;s.unnamed125___U4=r0;{step=1;continue}case 6:s.unnamed124___U3=undefined;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=11;return s.tmp_0;case 11:r0=s.retval;r0=r0.fields[\"tileMap\"];s.tMap___22897=r0;r0=pxsim_numops_toBoolDecr(s.tMap___22897);if(!r0){step=7;continue}s.tmp_0=tiles_TileMap_areaWidth__P12294_mk(s);s.tmp_0.arg0=s.tMap___22897;s.pc=12;return s.tmp_0;case 12:r0=s.retval;{step=8;continue}case 7:r0=pxsim_ImageMethods.width(globals.screen___11888);case 8:s.tmp_1=r0;s.areaWidth___22901=s.tmp_1;r0=pxsim_numops_toBoolDecr(s.tMap___22897);if(!r0){step=9;continue}s.tmp_0=tiles_TileMap_areaHeight__P12295_mk(s);s.tmp_0.arg0=s.tMap___22897;s.pc=13;return s.tmp_0;case 13:r0=s.retval;{step=10;continue}case 9:r0=pxsim_ImageMethods.height(globals.screen___11888);case 10:s.tmp_1=r0;s.areaHeight___22907=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_2=Math_clamp__P11483_mk(s);s.tmp_2.arg0=8;r0=s.areaWidth___22901>>2;s.tmp_2.arg1=r0;r0=s.maxWidth___22880*2;s.tmp_2.arg2=r0;s.pc=14;return s.tmp_2;case 14:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"cellWidth\"]=s.tmp_1;s.tmp_0=r0=s.arg0;s.tmp_2=Math_clamp__P11483_mk(s);s.tmp_2.arg0=8;r0=s.areaHeight___22907>>2;s.tmp_2.arg1=r0;r0=s.maxHeight___22881*2;s.tmp_2.arg2=r0;s.pc=15;return s.tmp_2;case 15:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"cellHeight\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_2=r0;r0=pxsim.Math_.idiv(s.areaHeight___22907,s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"rowCount\"]=s.tmp_1;s.tmp_0=r0=s.arg0;r0=s.arg0.fields[\"cellWidth\"];s.tmp_2=r0;r0=pxsim.Math_.idiv(s.areaWidth___22901,s.tmp_2);s.tmp_1=r0;r0=s.tmp_0.fields[\"columnCount\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_resizeBuckets__P12088.info={start:1744,length:826,line:54,column:8,endLine:72,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"resizeBuckets\",argumentNames:[\"this\",\"sprites\"]};function sprites_SpriteMap_resizeBuckets__P12088_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_resizeBuckets__P12088,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,maxWidth___22880:undefined,maxHeight___22881:undefined,sprite___22883:undefined,unnamed124___U3:undefined,unnamed125___U4:undefined,tMap___22897:undefined,areaWidth___22901:undefined,areaHeight___22907:undefined,arg0:undefined,arg1:undefined}}function Sprite_clearObstacles__P12076(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"_obstacles\"]=s.tmp_1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_clearObstacles__P12076.info={start:23919,length:54,line:729,column:4,endLine:731,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"clearObstacles\",argumentNames:[\"this\"]};function Sprite_clearObstacles__P12076_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_clearObstacles__P12076,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function Fx_abs__P11518(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0<0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=0-s.arg0;{step=3;continue}{step=2;continue}case 1:r0=s.arg0;case 2:case 3:return leave(s,r0);default:oops()}}}Fx_abs__P11518.info={start:1358,length:164,line:41,column:4,endLine:46,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"abs\",argumentNames:[\"a\"]};function Fx_abs__P11518_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_abs__P11518,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Fx_idiv__P11516(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim.Math_.idiv(s.arg0,s.arg1);return leave(s,r0);default:oops()}}}Fx_idiv__P11516.info={start:1131,length:111,line:35,column:4,endLine:37,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"idiv\",argumentNames:[\"a\",\"b\"]};function Fx_idiv__P11516_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_idiv__P11516,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Fx_div__P11515(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0<<8;s.tmp_0=r0;r0=pxsim.Math_.idiv(s.tmp_0,s.arg1);return leave(s,r0);default:oops()}}}Fx_div__P11515.info={start:997,length:129,line:32,column:4,endLine:34,endColumn:5,fileName:\"pxt_modules/base/fixed.ts\",functionName:\"div\",argumentNames:[\"a\",\"b\"]};function Fx_div__P11515_mk(s){checkStack(s.depth);return{parent:s,fn:Fx_div__P11515,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function helpers_arrayMap__P11469(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.res___23057=undefined;s.len___23059=undefined;s.i___23062=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=pxsim_Array__mk();s.res___23057=r0;r0=pxsim_Array__length(s.arg0);s.len___23059=r0;s.i___23062=0;case 1:r0=s.i___23062<s.len___23059;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_1=r0=s.res___23057;s.tmp_3=lambda_3_mk(s);s.tmp_3.argL=s.arg1;r0=pxsim_Array__getAt(s.arg0,s.i___23062);s.tmp_3.arg0=r0;s.tmp_3.arg1=s.i___23062;setupLambda(s.tmp_3,s.tmp_3.argL);s.pc=3;return s.tmp_3;case 3:r0=s.retval;s.tmp_2=r0;r0=pxsim_Array__push(s.tmp_1,s.tmp_2);r0=s.i___23062+1;s.i___23062=r0;{step=1;continue}case 2:r0=s.res___23057;return leave(s,r0);default:oops()}}}helpers_arrayMap__P11469.info={start:3775,length:299,line:133,column:4,endLine:140,endColumn:5,fileName:\"pxt_modules/base/pxt-helpers.ts\",functionName:\"arrayMap\",argumentNames:[\"arr\",\"callbackfn\"]};function helpers_arrayMap__P11469_mk(s){checkStack(s.depth);return{parent:s,fn:helpers_arrayMap__P11469,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,res___23057:undefined,len___23059:undefined,i___23062:undefined,arg0:undefined,arg1:undefined}}function ArcadePhysicsEngine_draw__P12156(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);s.tmp_0=sprites_SpriteMap_draw__P12087_mk(s);r0=s.arg0.fields[\"map\"];s.tmp_0.arg0=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_draw__P12156.info={start:1796,length:39,line:71,column:4,endLine:73,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"draw\",argumentNames:[\"this\"]};function ArcadePhysicsEngine_draw__P12156_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_draw__P12156,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function sprites_SpriteMap_draw__P12087(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.x___23087=undefined;s.y___23092=undefined;s.left___23097=undefined;s.top___23101=undefined;s.k___23105=undefined;s.b___23109=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_SpriteMap__C12084_VT))failedCast(r0);s.x___23087=0;case 1:r0=s.arg0.fields[\"columnCount\"];s.tmp_1=r0;r0=s.x___23087<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=8;continue}s.y___23092=0;case 2:r0=s.arg0.fields[\"rowCount\"];s.tmp_1=r0;r0=s.y___23092<s.tmp_1;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=7;continue}r0=s.arg0.fields[\"cellWidth\"];s.tmp_2=r0;r0=s.x___23087*s.tmp_2;s.left___23097=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_0=r0;r0=s.y___23092*s.tmp_0;s.top___23101=r0;s.tmp_0=sprites_SpriteMap_key__P12090_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.left___23097;s.tmp_0.arg2=s.top___23101;s.pc=9;return s.tmp_0;case 9:r0=s.retval;s.k___23105=r0;r0=s.arg0.fields[\"buckets\"];s.tmp_0=r0;r0=pxsim_Array__getAt(s.tmp_0,s.k___23105);s.b___23109=r0;s.tmp_0=r0=s.b___23109;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:r0=pxsim_Array__length(s.b___23109);case 4:s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);if(!r0){step=5;continue}s.tmp_2=helpers_imageDrawRect__P11839_mk(s);s.tmp_2.arg0=globals.screen___11888;s.tmp_2.arg1=s.left___23097;s.tmp_2.arg2=s.top___23101;r0=s.arg0.fields[\"cellWidth\"];s.tmp_2.arg3=r0;r0=s.arg0.fields[\"cellHeight\"];s.tmp_2.arg4=r0;s.tmp_2.arg5=5;s.pc=10;return s.tmp_2;case 10:r0=s.retval;case 5:case 6:r0=s.y___23092+1;s.y___23092=r0;{step=2;continue}case 7:r0=s.x___23087+1;s.x___23087=r0;{step=1;continue}case 8:r0=undefined;return leave(s,r0);default:oops()}}}sprites_SpriteMap_draw__P12087.info={start:1170,length:496,line:38,column:8,endLine:49,endColumn:9,fileName:\"pxt_modules/game/spritemap.ts\",functionName:\"draw\",argumentNames:[\"this\"]};function sprites_SpriteMap_draw__P12087_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_SpriteMap_draw__P12087,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,x___23087:undefined,y___23092:undefined,left___23097:undefined,top___23101:undefined,k___23105:undefined,b___23109:undefined,arg0:undefined}}function ArcadePhysicsEngine_removeSprite__P12155(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);r0=s.arg0.fields[\"sprites\"];s.tmp_0=r0;r0=pxsim_Array_.removeElement(s.tmp_0,s.arg1);r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_removeSprite__P12155.info={start:1710,length:80,line:67,column:4,endLine:69,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"removeSprite\",argumentNames:[\"this\",\"sprite\"]};function ArcadePhysicsEngine_removeSprite__P12155_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_removeSprite__P12155,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function ArcadePhysicsEngine_addSprite__P12154(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,ArcadePhysicsEngine__C12152_VT))failedCast(r0);r0=s.arg0.fields[\"sprites\"];s.tmp_0=r0;r0=pxsim_Array__push(s.tmp_0,s.arg1);r0=undefined;return leave(s,r0);default:oops()}}}ArcadePhysicsEngine_addSprite__P12154.info={start:1636,length:68,line:63,column:4,endLine:65,endColumn:5,fileName:\"pxt_modules/game/physics.ts\",functionName:\"addSprite\",argumentNames:[\"this\",\"sprite\"]};function ArcadePhysicsEngine_addSprite__P12154_mk(s){checkStack(s.depth);return{parent:s,fn:ArcadePhysicsEngine_addSprite__P12154,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource___draw__P12710(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.current___23360=undefined;s.left___23363=undefined;s.top___23367=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);r0=s.arg0.fields[\"head\"];s.current___23360=r0;r0=s.arg1.fields[\"drawOffsetX\"];s.tmp_0=r0;r0=s.tmp_0*256;s.tmp_1=r0;r0=s.tmp_1|0;s.left___23363=r0;r0=s.arg1.fields[\"drawOffsetY\"];s.tmp_0=r0;r0=s.tmp_0*256;s.tmp_1=r0;r0=s.tmp_1|0;s.top___23367=r0;case 1:r0=pxsim_numops_toBoolDecr(s.current___23360);if(!r0){step=4;continue}r0=s.current___23360.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1>0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=2;continue}s.tmp_2=particles_ParticleSource_drawParticle__P12724_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.current___23360;s.tmp_2.arg2=s.left___23363;s.tmp_2.arg3=s.top___23367;s.pc=5;return s.tmp_2;case 5:r0=s.retval;case 2:case 3:r0=s.current___23360.fields[\"next\"];s.current___23360=r0;{step=1;continue}case 4:r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource___draw__P12710.info={start:3139,length:362,line:109,column:8,endLine:119,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"__draw\",argumentNames:[\"this\",\"camera\"]};function particles_ParticleSource___draw__P12710_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource___draw__P12710,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,current___23360:undefined,left___23363:undefined,top___23367:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource_drawParticle__P12724(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleSource__C12708_VT))failedCast(r0);s.tmp_0=particles_ParticleFactory__C12760_v1_4_mk(s);r0=s.arg0.fields[\"_factory\"];s.tmp_0.arg0=r0;s.tmp_0.arg1=s.arg1;r0=s.arg1.fields[\"_x\"];s.tmp_1=r0;r0=s.tmp_1-s.arg2;s.tmp_0.arg2=r0;r0=s.arg1.fields[\"_y\"];s.tmp_2=r0;r0=s.tmp_2-s.arg3;s.tmp_0.arg3=r0;if(!checkSubtype(s.tmp_0.arg0,particles_ParticleFactory__C12760_VT))failedCast(s.tmp_0.arg0);s.tmp_0.fn=s.tmp_0.arg0.vtable.methods.drawParticle;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleSource_drawParticle__P12724.info={start:8123,length:174,line:275,column:8,endLine:277,endColumn:9,fileName:\"pxt_modules/game/particles.ts\",functionName:\"drawParticle\",argumentNames:[\"this\",\"p\",\"screenLeft\",\"screenTop\"]};function particles_ParticleSource_drawParticle__P12724_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleSource_drawParticle__P12724,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_ParticleFactory_drawParticle__P12762(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ParticleFactory__C12760_VT))failedCast(r0);s.tmp_0=r0=globals.screen___11888;r0=s.arg2+128;s.tmp_2=r0;r0=s.tmp_2>>8;s.tmp_1=r0;r0=s.arg3+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_3=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_0,s.tmp_1,s.tmp_3,1);r0=undefined;return leave(s,r0);default:oops()}}}particles_ParticleFactory_drawParticle__P12762.info={start:2265,length:118,line:85,column:8,endLine:87,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"drawParticle\",argumentNames:[\"this\",\"particle\",\"x\",\"y\"]};function particles_ParticleFactory_drawParticle__P12762_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ParticleFactory_drawParticle__P12762,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_ShapeFactory_createParticle__P12785(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___23411=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ShapeFactory__C12781_VT))failedCast(r0);s.tmp_0=particles_AreaFactory_createParticle__P12773_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.p___23411=r0;s.tmp_0=r0=s.p___23411;s.tmp_2=Math_FastRandom_randomRange__P12581_mk(s);r0=s.arg0.fields[\"galois\"];s.tmp_2.arg0=r0;s.tmp_2.arg1=1;s.tmp_2.arg2=14;s.pc=2;return s.tmp_2;case 2:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"color\"]=s.tmp_1;r0=s.p___23411;return leave(s,r0);default:oops()}}}particles_ShapeFactory_createParticle__P12785.info={start:7505,length:178,line:239,column:8,endLine:243,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"createParticle\",argumentNames:[\"this\",\"anchor\"]};function particles_ShapeFactory_createParticle__P12785_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ShapeFactory_createParticle__P12785,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,p___23411:undefined,arg0:undefined,arg1:undefined}}function particles_AreaFactory_createParticle__P12773(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___23423=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_AreaFactory__C12771_VT))failedCast(r0);s.tmp_0=particles_SprayFactory_createParticle__P12766_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=3;return s.tmp_0;case 3:r0=s.retval;s.p___23423=r0;s.tmp_0=r0=s.p___23423;s.tmp_2=Math_FastRandom_randomRange__P12581_mk(s);r0=s.arg0.fields[\"galois\"];s.tmp_2.arg0=r0;r0=s.arg0.fields[\"minLifespan\"];s.tmp_2.arg1=r0;r0=s.arg0.fields[\"maxLifespan\"];s.tmp_2.arg2=r0;s.pc=4;return s.tmp_2;case 4:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0.fields[\"lifespan\"]=s.tmp_1;s.tmp_0=r0=s.p___23423;s.tmp_4=Math_FastRandom_randomRange__P12581_mk(s);r0=s.arg0.fields[\"galois\"];s.tmp_4.arg0=r0;s.tmp_4.arg1=0;r0=s.arg0.fields[\"xRange\"];s.tmp_4.arg2=r0;s.pc=5;return s.tmp_4;case 5:r0=s.retval;s.tmp_3=r0;r0=s.arg0.fields[\"xRange\"];s.tmp_6=r0;r0=s.tmp_6>>1;s.tmp_5=r0;r0=s.tmp_3-s.tmp_5;s.tmp_2=r0;r0=s.p___23423.fields[\"_x\"];s.tmp_7=r0;r0=s.tmp_2<<8;s.tmp_8=r0;r0=s.tmp_8+s.tmp_7;s.tmp_1=r0;r0=s.tmp_0.fields[\"_x\"]=s.tmp_1;s.tmp_1=if_height_1_mk(s);s.tmp_1.arg0=s.arg1;if(!s.tmp_1.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_1.arg0,\"height\")}else{s.tmp_1.fn=s.tmp_1.arg0.vtable.iface[\"height\"];if(s.tmp_1.fn==null){s.retval=s.tmp_1.arg0.fields[\"height\"]}else{s.pc=6;return s.tmp_1}}case 6:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=if_height_1_mk(s);s.tmp_3.arg0=s.arg1;if(!s.tmp_3.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_3.arg0,\"height\")}else{s.tmp_3.fn=s.tmp_3.arg0.vtable.iface[\"height\"];if(s.tmp_3.fn==null){s.retval=s.tmp_3.arg0.fields[\"height\"]}else{s.pc=7;return s.tmp_3}}case 7:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2>>1;{step=2;continue}case 1:r0=0;case 2:s.tmp_4=r0;s.tmp_5=r0=s.p___23423;s.tmp_9=Math_FastRandom_randomRange__P12581_mk(s);r0=s.arg0.fields[\"galois\"];s.tmp_9.arg0=r0;s.tmp_9.arg1=0;r0=s.arg0.fields[\"yRange\"];s.tmp_9.arg2=r0;s.pc=8;return s.tmp_9;case 8:r0=s.retval;s.tmp_8=r0;r0=s.tmp_8-s.tmp_4;s.tmp_7=r0;r0=s.p___23423.fields[\"_y\"];s.tmp_10=r0;r0=s.tmp_7<<8;s.tmp_11=r0;r0=s.tmp_11+s.tmp_10;s.tmp_6=r0;r0=s.tmp_5.fields[\"_y\"]=s.tmp_6;r0=s.p___23423;return leave(s,r0);default:oops()}}}particles_AreaFactory_createParticle__P12773.info={start:4334,length:426,line:148,column:8,endLine:156,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"createParticle\",argumentNames:[\"this\",\"anchor\"]};function particles_AreaFactory_createParticle__P12773_mk(s){checkStack(s.depth);return{parent:s,fn:particles_AreaFactory_createParticle__P12773,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,p___23423:undefined,arg0:undefined,arg1:undefined}}function particles_SprayFactory_createParticle__P12766(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.p___23465=undefined;s.angle___23468=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_SprayFactory__C12764_VT))failedCast(r0);s.tmp_0=particles_ParticleFactory_createParticle__P12761_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_0.arg1=s.arg1;s.pc=1;return s.tmp_0;case 1:r0=s.retval;s.p___23465=r0;r0=s.arg0.fields[\"minAngle\"];s.tmp_1=r0;s.tmp_3=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_3.arg0=globals.galois___12747;s.tmp_3.arg1=0;r0=s.arg0.fields[\"spread\"];s.tmp_3.arg2=r0;s.pc=2;return s.tmp_3;case 2:r0=s.retval;s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.tmp_0=r0;r0=s.tmp_0%100;s.angle___23468=r0;s.tmp_0=r0=s.p___23465;r0=pxsim_Array__getAt(globals.cachedSin___12744,s.angle___23468);s.tmp_2=r0;r0=s.arg0.fields[\"speed\"];s.tmp_3=r0;r0=pxsim.Math_.imul(s.tmp_2,s.tmp_3);s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_1=r0;r0=s.tmp_0.fields[\"vx\"]=s.tmp_1;s.tmp_0=r0=s.p___23465;r0=pxsim_Array__getAt(globals.cachedCos___12745,s.angle___23468);s.tmp_2=r0;r0=s.arg0.fields[\"speed\"];s.tmp_3=r0;r0=pxsim.Math_.imul(s.tmp_2,s.tmp_3);s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_1=r0;r0=s.tmp_0.fields[\"vy\"]=s.tmp_1;r0=s.p___23465;return leave(s,r0);default:oops()}}}particles_SprayFactory_createParticle__P12766.info={start:2851,length:333,line:105,column:8,endLine:113,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"createParticle\",argumentNames:[\"this\",\"anchor\"]};function particles_SprayFactory_createParticle__P12766_mk(s){checkStack(s.depth);return{parent:s,fn:particles_SprayFactory_createParticle__P12766,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,p___23465:undefined,angle___23468:undefined,arg0:undefined,arg1:undefined}}function effects_ScreenEffect_startScreenEffect__P12839(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ScreenEffect__C12837_VT))failedCast(r0);r0=s.arg0.fields[\"sourceFactory\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=13;continue}case 1:case 2:r0=s.arg0.fields[\"source\"];s.tmp_3=r0;r0=pxsim_numops_toBool(s.tmp_3);if(r0){step=3;continue}r0=s.tmp_3;{step=4;continue}case 3:s.tmp_4=particles_ParticleSource_enabled__P12715_mk(s);r0=s.arg0.fields[\"source\"];s.tmp_4.arg0=r0;s.pc=14;return s.tmp_4;case 14:r0=s.retval;case 4:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=7;continue}r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=5;continue}r0=s.arg0.fields[\"source\"];s.tmp_6=r0;r0=s.tmp_6.fields[\"lifespan\"]=s.arg1;case 5:case 6:{step=13;continue}case 7:case 8:s.tmp_0=effects_ScreenEffect_endScreenEffect__P12840_mk(s);s.tmp_0.arg0=s.arg0;s.pc=15;return s.tmp_0;case 15:r0=s.retval;r0=pxsim_pxtcore_mkClassInstance(effects_SceneAnchor__C12831_VT);s.tmp_0=r0;s.tmp_1=effects_SceneAnchor_constructor__P12836_mk(s);s.tmp_1.arg0=s.tmp_0;s.pc=16;return s.tmp_1;case 16:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.arg2);if(!r0){step=9;continue}r0=s.arg2;{step=10;continue}case 9:r0=s.arg0.fields[\"sceneDefaultRate\"];case 10:s.tmp_2=r0;s.tmp_3=r0=s.arg0;s.tmp_5=lambda_3_mk(s);r0=s.arg0.fields[\"sourceFactory\"];s.tmp_5.argL=r0;s.tmp_5.arg0=s.tmp_0;s.tmp_5.arg1=s.tmp_2;setupLambda(s.tmp_5,s.tmp_5.argL);s.pc=17;return s.tmp_5;case 17:r0=s.retval;s.tmp_4=r0;r0=s.tmp_3.fields[\"source\"]=s.tmp_4;r0=s.arg0.fields[\"source\"];s.tmp_0=r0;r0=s.tmp_0.fields[\"priority\"]=10;r0=pxsim_numops_toBoolDecr(s.arg1);if(!r0){step=11;continue}r0=s.arg0.fields[\"source\"];s.tmp_0=r0;r0=s.tmp_0.fields[\"lifespan\"]=s.arg1;case 11:case 12:case 13:r0=undefined;return leave(s,r0);default:oops()}}}effects_ScreenEffect_startScreenEffect__P12839.info={start:3541,length:601,line:96,column:8,endLine:111,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"startScreenEffect\",argumentNames:[\"this\",\"duration\",\"particlesPerSecond\"]};function effects_ScreenEffect_startScreenEffect__P12839_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ScreenEffect_startScreenEffect__P12839,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function effects_ScreenEffect_endScreenEffect__P12840(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_ScreenEffect__C12837_VT))failedCast(r0);r0=s.arg0.fields[\"source\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_1=particles_ParticleSource_destroy__P12717_mk(s);r0=s.arg0.fields[\"source\"];s.tmp_1.arg0=r0;s.pc=3;return s.tmp_1;case 3:r0=s.retval;r0=s.arg0.fields[\"source\"]=undefined;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}effects_ScreenEffect_endScreenEffect__P12840.info={start:4539,length:160,line:121,column:8,endLine:126,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"endScreenEffect\",argumentNames:[\"this\"]};function effects_ScreenEffect_endScreenEffect__P12840_mk(s){checkStack(s.depth);return{parent:s,fn:effects_ScreenEffect_endScreenEffect__P12840,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function effects_SceneAnchor_constructor__P12836(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_SceneAnchor__C12831_VT))failedCast(r0);s.tmp_0=r0=s.arg0;s.tmp_2=game_currentScene__P12194_mk(s);s.pc=1;return s.tmp_2;case 1:r0=s.retval;r0=r0.fields[\"camera\"];s.tmp_1=r0;r0=s.tmp_0.fields[\"camera\"]=s.tmp_1;return leave(s,r0);default:oops()}}}effects_SceneAnchor_constructor__P12836.info={start:2156,length:79,line:54,column:8,endLine:56,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function effects_SceneAnchor_constructor__P12836_mk(s){checkStack(s.depth);return{parent:s,fn:effects_SceneAnchor_constructor__P12836,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function info_PlayerInfo_id__P12251(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,info_PlayerInfo__C12248_VT))failedCast(r0);r0=s.arg0.fields[\"_player\"];return leave(s,r0);default:oops()}}}info_PlayerInfo_id__P12251.info={start:17272,length:57,line:569,column:8,endLine:571,endColumn:9,fileName:\"pxt_modules/game/info.ts\",functionName:\"id\",argumentNames:[\"this\"]};function info_PlayerInfo_id__P12251_mk(s){checkStack(s.depth);return{parent:s,fn:info_PlayerInfo_id__P12251,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function SpriteSet_toString__P12111(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);r0=pxsim_String_.mkEmpty();s.tmp_1=r0;r0=s.arg0.fields[\"_sprites\"];s.tmp_4=r0;r0=pxsim_Array__length(s.tmp_4);s.tmp_3=r0;if(s.tmp_3&&s.tmp_3.vtable){setupResume(s,1);pxsim_String__stringConv(s.tmp_3);checkResumeConsumed();return}else{s.retval=s.tmp_3+\"\"}case 1:r0=s.retval;s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_2);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\" sprites\");return leave(s,r0);default:oops()}}}SpriteSet_toString__P12111.info={start:2209,length:58,line:96,column:4,endLine:98,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"toString\",argumentNames:[\"this\"]};function SpriteSet_toString__P12111_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_toString__P12111,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function SpriteSet_length__P12103(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,SpriteSet__C12101_VT))failedCast(r0);r0=s.arg0.fields[\"_sprites\"];s.tmp_0=r0;r0=pxsim_Array__length(s.tmp_0);return leave(s,r0);default:oops()}}}SpriteSet_length__P12103.info={start:508,length:57,line:25,column:4,endLine:27,endColumn:5,fileName:\"pxt_modules/game/spriteset.ts\",functionName:\"length\",argumentNames:[\"this\"]};function SpriteSet_length__P12103_mk(s){checkStack(s.depth);return{parent:s,fn:SpriteSet_length__P12103,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite_toString__P12082(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=pxsim_String_.mkEmpty();s.tmp_9=r0;r0=s.arg0.fields[\"id\"];s.tmp_11=r0;if(s.tmp_11&&s.tmp_11.vtable){setupResume(s,1);pxsim_String__stringConv(s.tmp_11);checkResumeConsumed();return}else{s.retval=s.tmp_11+\"\"}case 1:r0=s.retval;s.tmp_10=r0;r0=pxsim_String__concat(s.tmp_9,s.tmp_10);s.tmp_8=r0;r0=pxsim_String__concat(s.tmp_8,\"(\");s.tmp_7=r0;s.tmp_14=Sprite_x__P12033_mk(s);s.tmp_14.arg0=s.arg0;s.pc=2;return s.tmp_14;case 2:r0=s.retval;s.tmp_13=r0;if(s.tmp_13&&s.tmp_13.vtable){setupResume(s,3);pxsim_String__stringConv(s.tmp_13);checkResumeConsumed();return}else{s.retval=s.tmp_13+\"\"}case 3:r0=s.retval;s.tmp_12=r0;r0=pxsim_String__concat(s.tmp_7,s.tmp_12);s.tmp_6=r0;r0=pxsim_String__concat(s.tmp_6,\",\");s.tmp_5=r0;s.tmp_17=Sprite_y__P12035_mk(s);s.tmp_17.arg0=s.arg0;s.pc=4;return s.tmp_17;case 4:r0=s.retval;s.tmp_16=r0;if(s.tmp_16&&s.tmp_16.vtable){setupResume(s,5);pxsim_String__stringConv(s.tmp_16);checkResumeConsumed();return}else{s.retval=s.tmp_16+\"\"}case 5:r0=s.retval;s.tmp_15=r0;r0=pxsim_String__concat(s.tmp_5,s.tmp_15);s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_4,\")->(\");s.tmp_3=r0;s.tmp_20=Sprite_vx__P12037_mk(s);s.tmp_20.arg0=s.arg0;s.pc=6;return s.tmp_20;case 6:r0=s.retval;s.tmp_19=r0;if(s.tmp_19&&s.tmp_19.vtable){setupResume(s,7);pxsim_String__stringConv(s.tmp_19);checkResumeConsumed();return}else{s.retval=s.tmp_19+\"\"}case 7:r0=s.retval;s.tmp_18=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_18);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\",\");s.tmp_1=r0;s.tmp_23=Sprite_vy__P12039_mk(s);s.tmp_23.arg0=s.arg0;s.pc=8;return s.tmp_23;case 8:r0=s.retval;s.tmp_22=r0;if(s.tmp_22&&s.tmp_22.vtable){setupResume(s,9);pxsim_String__stringConv(s.tmp_22);checkResumeConsumed();return}else{s.retval=s.tmp_22+\"\"}case 9:r0=s.retval;s.tmp_21=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_21);s.tmp_0=r0;r0=pxsim_String__concat(s.tmp_0,\")\");return leave(s,r0);default:oops()}}}Sprite_toString__P12082.info={start:28790,length:93,line:868,column:4,endLine:870,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"toString\",argumentNames:[\"this\"]};function Sprite_toString__P12082_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_toString__P12082,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,tmp_17:undefined,tmp_18:undefined,tmp_19:undefined,tmp_20:undefined,tmp_21:undefined,tmp_22:undefined,tmp_23:undefined,arg0:undefined}}function Sprite___update__P12071(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.bounce___23613=undefined;s.tm___23617=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1!==undefined;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=3;continue}s.tmp_2=r0=s.arg0;r0=s.tmp_2.fields[\"lifespan\"];s.tmp_4=r0;r0=s.arg2*1e3;s.tmp_5=r0;r0=s.tmp_4-s.tmp_5;s.tmp_3=r0;r0=s.tmp_2.fields[\"lifespan\"]=s.tmp_3;r0=s.arg0.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1<=0;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=s.arg0.fields[\"lifespan\"]=undefined;s.tmp_0=Sprite__destroyCore__P12080_mk(s);s.tmp_0.arg0=s.arg0;s.pc=33;return s.tmp_0;case 33:r0=s.retval;case 1:case 2:case 3:case 4:r0=s.arg0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&4;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(r0){step=5;continue}r0=s.tmp_0;{step=6;continue}case 5:s.tmp_2=Sprite_isOutOfScreen__P12069_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.arg1;s.pc=34;return s.tmp_2;case 34:r0=s.retval;case 6:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=7;continue}s.tmp_4=Sprite_destroy__P12079_mk(s);s.tmp_4.arg0=s.arg0;s.tmp_4.arg1=undefined;s.tmp_4.arg2=undefined;s.pc=35;return s.tmp_4;case 35:r0=s.retval;case 7:case 8:r0=s.arg0.fields[\"flags\"];s.tmp_0=r0;r0=s.tmp_0&32;s.bounce___23613=r0;s.tmp_0=game_currentScene__P12194_mk(s);s.pc=36;return s.tmp_0;case 36:r0=s.retval;r0=r0.fields[\"tileMap\"];s.tm___23617=r0;r0=s.arg0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&8;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=9;continue}r0=s.tmp_0;{step=12;continue}case 9:s.tmp_2=r0=s.bounce___23613;r0=pxsim_numops_toBool(s.tmp_2);if(r0){step=10;continue}r0=s.tmp_2;{step=11;continue}case 10:r0=pxsim_numops_toBoolDecr(s.tm___23617);s.tmp_3=r0;r0=pxsim_Boolean__bang(s.tmp_3);case 11:s.tmp_4=r0;r0=s.tmp_4;case 12:s.tmp_5=r0;r0=pxsim_numops_toBoolDecr(s.tmp_5);if(!r0){step=29;continue}s.tmp_8=Sprite_left__P12055_mk(s);s.tmp_8.arg0=s.arg0;s.pc=37;return s.tmp_8;case 37:r0=s.retval;s.tmp_7=r0;r0=s.arg1.fields[\"offsetX\"];s.tmp_9=r0;r0=s.tmp_7<s.tmp_9;s.tmp_6=r0;r0=pxsim_numops_toBoolDecr(s.tmp_6);if(!r0){step=15;continue}s.tmp_10=Sprite_left__P12056_mk(s);s.tmp_10.arg0=s.arg0;r0=s.arg1.fields[\"offsetX\"];s.tmp_10.arg1=r0;s.pc=38;return s.tmp_10;case 38:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.bounce___23613);if(!r0){step=13;continue}s.tmp_0=Sprite_vx__P12038_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_2=Sprite_vx__P12037_mk(s);s.tmp_2.arg0=s.arg0;s.pc=40;return s.tmp_2;case 40:r0=s.retval;s.tmp_1=r0;r0=0-s.tmp_1;s.tmp_0.arg1=r0;s.pc=39;return s.tmp_0;case 39:r0=s.retval;case 13:case 14:{step=20;continue}case 15:s.tmp_2=Sprite_right__P12057_mk(s);s.tmp_2.arg0=s.arg0;s.pc=41;return s.tmp_2;case 41:r0=s.retval;s.tmp_1=r0;r0=s.arg1.fields[\"offsetX\"];s.tmp_4=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=18;continue}s.tmp_6=Sprite_right__P12058_mk(s);s.tmp_6.arg0=s.arg0;r0=s.arg1.fields[\"offsetX\"];s.tmp_7=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_8=r0;r0=s.tmp_7+s.tmp_8;s.tmp_6.arg1=r0;s.pc=42;return s.tmp_6;case 42:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.bounce___23613);if(!r0){step=16;continue}s.tmp_0=Sprite_vx__P12038_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_2=Sprite_vx__P12037_mk(s);s.tmp_2.arg0=s.arg0;s.pc=44;return s.tmp_2;case 44:r0=s.retval;s.tmp_1=r0;r0=0-s.tmp_1;s.tmp_0.arg1=r0;s.pc=43;return s.tmp_0;case 43:r0=s.retval;case 16:case 17:case 18:case 19:case 20:s.tmp_2=Sprite_top__P12059_mk(s);s.tmp_2.arg0=s.arg0;s.pc=45;return s.tmp_2;case 45:r0=s.retval;s.tmp_1=r0;r0=s.arg1.fields[\"offsetY\"];s.tmp_3=r0;r0=s.tmp_1<s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=23;continue}s.tmp_4=Sprite_top__P12060_mk(s);s.tmp_4.arg0=s.arg0;r0=s.arg1.fields[\"offsetY\"];s.tmp_4.arg1=r0;s.pc=46;return s.tmp_4;case 46:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.bounce___23613);if(!r0){step=21;continue}s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_2=Sprite_vy__P12039_mk(s);s.tmp_2.arg0=s.arg0;s.pc=48;return s.tmp_2;case 48:r0=s.retval;s.tmp_1=r0;r0=0-s.tmp_1;s.tmp_0.arg1=r0;s.pc=47;return s.tmp_0;case 47:r0=s.retval;case 21:case 22:{step=28;continue}case 23:s.tmp_2=Sprite_bottom__P12061_mk(s);s.tmp_2.arg0=s.arg0;s.pc=49;return s.tmp_2;case 49:r0=s.retval;s.tmp_1=r0;r0=s.arg1.fields[\"offsetY\"];s.tmp_4=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.tmp_3=r0;r0=s.tmp_1>s.tmp_3;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=26;continue}s.tmp_6=Sprite_bottom__P12062_mk(s);s.tmp_6.arg0=s.arg0;r0=s.arg1.fields[\"offsetY\"];s.tmp_7=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_8=r0;r0=s.tmp_7+s.tmp_8;s.tmp_6.arg1=r0;s.pc=50;return s.tmp_6;case 50:r0=s.retval;r0=pxsim_numops_toBoolDecr(s.bounce___23613);if(!r0){step=24;continue}s.tmp_0=Sprite_vy__P12040_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_2=Sprite_vy__P12039_mk(s);s.tmp_2.arg0=s.arg0;s.pc=52;return s.tmp_2;case 52:r0=s.retval;s.tmp_1=r0;r0=0-s.tmp_1;s.tmp_0.arg1=r0;s.pc=51;return s.tmp_0;case 51:r0=s.retval;case 24:case 25:case 26:case 27:case 28:case 29:case 30:r0=s.arg0.fields[\"updateSay\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=31;continue}s.tmp_1=lambda_3_mk(s);r0=s.arg0.fields[\"updateSay\"];s.tmp_1.argL=r0;s.tmp_1.arg0=s.arg2;s.tmp_1.arg1=s.arg1;setupLambda(s.tmp_1,s.tmp_1.argL);s.pc=53;return s.tmp_1;case 53:r0=s.retval;case 31:case 32:r0=undefined;return leave(s,r0);default:oops()}}}Sprite___update__P12071.info={start:20631,length:1390,line:635,column:4,endLine:674,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"__update\",argumentNames:[\"this\",\"camera\",\"dt\"]};function Sprite___update__P12071_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite___update__P12071,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,bounce___23613:undefined,tm___23617:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function Sprite_isOutOfScreen__P12069(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.ox___23686=undefined;s.oy___23689=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg1.fields[\"offsetX\"];s.ox___23686=r0;r0=s.arg1.fields[\"offsetY\"];s.oy___23689=r0;s.tmp_3=Sprite_right__P12057_mk(s);s.tmp_3.arg0=s.arg0;s.pc=7;return s.tmp_3;case 7:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2-s.ox___23686;s.tmp_1=r0;r0=s.tmp_1<0;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:s.tmp_6=Sprite_bottom__P12061_mk(s);s.tmp_6.arg0=s.arg0;s.pc=8;return s.tmp_6;case 8:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5-s.oy___23689;s.tmp_4=r0;r0=s.tmp_4<0;case 2:s.tmp_7=r0;r0=pxsim_numops_toBool(s.tmp_7);if(!r0){step=3;continue}r0=s.tmp_7;{step=4;continue}case 3:s.tmp_10=Sprite_left__P12055_mk(s);s.tmp_10.arg0=s.arg0;s.pc=9;return s.tmp_10;case 9:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9-s.ox___23686;s.tmp_8=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_11=r0;r0=s.tmp_8>s.tmp_11;case 4:s.tmp_12=r0;r0=pxsim_numops_toBool(s.tmp_12);if(!r0){step=5;continue}r0=s.tmp_12;{step=6;continue}case 5:s.tmp_15=Sprite_top__P12059_mk(s);s.tmp_15.arg0=s.arg0;s.pc=10;return s.tmp_15;case 10:r0=s.retval;s.tmp_14=r0;r0=s.tmp_14-s.oy___23689;s.tmp_13=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_16=r0;r0=s.tmp_13>s.tmp_16;case 6:s.tmp_17=r0;r0=s.tmp_17;return leave(s,r0);default:oops()}}}Sprite_isOutOfScreen__P12069.info={start:19122,length:248,line:593,column:4,endLine:597,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"isOutOfScreen\",argumentNames:[\"this\",\"camera\"]};function Sprite_isOutOfScreen__P12069_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_isOutOfScreen__P12069,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,tmp_12:undefined,tmp_13:undefined,tmp_14:undefined,tmp_15:undefined,tmp_16:undefined,tmp_17:undefined,ox___23686:undefined,oy___23689:undefined,arg0:undefined,arg1:undefined}}function Sprite_right__P12058(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_0=Sprite_left__P12056_mk(s);s.tmp_0.arg0=s.arg0;s.tmp_1=r0=s.arg1;r0=s.arg0.fields[\"_image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1-s.tmp_2;s.tmp_0.arg1=r0;s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_right__P12058.info={start:8653,length:71,line:309,column:4,endLine:311,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"right\",argumentNames:[\"this\",\"value\"]};function Sprite_right__P12058_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_right__P12058,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined,arg1:undefined}}function Sprite_data__P12046(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_data\"]=s.arg1;r0=undefined;return leave(s,r0);default:oops()}}}Sprite_data__P12046.info={start:3261,length:56,line:127,column:4,endLine:129,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"data\",argumentNames:[\"this\",\"value\"]};function Sprite_data__P12046_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_data__P12046,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function Sprite_data__P12045(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"_data\"];s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_3=r0=s.arg0;r0=pxsim_pxtrt.mkMap();s.tmp_4=r0;r0=s.tmp_3.fields[\"_data\"]=s.tmp_4;case 1:case 2:r0=s.arg0.fields[\"_data\"];return leave(s,r0);default:oops()}}}Sprite_data__P12045.info={start:3163,length:92,line:122,column:4,endLine:125,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"data\",argumentNames:[\"this\"]};function Sprite_data__P12045_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite_data__P12045,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function sprites_BaseSprite___update__P11938(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}sprites_BaseSprite___update__P11938.info={start:1027,length:46,line:45,column:8,endLine:45,endColumn:54,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"__update\",argumentNames:[\"this\",\"camera\",\"dt\"]};function sprites_BaseSprite___update__P11938_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite___update__P11938,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined,arg2:undefined}}function sprites_BaseSprite___draw__P11936(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);s.tmp_1=sprites_BaseSprite__C11932_v0_1_mk(s);s.tmp_1.arg0=s.arg0;if(!checkSubtype(s.tmp_1.arg0,sprites_BaseSprite__C11932_VT))failedCast(s.tmp_1.arg0);s.tmp_1.fn=s.tmp_1.arg0.vtable.methods.__visible;s.pc=3;return s.tmp_1;case 3:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}s.tmp_2=sprites_BaseSprite__C11932_v4_2_mk(s);s.tmp_2.arg0=s.arg0;s.tmp_2.arg1=s.arg1;if(!checkSubtype(s.tmp_2.arg0,sprites_BaseSprite__C11932_VT))failedCast(s.tmp_2.arg0);s.tmp_2.fn=s.tmp_2.arg0.vtable.methods.__drawCore;s.pc=4;return s.tmp_2;case 4:r0=s.retval;case 1:case 2:r0=undefined;return leave(s,r0);default:oops()}}}sprites_BaseSprite___draw__P11936.info={start:840,length:131,line:37,column:8,endLine:41,endColumn:9,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"__draw\",argumentNames:[\"this\",\"camera\"]};function sprites_BaseSprite___draw__P11936_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite___draw__P11936,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined,arg1:undefined}}function sprites_BaseSprite___drawCore__P11937(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);r0=undefined;return leave(s,r0);default:oops()}}}sprites_BaseSprite___drawCore__P11937.info={start:981,length:36,line:43,column:8,endLine:43,endColumn:44,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"__drawCore\",argumentNames:[\"this\",\"camera\"]};function sprites_BaseSprite___drawCore__P11937_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite___drawCore__P11937,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined,arg1:undefined}}function sprites_BaseSprite___visible__P11933(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_BaseSprite__C11932_VT))failedCast(r0);r0=true;return leave(s,r0);default:oops()}}}sprites_BaseSprite___visible__P11933.info={start:524,length:57,line:22,column:8,endLine:24,endColumn:9,fileName:\"pxt_modules/game/basesprite.ts\",functionName:\"__visible\",argumentNames:[\"this\"]};function sprites_BaseSprite___visible__P11933_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_BaseSprite___visible__P11933,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function controller_Button_toString__P11963(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,controller_Button__C11962_VT))failedCast(r0);r0=s.arg0.fields[\"_pressed\"];s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=\"down\";{step=2;continue}case 1:r0=\"up\";case 2:s.tmp_1=r0;r0=s.arg0.fields[\"id\"];s.tmp_7=r0;if(s.tmp_7&&s.tmp_7.vtable){setupResume(s,3);pxsim_String__stringConv(s.tmp_7);checkResumeConsumed();return}else{s.retval=s.tmp_7+\"\"}case 3:r0=s.retval;s.tmp_6=r0;r0=pxsim_String__concat(\"btn \",s.tmp_6);s.tmp_5=r0;r0=pxsim_String__concat(s.tmp_5,\" \");s.tmp_4=r0;r0=s.arg0.fields[\"_buttonId\"];s.tmp_9=r0;if(s.tmp_9&&s.tmp_9.vtable){setupResume(s,4);pxsim_String__stringConv(s.tmp_9);checkResumeConsumed();return}else{s.retval=s.tmp_9+\"\"}case 4:r0=s.retval;s.tmp_8=r0;r0=pxsim_String__concat(s.tmp_4,s.tmp_8);s.tmp_3=r0;r0=pxsim_String__concat(s.tmp_3,\" \");s.tmp_2=r0;if(s.tmp_1&&s.tmp_1.vtable){setupResume(s,5);pxsim_String__stringConv(s.tmp_1);checkResumeConsumed();return}else{s.retval=s.tmp_1+\"\"}case 5:r0=s.retval;s.tmp_10=r0;r0=pxsim_String__concat(s.tmp_2,s.tmp_10);return leave(s,r0);default:oops()}}}controller_Button_toString__P11963.info={start:1226,length:118,line:56,column:8,endLine:58,endColumn:9,fileName:\"pxt_modules/game/controller.ts\",functionName:\"toString\",argumentNames:[\"this\"]};function controller_Button_toString__P11963_mk(s){checkStack(s.depth);return{parent:s,fn:controller_Button_toString__P11963,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,arg0:undefined}}function effects_SceneAnchor_height__P12835(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_SceneAnchor__C12831_VT))failedCast(r0);r0=pxsim_ImageMethods.height(globals.screen___11888);return leave(s,r0);default:oops()}}}effects_SceneAnchor_height__P12835.info={start:2494,length:58,line:70,column:8,endLine:72,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"height\",argumentNames:[\"this\"]};function effects_SceneAnchor_height__P12835_mk(s){checkStack(s.depth);return{parent:s,fn:effects_SceneAnchor_height__P12835,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function effects_SceneAnchor_width__P12834(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_SceneAnchor__C12831_VT))failedCast(r0);r0=pxsim_ImageMethods.width(globals.screen___11888);return leave(s,r0);default:oops()}}}effects_SceneAnchor_width__P12834.info={start:2428,length:56,line:66,column:8,endLine:68,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"width\",argumentNames:[\"this\"]};function effects_SceneAnchor_width__P12834_mk(s){checkStack(s.depth);return{parent:s,fn:effects_SceneAnchor_width__P12834,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function effects_SceneAnchor_y__P12833(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_SceneAnchor__C12831_VT))failedCast(r0);r0=s.arg0.fields[\"camera\"];r0=r0.fields[\"offsetY\"];s.tmp_0=r0;r0=pxsim_ImageMethods.height(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;return leave(s,r0);default:oops()}}}effects_SceneAnchor_y__P12833.info={start:2336,length:82,line:62,column:8,endLine:64,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"y\",argumentNames:[\"this\"]};function effects_SceneAnchor_y__P12833_mk(s){checkStack(s.depth);return{parent:s,fn:effects_SceneAnchor_y__P12833,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function effects_SceneAnchor_x__P12832(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,effects_SceneAnchor__C12831_VT))failedCast(r0);r0=s.arg0.fields[\"camera\"];r0=r0.fields[\"offsetX\"];s.tmp_0=r0;r0=pxsim_ImageMethods.width(globals.screen___11888);s.tmp_2=r0;r0=s.tmp_2>>1;s.tmp_1=r0;r0=s.tmp_0+s.tmp_1;return leave(s,r0);default:oops()}}}effects_SceneAnchor_x__P12832.info={start:2245,length:81,line:58,column:8,endLine:60,endColumn:9,fileName:\"pxt_modules/game/particleeffects.ts\",functionName:\"x\",argumentNames:[\"this\"]};function effects_SceneAnchor_x__P12832_mk(s){checkStack(s.depth);return{parent:s,fn:effects_SceneAnchor_x__P12832,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function sprites_StaticObstacle_width__P12129(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_StaticObstacle__C12125_VT))failedCast(r0);r0=s.arg0.fields[\"image\"];s.tmp_0=r0;r0=pxsim_ImageMethods.width(s.tmp_0);return leave(s,r0);default:oops()}}}sprites_StaticObstacle_width__P12129.info={start:1084,length:68,line:48,column:8,endLine:50,endColumn:9,fileName:\"pxt_modules/game/obstacle.ts\",functionName:\"width\",argumentNames:[\"this\"]};function sprites_StaticObstacle_width__P12129_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_StaticObstacle_width__P12129,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function sprites_StaticObstacle_height__P12128(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_StaticObstacle__C12125_VT))failedCast(r0);r0=s.arg0.fields[\"image\"];s.tmp_0=r0;r0=pxsim_ImageMethods.height(s.tmp_0);return leave(s,r0);default:oops()}}}sprites_StaticObstacle_height__P12128.info={start:1004,length:70,line:44,column:8,endLine:46,endColumn:9,fileName:\"pxt_modules/game/obstacle.ts\",functionName:\"height\",argumentNames:[\"this\"]};function sprites_StaticObstacle_height__P12128_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_StaticObstacle_height__P12128,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function sprites_StaticObstacle_y__P12127(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_StaticObstacle__C12125_VT))failedCast(r0);r0=s.arg0.fields[\"top\"];s.tmp_1=r0;r0=s.arg0.fields[\"image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.height(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.tmp_0=r0;r0=s.tmp_0>>1;return leave(s,r0);default:oops()}}}sprites_StaticObstacle_y__P12127.info={start:919,length:75,line:40,column:8,endLine:42,endColumn:9,fileName:\"pxt_modules/game/obstacle.ts\",functionName:\"y\",argumentNames:[\"this\"]};function sprites_StaticObstacle_y__P12127_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_StaticObstacle_y__P12127,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function sprites_StaticObstacle_x__P12126(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,sprites_StaticObstacle__C12125_VT))failedCast(r0);r0=s.arg0.fields[\"left\"];s.tmp_1=r0;r0=s.arg0.fields[\"image\"];s.tmp_3=r0;r0=pxsim_ImageMethods.width(s.tmp_3);s.tmp_2=r0;r0=s.tmp_1+s.tmp_2;s.tmp_0=r0;r0=s.tmp_0>>1;return leave(s,r0);default:oops()}}}sprites_StaticObstacle_x__P12126.info={start:834,length:75,line:36,column:8,endLine:38,endColumn:9,fileName:\"pxt_modules/game/obstacle.ts\",functionName:\"x\",argumentNames:[\"this\"]};function sprites_StaticObstacle_x__P12126_mk(s){checkStack(s.depth);return{parent:s,fn:sprites_StaticObstacle_x__P12126,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,arg0:undefined}}function animation_PathNode_constructor__P12941(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_PathNode__C12937_VT))failedCast(r0);r0=s.arg0.fields[\"setStart\"]=false;return leave(s,r0);default:oops()}}}animation_PathNode_constructor__P12941.info={start:13061,length:60,line:306,column:8,endLine:308,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function animation_PathNode_constructor__P12941_mk(s){checkStack(s.depth);return{parent:s,fn:animation_PathNode_constructor__P12941,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,arg0:undefined}}function animation_Path_constructor__P12936(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,animation_Path__C12929_VT))failedCast(r0);s.tmp_0=r0=s.arg0;r0=pxsim_Array__mk();s.tmp_1=r0;r0=s.tmp_0.fields[\"nodes\"]=s.tmp_1;r0=s.arg0.fields[\"lastNode\"]=-1;return leave(s,r0);default:oops()}}}animation_Path_constructor__P12936.info={start:785,length:86,line:32,column:8,endLine:35,endColumn:9,fileName:\"pxt_modules/animation/animation.ts\",functionName:\"inline\",argumentNames:[\"this\"]};function animation_Path_constructor__P12936_mk(s){checkStack(s.depth);return{parent:s,fn:animation_Path_constructor__P12936,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,arg0:undefined}}function particles_ShapeFactory_drawParticle__P12784(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.pImage___23800=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_ShapeFactory__C12781_VT))failedCast(r0);s.tmp_1=Math_FastRandom_pickRandom__P12582_mk(s);r0=s.arg0.fields[\"galois\"];s.tmp_1.arg0=r0;r0=s.arg0.fields[\"sources\"];s.tmp_1.arg1=r0;s.pc=1;return s.tmp_1;case 1:r0=s.retval;s.tmp_0=r0;r0=pxsim_ImageMethods.clone(s.tmp_0);s.pImage___23800=r0;r0=s.arg1.fields[\"color\"];s.tmp_0=r0;r0=pxsim_ImageMethods.replace(s.pImage___23800,15,s.tmp_0);s.tmp_0=r0=globals.screen___11888;s.tmp_1=r0=s.pImage___23800;r0=s.arg0.fields[\"ox\"];s.tmp_4=r0;r0=s.arg2-s.tmp_4;s.tmp_3=r0;r0=s.tmp_3+128;s.tmp_5=r0;r0=s.tmp_5>>8;s.tmp_2=r0;r0=s.arg0.fields[\"oy\"];s.tmp_8=r0;r0=s.arg3-s.tmp_8;s.tmp_7=r0;r0=s.tmp_7+128;s.tmp_9=r0;r0=s.tmp_9>>8;s.tmp_6=r0;r0=pxsim_ImageMethods.drawTransparentImage(s.tmp_0,s.tmp_1,s.tmp_2,s.tmp_6);r0=undefined;return leave(s,r0);default:oops()}}}particles_ShapeFactory_drawParticle__P12784.info={start:7172,length:323,line:229,column:8,endLine:237,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"drawParticle\",argumentNames:[\"this\",\"p\",\"x\",\"y\"]};function particles_ShapeFactory_drawParticle__P12784_mk(s){checkStack(s.depth);return{parent:s,fn:particles_ShapeFactory_drawParticle__P12784,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,pImage___23800:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function Math_FastRandom_pickRandom__P12582(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Math_FastRandom__C12579_VT))failedCast(r0);r0=pxsim_numops_toBoolDecr(s.arg1);s.tmp_1=r0;r0=pxsim_Boolean__bang(s.tmp_1);s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=1;continue}r0=s.tmp_0;{step=2;continue}case 1:r0=pxsim_Array__length(s.arg1);s.tmp_2=r0;r0=s.tmp_2==0;case 2:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=3;continue}r0=undefined;{step=5;continue}case 3:case 4:s.tmp_4=r0=s.arg1;s.tmp_6=Math_FastRandom_randomRange__P12581_mk(s);s.tmp_6.arg0=s.arg0;s.tmp_6.arg1=0;r0=pxsim_Array__length(s.arg1);s.tmp_7=r0;r0=s.tmp_7-1;s.tmp_6.arg2=r0;s.pc=6;return s.tmp_6;case 6:r0=s.retval;s.tmp_5=r0;r0=pxsim_Array__getAt(s.tmp_4,s.tmp_5);case 5:return leave(s,r0);default:oops()}}}Math_FastRandom_pickRandom__P12582.info={start:2325,length:192,line:69,column:8,endLine:74,endColumn:9,fileName:\"pxt_modules/game/mathUtil.ts\",functionName:\"pickRandom\",argumentNames:[\"this\",\"list\"]};function Math_FastRandom_pickRandom__P12582_mk(s){checkStack(s.depth);return{parent:s,fn:Math_FastRandom_pickRandom__P12582,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,arg0:undefined,arg1:undefined}}function particles_AreaFactory_drawParticle__P12774(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.col___23843=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_AreaFactory__C12771_VT))failedCast(r0);r0=s.arg1.fields[\"lifespan\"];s.tmp_1=r0;r0=s.tmp_1>500;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}r0=4;{step=4;continue}case 1:r0=s.arg1.fields[\"lifespan\"];s.tmp_3=r0;r0=s.tmp_3>250;s.tmp_2=r0;r0=pxsim_numops_toBoolDecr(s.tmp_2);if(!r0){step=2;continue}r0=5;{step=3;continue}case 2:r0=1;case 3:s.tmp_4=r0;r0=s.tmp_4;case 4:s.tmp_5=r0;s.col___23843=s.tmp_5;s.tmp_0=r0=globals.screen___11888;r0=s.arg2+128;s.tmp_2=r0;r0=s.tmp_2>>8;s.tmp_1=r0;r0=s.arg3+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_3=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_0,s.tmp_1,s.tmp_3,s.col___23843);r0=undefined;return leave(s,r0);default:oops()}}}particles_AreaFactory_drawParticle__P12774.info={start:4770,length:222,line:158,column:8,endLine:163,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"drawParticle\",argumentNames:[\"this\",\"p\",\"x\",\"y\"]};function particles_AreaFactory_drawParticle__P12774_mk(s){checkStack(s.depth);return{parent:s,fn:particles_AreaFactory_drawParticle__P12774,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,col___23843:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function particles_SprayFactory_drawParticle__P12767(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.arg2=s.lambdaArgs[2];s.arg3=s.lambdaArgs[3];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,particles_SprayFactory__C12764_VT))failedCast(r0);s.tmp_0=r0=globals.screen___11888;r0=s.arg2+128;s.tmp_2=r0;r0=s.tmp_2>>8;s.tmp_1=r0;r0=s.arg3+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_3=r0;r0=pxsim_ImageMethods.setPixel(s.tmp_0,s.tmp_1,s.tmp_3,1);r0=undefined;return leave(s,r0);default:oops()}}}particles_SprayFactory_drawParticle__P12767.info={start:3194,length:118,line:115,column:8,endLine:117,endColumn:9,fileName:\"pxt_modules/game/particlefactories.ts\",functionName:\"drawParticle\",argumentNames:[\"this\",\"particle\",\"x\",\"y\"]};function particles_SprayFactory_drawParticle__P12767_mk(s){checkStack(s.depth);return{parent:s,fn:particles_SprayFactory_drawParticle__P12767,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function scene_Renderable___drawCore__P12318(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Renderable__C12315_VT))failedCast(r0);s.tmp_0=lambda_3_mk(s);r0=s.arg0.fields[\"handler\"];s.tmp_0.argL=r0;s.tmp_0.arg0=globals.screen___11888;s.tmp_0.arg1=s.arg1;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;r0=undefined;return leave(s,r0);default:oops()}}}scene_Renderable___drawCore__P12318.info={start:390,length:86,line:14,column:8,endLine:16,endColumn:9,fileName:\"pxt_modules/game/renderable.ts\",functionName:\"__drawCore\",argumentNames:[\"this\",\"camera\"]};function scene_Renderable___drawCore__P12318_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Renderable___drawCore__P12318,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined,arg1:undefined}}function scene_Renderable___visible__P12317(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,scene_Renderable__C12315_VT))failedCast(r0);s.tmp_0=lambda_1_mk(s);r0=s.arg0.fields[\"shouldBeVisible\"];s.tmp_0.argL=r0;setupLambda(s.tmp_0,s.tmp_0.argL);s.pc=1;return s.tmp_0;case 1:r0=s.retval;return leave(s,r0);default:oops()}}}scene_Renderable___visible__P12317.info={start:305,length:75,line:10,column:8,endLine:12,endColumn:9,fileName:\"pxt_modules/game/renderable.ts\",functionName:\"__visible\",argumentNames:[\"this\"]};function scene_Renderable___visible__P12317_mk(s){checkStack(s.depth);return{parent:s,fn:scene_Renderable___visible__P12317,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,arg0:undefined}}function Sprite___drawCore__P12070(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:s.l___23880=undefined;s.t___23884=undefined;s.font___23899=undefined;s.margin___23901=undefined;s.tx___23902=undefined;s.ty___23904=undefined;if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.arg1=s.lambdaArgs[1];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);s.tmp_1=Sprite_isOutOfScreen__P12069_mk(s);s.tmp_1.arg0=s.arg0;s.tmp_1.arg1=s.arg1;s.pc=16;return s.tmp_1;case 16:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=1;continue}{step=15;continue}case 1:case 2:s.tmp_3=Sprite_left__P12055_mk(s);s.tmp_3.arg0=s.arg0;s.pc=17;return s.tmp_3;case 17:r0=s.retval;s.tmp_2=r0;r0=s.arg1.fields[\"drawOffsetX\"];s.tmp_4=r0;r0=s.tmp_2-s.tmp_4;s.l___23880=r0;s.tmp_1=Sprite_top__P12059_mk(s);s.tmp_1.arg0=s.arg0;s.pc=18;return s.tmp_1;case 18:r0=s.retval;s.tmp_0=r0;r0=s.arg1.fields[\"drawOffsetY\"];s.tmp_2=r0;r0=s.tmp_0-s.tmp_2;s.t___23884=r0;r0=s.arg0.fields[\"_image\"];s.tmp_0=r0;r0=pxsim_ImageMethods.drawTransparentImage(globals.screen___11888,s.tmp_0,s.l___23880,s.t___23884);r0=s.arg0.fields[\"flags\"];s.tmp_1=r0;r0=s.tmp_1&64;s.tmp_0=r0;r0=pxsim_numops_toBoolDecr(s.tmp_0);if(!r0){step=11;continue}s.font___23899=globals.font5___11853;s.margin___23901=2;s.tmp_0=Sprite_left__P12055_mk(s);s.tmp_0.arg0=s.arg0;s.pc=19;return s.tmp_0;case 19:r0=s.retval;s.tx___23902=r0;s.tmp_1=Sprite_bottom__P12061_mk(s);s.tmp_1.arg0=s.arg0;s.pc=20;return s.tmp_1;case 20:r0=s.retval;s.tmp_0=r0;r0=s.tmp_0+s.margin___23901;s.ty___23904=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;r0=pxsim_String_.mkEmpty();s.tmp_3=r0;s.tmp_7=Sprite_x__P12033_mk(s);s.tmp_7.arg0=s.arg0;s.pc=22;return s.tmp_7;case 22:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6>>0;s.tmp_5=r0;if(s.tmp_5&&s.tmp_5.vtable){setupResume(s,23);pxsim_String__stringConv(s.tmp_5);checkResumeConsumed();return}else{s.retval=s.tmp_5+\"\"}case 23:r0=s.retval;s.tmp_4=r0;r0=pxsim_String__concat(s.tmp_3,s.tmp_4);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\",\");s.tmp_1=r0;s.tmp_11=Sprite_y__P12035_mk(s);s.tmp_11.arg0=s.arg0;s.pc=24;return s.tmp_11;case 24:r0=s.retval;s.tmp_10=r0;r0=s.tmp_10>>0;s.tmp_9=r0;if(s.tmp_9&&s.tmp_9.vtable){setupResume(s,25);pxsim_String__stringConv(s.tmp_9);checkResumeConsumed();return}else{s.retval=s.tmp_9+\"\"}case 25:r0=s.retval;s.tmp_8=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_8);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.tx___23902;s.tmp_0.arg3=s.ty___23904;s.tmp_0.arg4=1;s.tmp_0.arg5=s.font___23899;s.tmp_0.arg6=undefined;s.pc=21;return s.tmp_0;case 21:r0=s.retval;s.tmp_0=r0=s.tx___23902;s.tmp_2=if_charWidth_1_mk(s);s.tmp_2.arg0=s.font___23899;if(!s.tmp_2.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_2.arg0,\"charWidth\")}else{s.tmp_2.fn=s.tmp_2.arg0.vtable.iface[\"charWidth\"];if(s.tmp_2.fn==null){s.retval=s.tmp_2.arg0.fields[\"charWidth\"]}else{s.pc=26;return s.tmp_2}}case 26:r0=s.retval;s.tmp_1=r0;r0=s.tmp_0-s.tmp_1;s.tx___23902=r0;s.tmp_1=Sprite_vx__P12037_mk(s);s.tmp_1.arg0=s.arg0;s.pc=27;return s.tmp_1;case 27:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=3;continue}r0=s.tmp_0;{step=4;continue}case 3:s.tmp_2=Sprite_vy__P12039_mk(s);s.tmp_2.arg0=s.arg0;s.pc=28;return s.tmp_2;case 28:r0=s.retval;case 4:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=5;continue}s.tmp_4=r0=s.ty___23904;s.tmp_7=if_charHeight_1_mk(s);s.tmp_7.arg0=s.font___23899;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"charHeight\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"charHeight\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"charHeight\"]}else{s.pc=29;return s.tmp_7}}case 29:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6+s.margin___23901;s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.ty___23904=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_6=Sprite_vx__P12037_mk(s);s.tmp_6.arg0=s.arg0;s.pc=31;return s.tmp_6;case 31:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5>>0;s.tmp_4=r0;if(s.tmp_4&&s.tmp_4.vtable){setupResume(s,32);pxsim_String__stringConv(s.tmp_4);checkResumeConsumed();return}else{s.retval=s.tmp_4+\"\"}case 32:r0=s.retval;s.tmp_3=r0;r0=pxsim_String__concat(\"v\",s.tmp_3);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\",\");s.tmp_1=r0;s.tmp_10=Sprite_vy__P12039_mk(s);s.tmp_10.arg0=s.arg0;s.pc=33;return s.tmp_10;case 33:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9>>0;s.tmp_8=r0;if(s.tmp_8&&s.tmp_8.vtable){setupResume(s,34);pxsim_String__stringConv(s.tmp_8);checkResumeConsumed();return}else{s.retval=s.tmp_8+\"\"}case 34:r0=s.retval;s.tmp_7=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_7);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.tx___23902;s.tmp_0.arg3=s.ty___23904;s.tmp_0.arg4=1;s.tmp_0.arg5=s.font___23899;s.tmp_0.arg6=undefined;s.pc=30;return s.tmp_0;case 30:r0=s.retval;case 5:case 6:s.tmp_1=Sprite_ax__P12041_mk(s);s.tmp_1.arg0=s.arg0;s.pc=35;return s.tmp_1;case 35:r0=s.retval;s.tmp_0=r0;r0=pxsim_numops_toBool(s.tmp_0);if(!r0){step=7;continue}r0=s.tmp_0;{step=8;continue}case 7:s.tmp_2=Sprite_ay__P12043_mk(s);s.tmp_2.arg0=s.arg0;s.pc=36;return s.tmp_2;case 36:r0=s.retval;case 8:s.tmp_3=r0;r0=pxsim_numops_toBoolDecr(s.tmp_3);if(!r0){step=9;continue}s.tmp_4=r0=s.ty___23904;s.tmp_7=if_charHeight_1_mk(s);s.tmp_7.arg0=s.font___23899;if(!s.tmp_7.arg0.vtable.iface){s.retval=pxsim_pxtrt.mapGetByString(s.tmp_7.arg0,\"charHeight\")}else{s.tmp_7.fn=s.tmp_7.arg0.vtable.iface[\"charHeight\"];if(s.tmp_7.fn==null){s.retval=s.tmp_7.arg0.fields[\"charHeight\"]}else{s.pc=37;return s.tmp_7}}case 37:r0=s.retval;s.tmp_6=r0;r0=s.tmp_6+s.margin___23901;s.tmp_5=r0;r0=s.tmp_4+s.tmp_5;s.ty___23904=r0;s.tmp_0=helpers_imagePrint__P11857_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_6=Sprite_ax__P12041_mk(s);s.tmp_6.arg0=s.arg0;s.pc=39;return s.tmp_6;case 39:r0=s.retval;s.tmp_5=r0;r0=s.tmp_5>>0;s.tmp_4=r0;if(s.tmp_4&&s.tmp_4.vtable){setupResume(s,40);pxsim_String__stringConv(s.tmp_4);checkResumeConsumed();return}else{s.retval=s.tmp_4+\"\"}case 40:r0=s.retval;s.tmp_3=r0;r0=pxsim_String__concat(\"a\",s.tmp_3);s.tmp_2=r0;r0=pxsim_String__concat(s.tmp_2,\",\");s.tmp_1=r0;s.tmp_10=Sprite_ay__P12043_mk(s);s.tmp_10.arg0=s.arg0;s.pc=41;return s.tmp_10;case 41:r0=s.retval;s.tmp_9=r0;r0=s.tmp_9>>0;s.tmp_8=r0;if(s.tmp_8&&s.tmp_8.vtable){setupResume(s,42);pxsim_String__stringConv(s.tmp_8);checkResumeConsumed();return}else{s.retval=s.tmp_8+\"\"}case 42:r0=s.retval;s.tmp_7=r0;r0=pxsim_String__concat(s.tmp_1,s.tmp_7);s.tmp_0.arg1=r0;s.tmp_0.arg2=s.tx___23902;s.tmp_0.arg3=s.ty___23904;s.tmp_0.arg4=1;s.tmp_0.arg5=s.font___23899;s.tmp_0.arg6=undefined;s.pc=38;return s.tmp_0;case 38:r0=s.retval;case 9:case 10:case 11:case 12:r0=pxsim_numops_toBoolDecr(globals.debug___12423);if(!r0){step=13;continue}s.tmp_0=helpers_imageDrawRect__P11839_mk(s);s.tmp_0.arg0=globals.screen___11888;s.tmp_3=game_Hitbox_left__P12018_mk(s);r0=s.arg0.fields[\"_hitbox\"];s.tmp_3.arg0=r0;s.pc=44;return s.tmp_3;case 44:r0=s.retval;s.tmp_2=r0;r0=s.tmp_2+128;s.tmp_4=r0;r0=s.tmp_4>>8;s.tmp_1=r0;r0=s.arg1.fields[\"drawOffsetX\"];s.tmp_5=r0;r0=s.tmp_1-s.tmp_5;s.tmp_0.arg1=r0;s.tmp_8=game_Hitbox_top__P12019_mk(s);r0=s.arg0.fields[\"_hitbox\"];s.tmp_8.arg0=r0;s.pc=45;return s.tmp_8;case 45:r0=s.retval;s.tmp_7=r0;r0=s.tmp_7+128;s.tmp_9=r0;r0=s.tmp_9>>8;s.tmp_6=r0;r0=s.arg1.fields[\"drawOffsetY\"];s.tmp_10=r0;r0=s.tmp_6-s.tmp_10;s.tmp_0.arg2=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"width\"];s.tmp_0.arg3=r0;r0=s.arg0.fields[\"_hitbox\"];r0=r0.fields[\"height\"];s.tmp_0.arg4=r0;s.tmp_0.arg5=1;s.pc=43;return s.tmp_0;case 43:r0=s.retval;case 13:case 14:case 15:r0=undefined;return leave(s,r0);default:oops()}}}Sprite___drawCore__P12070.info={start:19376,length:1249,line:599,column:4,endLine:633,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"__drawCore\",argumentNames:[\"this\",\"camera\"]};function Sprite___drawCore__P12070_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite___drawCore__P12070,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,tmp_5:undefined,tmp_6:undefined,tmp_7:undefined,tmp_8:undefined,tmp_9:undefined,tmp_10:undefined,tmp_11:undefined,l___23880:undefined,t___23884:undefined,font___23899:undefined,margin___23901:undefined,tx___23902:undefined,ty___23904:undefined,arg0:undefined,arg1:undefined}}function Sprite___visible__P12052(s){let r0=s.r0,step=s.pc;s.pc=-1;while(true){if(yieldSteps--<0&&maybeYield(s,step,r0))return null;switch(step){case 0:if(s.lambdaArgs){s.arg0=s.lambdaArgs[0];s.lambdaArgs=null}r0=s.arg0;if(!checkSubtype(r0,Sprite__C12031_VT))failedCast(r0);r0=s.arg0.fields[\"flags\"];s.tmp_2=r0;r0=s.tmp_2&128;s.tmp_1=r0;r0=pxsim_numops_toBoolDecr(s.tmp_1);s.tmp_0=r0;r0=pxsim_Boolean__bang(s.tmp_0);return leave(s,r0);default:oops()}}}Sprite___visible__P12052.info={start:7556,length:72,line:268,column:4,endLine:270,endColumn:5,fileName:\"pxt_modules/game/sprite.ts\",functionName:\"__visible\",argumentNames:[\"this\"]};function Sprite___visible__P12052_mk(s){checkStack(s.depth);return{parent:s,fn:Sprite___visible__P12052,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,arg0:undefined}}function PhysicsEngine__C12133_v2_4_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function lambda_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function lambda_3_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function sprites_BaseSprite__C11932_v2_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_id_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_charWidth_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_charHeight_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_multiplier_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_data_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_xOffset_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_yOffset_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_flags_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function particles_ParticleFactory__C12760_v0_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function particles_ParticleSource__C12708_v6_3_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function if_x_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_y_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function PhysicsEngine__C12133_v4_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if___update_3_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined}}function lambda_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function PhysicsEngine__C12133_v3_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if___draw_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_z_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_id_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_animations_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_animations_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function animation_SpriteAnimation__C12964_v0_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function PhysicsEngine__C12133_v0_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_startScreenEffect_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function game_GameOverDialog__C12408_v0_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function game_GameOverDialog__C12408_v1_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function lambda_5_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined,arg4:undefined}}function PhysicsEngine__C12133_v1_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function lambda_4_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function if_padding_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_cardsPerRow_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_cardWidth_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_cardSpacing_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_cardsTop_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_headerText_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_headerFont_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_infoTop_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_infoFont_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_basicCard_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_selectedCard_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_activeCard_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function Sprite__C12031_v2_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function game_BaseDialog__C12377_v1_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function animation_PathNode__C12937_v0_4_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function if_tileIndex_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function particles_ParticleFactory__C12760_v1_4_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined,arg2:undefined,arg3:undefined}}function if_height_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function sprites_BaseSprite__C11932_v0_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function sprites_BaseSprite__C11932_v4_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_scene_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_state_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_up_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}function if_yOffset_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_up_2_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined,arg1:undefined}}function if_width_1_mk(s){checkStack(s.depth);return{parent:s,fn:null,depth:s.depth+1,pc:0,retval:undefined,r0:undefined,overwrittenPC:false,lambdaArgs:null,tmp_0:undefined,tmp_1:undefined,tmp_2:undefined,tmp_3:undefined,tmp_4:undefined,arg0:undefined}}const controller_Button__C11962_VT=mkVTable({name:\"Button\",numFields:8,classNo:16,lastSubtypeNo:16,methods:{},iface:{_owner:null,\"set/_owner\":null,id:null,\"set/id\":null,repeatDelay:null,\"set/repeatDelay\":null,repeatInterval:null,\"set/repeatInterval\":null,_pressed:null,\"set/_pressed\":null,_pressedElasped:null,\"set/_pressedElasped\":null,_repeatCount:null,\"set/_repeatCount\":null,_buttonId:null,\"set/_buttonId\":null,toString:controller_Button_toString__P11963,raiseButtonUp:controller_Button_raiseButtonUp__P11964,raiseButtonDown:controller_Button_raiseButtonDown__P11965,raiseButtonRepeat:controller_Button_raiseButtonRepeat__P11966,onEvent:controller_Button_onEvent__P11967,isPressed:controller_Button_isPressed__P11969,setPressed:controller_Button_setPressed__P11970,__update:controller_Button___update__P11971},toStringMethod:controller_Button_toString__P11963});const Math_FastRandom__C12579_VT=mkVTable({name:\"FastRandom\",numFields:2,classNo:17,lastSubtypeNo:17,methods:{},iface:{lfsr:null,\"set/lfsr\":null,seed:null,\"set/seed\":null,next:Math_FastRandom_next__P12580,randomRange:Math_FastRandom_randomRange__P12581,pickRandom:Math_FastRandom_pickRandom__P12582}});const texteffects_TextEffect__C12871_VT=mkVTable({name:\"TextEffect\",numFields:1,classNo:18,lastSubtypeNo:18,methods:{},iface:{getState:null,\"set/getState\":null}});const sprites_BaseSprite__C11932_VT=mkVTable({name:\"BaseSprite\",numFields:2,classNo:19,lastSubtypeNo:22,methods:{__visible:sprites_BaseSprite___visible__P11933,z:sprites_BaseSprite_z__P11934,z:sprites_BaseSprite_z__P11935,__draw:sprites_BaseSprite___draw__P11936,__drawCore:sprites_BaseSprite___drawCore__P11937,__update:sprites_BaseSprite___update__P11938},iface:{_z:null,\"set/_z\":null,id:null,\"set/id\":null,__visible:sprites_BaseSprite___visible__P11933,z:sprites_BaseSprite_z__P11934,\"set/z\":sprites_BaseSprite_z__P11935,__draw:sprites_BaseSprite___draw__P11936,__drawCore:sprites_BaseSprite___drawCore__P11937,__update:sprites_BaseSprite___update__P11938}});const Sprite__C12031_VT=mkVTable({name:\"Sprite\",numFields:24,classNo:20,lastSubtypeNo:20,methods:{__visible:Sprite___visible__P12052,z:Sprite_z__P12050,z:Sprite_z__P12051,__draw:sprites_BaseSprite___draw__P11936,__drawCore:Sprite___drawCore__P12070,__update:Sprite___update__P12071},iface:{_z:null,\"set/_z\":null,id:null,\"set/id\":null,_x:null,\"set/_x\":null,_y:null,\"set/_y\":null,_vx:null,\"set/_vx\":null,_vy:null,\"set/_vy\":null,_ax:null,\"set/_ax\":null,_ay:null,\"set/_ay\":null,_data:null,\"set/_data\":null,_kind:null,\"set/_kind\":null,layer:null,\"set/layer\":null,_lastX:null,\"set/_lastX\":null,_lastY:null,\"set/_lastY\":null,_action:null,\"set/_action\":null,lifespan:null,\"set/lifespan\":null,_image:null,\"set/_image\":null,_obstacles:null,\"set/_obstacles\":null,updateSay:null,\"set/updateSay\":null,sayBubbleSprite:null,\"set/sayBubbleSprite\":null,_hitbox:null,\"set/_hitbox\":null,_overlappers:null,\"set/_overlappers\":null,_kindsOverlappedWith:null,\"set/_kindsOverlappedWith\":null,flags:null,\"set/flags\":null,destroyHandler:null,\"set/destroyHandler\":null,x:Sprite_x__P12033,\"set/x\":Sprite_x__P12034,y:Sprite_y__P12035,\"set/y\":Sprite_y__P12036,vx:Sprite_vx__P12037,\"set/vx\":Sprite_vx__P12038,vy:Sprite_vy__P12039,\"set/vy\":Sprite_vy__P12040,ax:Sprite_ax__P12041,\"set/ax\":Sprite_ax__P12042,ay:Sprite_ay__P12043,\"set/ay\":Sprite_ay__P12044,data:Sprite_data__P12045,\"set/data\":Sprite_data__P12046,image:Sprite_image__P12048,setImage:Sprite_setImage__P12049,z:Sprite_z__P12050,\"set/z\":Sprite_z__P12051,__visible:Sprite___visible__P12052,width:Sprite_width__P12053,height:Sprite_height__P12054,left:Sprite_left__P12055,\"set/left\":Sprite_left__P12056,right:Sprite_right__P12057,\"set/right\":Sprite_right__P12058,top:Sprite_top__P12059,\"set/top\":Sprite_top__P12060,bottom:Sprite_bottom__P12061,\"set/bottom\":Sprite_bottom__P12062,kind:Sprite_kind__P12063,setKind:Sprite_setKind__P12064,setPosition:Sprite_setPosition__P12065,setVelocity:Sprite_setVelocity__P12066,isOutOfScreen:Sprite_isOutOfScreen__P12069,__drawCore:Sprite___drawCore__P12070,__update:Sprite___update__P12071,setFlag:Sprite_setFlag__P12072,overlapsWith:Sprite_overlapsWith__P12073,clearObstacles:Sprite_clearObstacles__P12076,registerObstacle:Sprite_registerObstacle__P12077,destroy:Sprite_destroy__P12079,_destroyCore:Sprite__destroyCore__P12080,toString:Sprite_toString__P12082,__draw:sprites_BaseSprite___draw__P11936},toStringMethod:Sprite_toString__P12082});const SpriteSet__C12101_VT=mkVTable({name:\"SpriteSet\",numFields:1,classNo:23,lastSubtypeNo:23,methods:{},iface:{_sprites:null,\"set/_sprites\":null,length:SpriteSet_length__P12103,add:SpriteSet_add__P12105,remove:SpriteSet_remove__P12107,contains:SpriteSet_contains__P12108,toString:SpriteSet_toString__P12111},toStringMethod:SpriteSet_toString__P12111});const PhysicsEngine__C12133_VT=mkVTable({name:\"PhysicsEngine\",numFields:0,classNo:24,lastSubtypeNo:25,methods:{addSprite:PhysicsEngine_addSprite__P12134,removeSprite:PhysicsEngine_removeSprite__P12135,moveSprite:PhysicsEngine_moveSprite__P12136,draw:PhysicsEngine_draw__P12137,move:PhysicsEngine_move__P12138},iface:{addSprite:PhysicsEngine_addSprite__P12134,removeSprite:PhysicsEngine_removeSprite__P12135,moveSprite:PhysicsEngine_moveSprite__P12136,draw:PhysicsEngine_draw__P12137,move:PhysicsEngine_move__P12138}});const scene_Scene__C12348_VT=mkVTable({name:\"Scene\",numFields:21,classNo:26,lastSubtypeNo:26,methods:{},iface:{eventContext:null,\"set/eventContext\":null,background:null,\"set/background\":null,tileMap:null,\"set/tileMap\":null,allSprites:null,\"set/allSprites\":null,spriteNextId:null,\"set/spriteNextId\":null,spritesByKind:null,\"set/spritesByKind\":null,physicsEngine:null,\"set/physicsEngine\":null,camera:null,\"set/camera\":null,flags:null,\"set/flags\":null,destroyedHandlers:null,\"set/destroyedHandlers\":null,createdHandlers:null,\"set/createdHandlers\":null,overlapHandlers:null,\"set/overlapHandlers\":null,overlapMap:null,\"set/overlapMap\":null,collisionHandlers:null,\"set/collisionHandlers\":null,gameForeverHandlers:null,\"set/gameForeverHandlers\":null,particleSources:null,\"set/particleSources\":null,controlledSprites:null,\"set/controlledSprites\":null,followingSprites:null,\"set/followingSprites\":null,_millis:null,\"set/_millis\":null,_data:null,\"set/_data\":null,cachedRender:null,\"set/cachedRender\":null,init:scene_Scene_init__P12349,data:scene_Scene_data__P12350,millis:scene_Scene_millis__P12351,addSprite:scene_Scene_addSprite__P12352,destroy:scene_Scene_destroy__P12353,renderCore:scene_Scene_renderCore__P12355}});const scene_GameForeverHandler__C12327_VT=mkVTable({name:\"GameForeverHandler\",numFields:2,classNo:27,lastSubtypeNo:27,methods:{},iface:{lock:null,\"set/lock\":null,handler:null,\"set/handler\":null}});const info_PlayerInfo__C12248_VT=mkVTable({name:\"PlayerInfo\",numFields:12,classNo:28,lastSubtypeNo:28,methods:{},iface:{_player:null,\"set/_player\":null,bg:null,\"set/bg\":null,border:null,\"set/border\":null,fc:null,\"set/fc\":null,showScore:null,\"set/showScore\":null,showLife:null,\"set/showLife\":null,visilibity:null,\"set/visilibity\":null,showPlayer:null,\"set/showPlayer\":null,x:null,\"set/x\":null,y:null,\"set/y\":null,left:null,\"set/left\":null,up:null,\"set/up\":null,init:info_PlayerInfo_init__P12249,getState:info_PlayerInfo_getState__P12250,id:info_PlayerInfo_id__P12251,score:info_PlayerInfo_score__P12252,setScore:info_PlayerInfo_setScore__P12253,changeScoreBy:info_PlayerInfo_changeScoreBy__P12254,hasScore:info_PlayerInfo_hasScore__P12255,hasLife:info_PlayerInfo_hasLife__P12259,raiseLifeZero:info_PlayerInfo_raiseLifeZero__P12261,drawPlayer:info_PlayerInfo_drawPlayer__P12262,drawScore:info_PlayerInfo_drawScore__P12263,drawLives:info_PlayerInfo_drawLives__P12264}});const info_PlayerState__C12165_VT=mkVTable({name:\"PlayerState\",numFields:3,classNo:29,lastSubtypeNo:29,methods:{},iface:{score:null,\"set/score\":null,life:null,\"set/life\":null,lifeZeroHandler:null,\"set/lifeZeroHandler\":null}});const info_InfoState__C12167_VT=mkVTable({name:\"InfoState\",numFields:10,classNo:30,lastSubtypeNo:30,methods:{},iface:{playerStates:null,\"set/playerStates\":null,visibilityFlag:null,\"set/visibilityFlag\":null,gameEnd:null,\"set/gameEnd\":null,heartImage:null,\"set/heartImage\":null,multiplierImage:null,\"set/multiplierImage\":null,bgColor:null,\"set/bgColor\":null,borderColor:null,\"set/borderColor\":null,fontColor:null,\"set/fontColor\":null,countdownExpired:null,\"set/countdownExpired\":null,countdownEndHandler:null,\"set/countdownEndHandler\":null}});const scene_Renderable__C12315_VT=mkVTable({name:\"Renderable\",numFields:4,classNo:21,lastSubtypeNo:21,methods:{__visible:scene_Renderable___visible__P12317,z:sprites_BaseSprite_z__P11934,z:sprites_BaseSprite_z__P11935,__draw:sprites_BaseSprite___draw__P11936,__drawCore:scene_Renderable___drawCore__P12318,__update:sprites_BaseSprite___update__P11938},iface:{_z:null,\"set/_z\":null,id:null,\"set/id\":null,handler:null,\"set/handler\":null,shouldBeVisible:null,\"set/shouldBeVisible\":null,__visible:scene_Renderable___visible__P12317,__drawCore:scene_Renderable___drawCore__P12318,z:sprites_BaseSprite_z__P11934,\"set/z\":sprites_BaseSprite_z__P11935,__draw:sprites_BaseSprite___draw__P11936,__update:sprites_BaseSprite___update__P11938}});const control_EventContext__C11645_VT=mkVTable({name:\"EventContext\",numFields:8,classNo:31,lastSubtypeNo:31,methods:{},iface:{handlers:null,\"set/handlers\":null,frameCallbacks:null,\"set/frameCallbacks\":null,frameWorker:null,\"set/frameWorker\":null,framesInSample:null,\"set/framesInSample\":null,timeInSample:null,\"set/timeInSample\":null,deltaTimeMillis:null,\"set/deltaTimeMillis\":null,prevTimeMillis:null,\"set/prevTimeMillis\":null,idleCallbacks:null,\"set/idleCallbacks\":null,deltaTime:control_EventContext_deltaTime__P11646,runCallbacks:control_EventContext_runCallbacks__P11647,registerFrameCallbacks:control_EventContext_registerFrameCallbacks__P11648,register:control_EventContext_register__P11649,unregister:control_EventContext_unregister__P11650,registerFrameHandler:control_EventContext_registerFrameHandler__P11651,registerHandler:control_EventContext_registerHandler__P11652}});const effects_ParticleEffect__C12827_VT=mkVTable({name:\"ParticleEffect\",numFields:3,classNo:32,lastSubtypeNo:33,methods:{},iface:{sourceFactory:null,\"set/sourceFactory\":null,defaultRate:null,\"set/defaultRate\":null,defaultLifespan:null,\"set/defaultLifespan\":null,start:effects_ParticleEffect_start__P12828,destroy:effects_ParticleEffect_destroy__P12829}});const effects_ScreenEffect__C12837_VT=mkVTable({name:\"ScreenEffect\",numFields:5,classNo:33,lastSubtypeNo:33,methods:{},iface:{sourceFactory:null,\"set/sourceFactory\":null,defaultRate:null,\"set/defaultRate\":null,defaultLifespan:null,\"set/defaultLifespan\":null,source:null,\"set/source\":null,sceneDefaultRate:null,\"set/sceneDefaultRate\":null,startScreenEffect:effects_ScreenEffect_startScreenEffect__P12839,endScreenEffect:effects_ScreenEffect_endScreenEffect__P12840,start:effects_ParticleEffect_start__P12828,destroy:effects_ParticleEffect_destroy__P12829}});const particles_ParticleFactory__C12760_VT=mkVTable({name:\"ParticleFactory\",numFields:0,classNo:34,lastSubtypeNo:38,methods:{createParticle:particles_ParticleFactory_createParticle__P12761,drawParticle:particles_ParticleFactory_drawParticle__P12762},iface:{createParticle:particles_ParticleFactory_createParticle__P12761,drawParticle:particles_ParticleFactory_drawParticle__P12762}});const particles_SprayFactory__C12764_VT=mkVTable({name:\"SprayFactory\",numFields:3,classNo:35,lastSubtypeNo:38,methods:{createParticle:particles_SprayFactory_createParticle__P12766,drawParticle:particles_SprayFactory_drawParticle__P12767},iface:{speed:null,\"set/speed\":null,minAngle:null,\"set/minAngle\":null,spread:null,\"set/spread\":null,createParticle:particles_SprayFactory_createParticle__P12766,drawParticle:particles_SprayFactory_drawParticle__P12767,setSpeed:particles_SprayFactory_setSpeed__P12768,setDirection:particles_SprayFactory_setDirection__P12769}});const particles_AreaFactory__C12771_VT=mkVTable({name:\"AreaFactory\",numFields:8,classNo:36,lastSubtypeNo:38,methods:{createParticle:particles_AreaFactory_createParticle__P12773,drawParticle:particles_AreaFactory_drawParticle__P12774},iface:{speed:null,\"set/speed\":null,minAngle:null,\"set/minAngle\":null,spread:null,\"set/spread\":null,xRange:null,\"set/xRange\":null,yRange:null,\"set/yRange\":null,minLifespan:null,\"set/minLifespan\":null,maxLifespan:null,\"set/maxLifespan\":null,galois:null,\"set/galois\":null,createParticle:particles_AreaFactory_createParticle__P12773,drawParticle:particles_AreaFactory_drawParticle__P12774,setSpeed:particles_SprayFactory_setSpeed__P12768,setDirection:particles_SprayFactory_setDirection__P12769}});const particles_ShapeFactory__C12781_VT=mkVTable({name:\"ShapeFactory\",numFields:11,classNo:37,lastSubtypeNo:38,methods:{createParticle:particles_ShapeFactory_createParticle__P12785,drawParticle:particles_ShapeFactory_drawParticle__P12784},iface:{speed:null,\"set/speed\":null,minAngle:null,\"set/minAngle\":null,spread:null,\"set/spread\":null,xRange:null,\"set/xRange\":null,yRange:null,\"set/yRange\":null,minLifespan:null,\"set/minLifespan\":null,maxLifespan:null,\"set/maxLifespan\":null,galois:null,\"set/galois\":null,sources:null,\"set/sources\":null,ox:null,\"set/ox\":null,oy:null,\"set/oy\":null,addShape:particles_ShapeFactory_addShape__P12783,drawParticle:particles_ShapeFactory_drawParticle__P12784,createParticle:particles_ShapeFactory_createParticle__P12785,setSpeed:particles_SprayFactory_setSpeed__P12768,setDirection:particles_SprayFactory_setDirection__P12769}});const particles_ConfettiFactory__C12787_VT=mkVTable({name:\"ConfettiFactory\",numFields:11,classNo:38,lastSubtypeNo:38,methods:{createParticle:particles_ShapeFactory_createParticle__P12785,drawParticle:particles_ShapeFactory_drawParticle__P12784},iface:{speed:null,\"set/speed\":null,minAngle:null,\"set/minAngle\":null,spread:null,\"set/spread\":null,xRange:null,\"set/xRange\":null,yRange:null,\"set/yRange\":null,minLifespan:null,\"set/minLifespan\":null,maxLifespan:null,\"set/maxLifespan\":null,galois:null,\"set/galois\":null,sources:null,\"set/sources\":null,ox:null,\"set/ox\":null,oy:null,\"set/oy\":null,addShape:particles_ShapeFactory_addShape__P12783,drawParticle:particles_ShapeFactory_drawParticle__P12784,createParticle:particles_ShapeFactory_createParticle__P12785,setSpeed:particles_SprayFactory_setSpeed__P12768,setDirection:particles_SprayFactory_setDirection__P12769}});const particles_ParticleSource__C12708_VT=mkVTable({name:\"ParticleSource\",numFields:13,classNo:22,lastSubtypeNo:22,methods:{__visible:sprites_BaseSprite___visible__P11933,z:sprites_BaseSprite_z__P11934,z:sprites_BaseSprite_z__P11935,__draw:particles_ParticleSource___draw__P12710,__drawCore:sprites_BaseSprite___drawCore__P11937,__update:sprites_BaseSprite___update__P11938,updateParticle:particles_ParticleSource_updateParticle__P12723},iface:{_z:null,\"set/_z\":null,id:null,\"set/id\":null,priority:null,\"set/priority\":null,_dt:null,\"set/_dt\":null,anchor:null,\"set/anchor\":null,lifespan:null,\"set/lifespan\":null,pFlags:null,\"set/pFlags\":null,head:null,\"set/head\":null,timer:null,\"set/timer\":null,period:null,\"set/period\":null,_factory:null,\"set/_factory\":null,ax:null,\"set/ax\":null,ay:null,\"set/ay\":null,__draw:particles_ParticleSource___draw__P12710,_update:particles_ParticleSource__update__P12711,_prune:particles_ParticleSource__prune__P12712,setAcceleration:particles_ParticleSource_setAcceleration__P12713,enabled:particles_ParticleSource_enabled__P12715,\"set/enabled\":particles_ParticleSource_enabled__P12716,destroy:particles_ParticleSource_destroy__P12717,clear:particles_ParticleSource_clear__P12718,setAnchor:particles_ParticleSource_setAnchor__P12719,setRate:particles_ParticleSource_setRate__P12720,setFactory:particles_ParticleSource_setFactory__P12722,updateParticle:particles_ParticleSource_updateParticle__P12723,drawParticle:particles_ParticleSource_drawParticle__P12724,__visible:sprites_BaseSprite___visible__P11933,z:sprites_BaseSprite_z__P11934,\"set/z\":sprites_BaseSprite_z__P11935,__drawCore:sprites_BaseSprite___drawCore__P11937,__update:sprites_BaseSprite___update__P11938}});const particles_Particle__C12706_VT=mkVTable({name:\"Particle\",numFields:8,classNo:39,lastSubtypeNo:39,methods:{},iface:{_x:null,\"set/_x\":null,_y:null,\"set/_y\":null,vx:null,\"set/vx\":null,vy:null,\"set/vy\":null,lifespan:null,\"set/lifespan\":null,next:null,\"set/next\":null,data:null,\"set/data\":null,color:null,\"set/color\":null}});const ArcadePhysicsEngine__C12152_VT=mkVTable({name:\"ArcadePhysicsEngine\",numFields:6,classNo:25,lastSubtypeNo:25,methods:{addSprite:ArcadePhysicsEngine_addSprite__P12154,removeSprite:ArcadePhysicsEngine_removeSprite__P12155,moveSprite:ArcadePhysicsEngine_moveSprite__P12162,draw:ArcadePhysicsEngine_draw__P12156,move:ArcadePhysicsEngine_move__P12157},iface:{sprites:null,\"set/sprites\":null,map:null,\"set/map\":null,maxVelocity:null,\"set/maxVelocity\":null,maxNegativeVelocity:null,\"set/maxNegativeVelocity\":null,minSingleStep:null,\"set/minSingleStep\":null,maxSingleStep:null,\"set/maxSingleStep\":null,addSprite:ArcadePhysicsEngine_addSprite__P12154,removeSprite:ArcadePhysicsEngine_removeSprite__P12155,draw:ArcadePhysicsEngine_draw__P12156,move:ArcadePhysicsEngine_move__P12157,createMovingSprite:ArcadePhysicsEngine_createMovingSprite__P12158,spriteCollisions:ArcadePhysicsEngine_spriteCollisions__P12159,tilemapCollisions:ArcadePhysicsEngine_tilemapCollisions__P12160,moveSprite:ArcadePhysicsEngine_moveSprite__P12162,constrain:ArcadePhysicsEngine_constrain__P12163}});const scene_Background__C12271_VT=mkVTable({name:\"Background\",numFields:4,classNo:40,lastSubtypeNo:40,methods:{},iface:{color:null,\"set/color\":null,_image:null,\"set/_image\":null,camera:null,\"set/camera\":null,_layers:null,\"set/_layers\":null,image:scene_Background_image__P12273,\"set/image\":scene_Background_image__P12274,hasBackgroundImage:scene_Background_hasBackgroundImage__P12275,draw:scene_Background_draw__P12276}});const scene_Camera__C12311_VT=mkVTable({name:\"Camera\",numFields:8,classNo:41,lastSubtypeNo:41,methods:{},iface:{offsetX:null,\"set/offsetX\":null,offsetY:null,\"set/offsetY\":null,drawOffsetX:null,\"set/drawOffsetX\":null,drawOffsetY:null,\"set/drawOffsetY\":null,sprite:null,\"set/sprite\":null,shakeStartTime:null,\"set/shakeStartTime\":null,shakeDuration:null,\"set/shakeDuration\":null,shakeAmplitude:null,\"set/shakeAmplitude\":null,update:scene_Camera_update__P12313}});const sprites_SpriteMap__C12084_VT=mkVTable({name:\"SpriteMap\",numFields:5,classNo:42,lastSubtypeNo:42,methods:{},iface:{cellWidth:null,\"set/cellWidth\":null,cellHeight:null,\"set/cellHeight\":null,rowCount:null,\"set/rowCount\":null,columnCount:null,\"set/columnCount\":null,buckets:null,\"set/buckets\":null,neighbors:sprites_SpriteMap_neighbors__P12085,overlaps:sprites_SpriteMap_overlaps__P12086,draw:sprites_SpriteMap_draw__P12087,resizeBuckets:sprites_SpriteMap_resizeBuckets__P12088,clear:sprites_SpriteMap_clear__P12089,key:sprites_SpriteMap_key__P12090,insertAtKey:sprites_SpriteMap_insertAtKey__P12091,isOob:sprites_SpriteMap_isOob__P12092,insertAABB:sprites_SpriteMap_insertAABB__P12093,mergeAtKey:sprites_SpriteMap_mergeAtKey__P12094,toString:sprites_SpriteMap_toString__P12095},toStringMethod:sprites_SpriteMap_toString__P12095});const scene_BackgroundLayer__C12278_VT=mkVTable({name:\"BackgroundLayer\",numFields:6,classNo:43,lastSubtypeNo:43,methods:{},iface:{distance:null,\"set/distance\":null,img:null,\"set/img\":null,repeatX:null,\"set/repeatX\":null,repeatY:null,\"set/repeatY\":null,alignX:null,\"set/alignX\":null,alignY:null,\"set/alignY\":null,draw:scene_BackgroundLayer_draw__P12279}});const tiles_TileMap__C12290_VT=mkVTable({name:\"TileMap\",numFields:4,classNo:44,lastSubtypeNo:44,methods:{},iface:{scale:null,\"set/scale\":null,_layer:null,\"set/_layer\":null,_map:null,\"set/_map\":null,_tileSets:null,\"set/_tileSets\":null,offsetX:tiles_TileMap_offsetX__P12292,offsetY:tiles_TileMap_offsetY__P12293,areaWidth:tiles_TileMap_areaWidth__P12294,areaHeight:tiles_TileMap_areaHeight__P12295,layer:tiles_TileMap_layer__P12296,enabled:tiles_TileMap_enabled__P12298,generateTile:tiles_TileMap_generateTile__P12304,isOutsideMap:tiles_TileMap_isOutsideMap__P12305,draw:tiles_TileMap_draw__P12307,isObstacle:tiles_TileMap_isObstacle__P12308,getObstacle:tiles_TileMap_getObstacle__P12309}});const controller_Controller__C11981_VT=mkVTable({name:\"Controller\",numFields:4,classNo:45,lastSubtypeNo:45,methods:{},iface:{playerIndex:null,\"set/playerIndex\":null,buttons:null,\"set/buttons\":null,_id:null,\"set/_id\":null,_connected:null,\"set/_connected\":null,_controlledSprites:controller_Controller__controlledSprites__P11982,\"set/_controlledSprites\":controller_Controller__controlledSprites__P11983,id:controller_Controller_id__P11984,left:controller_Controller_left__P11986,right:controller_Controller_right__P11987,up:controller_Controller_up__P11988,down:controller_Controller_down__P11989,button:controller_Controller_button__P11994,connected:controller_Controller_connected__P11997,\"set/connected\":controller_Controller_connected__P11998,__preUpdate:controller_Controller___preUpdate__P12002,__update:controller_Controller___update__P12003}});const music_Melody__C11774_VT=mkVTable({name:\"Melody\",numFields:2,classNo:46,lastSubtypeNo:46,methods:{},iface:{_text:null,\"set/_text\":null,_player:null,\"set/_player\":null,stop:music_Melody_stop__P11777,registerMelody:music_Melody_registerMelody__P11778,unregisterMelody:music_Melody_unregisterMelody__P11779,playCore:music_Melody_playCore__P11780,play:music_Melody_play__P11782,toString:music_Melody_toString__P11784},toStringMethod:music_Melody_toString__P11784});const control_EventHandler__C11640_VT=mkVTable({name:\"EventHandler\",numFields:4,classNo:47,lastSubtypeNo:47,methods:{},iface:{src:null,\"set/src\":null,value:null,\"set/value\":null,handler:null,\"set/handler\":null,flags:null,\"set/flags\":null,register:control_EventHandler_register__P11641,unregister:control_EventHandler_unregister__P11642}});const control_FrameCallback__C11639_VT=mkVTable({name:\"FrameCallback\",numFields:2,classNo:48,lastSubtypeNo:48,methods:{},iface:{order:null,\"set/order\":null,handler:null,\"set/handler\":null}});const animation_SpriteAnimation__C12964_VT=mkVTable({name:\"SpriteAnimation\",numFields:3,classNo:49,lastSubtypeNo:51,methods:{update:animation_SpriteAnimation_update__P12966},iface:{startedAt:null,\"set/startedAt\":null,sprite:null,\"set/sprite\":null,loop:null,\"set/loop\":null,init:animation_SpriteAnimation_init__P12965,update:animation_SpriteAnimation_update__P12966}});const animation_ImageAnimation__C12968_VT=mkVTable({name:\"ImageAnimation\",numFields:6,classNo:50,lastSubtypeNo:50,methods:{update:animation_ImageAnimation_update__P12970},iface:{startedAt:null,\"set/startedAt\":null,sprite:null,\"set/sprite\":null,loop:null,\"set/loop\":null,lastFrame:null,\"set/lastFrame\":null,frames:null,\"set/frames\":null,frameInterval:null,\"set/frameInterval\":null,update:animation_ImageAnimation_update__P12970,init:animation_SpriteAnimation_init__P12965}});const animation_MovementAnimation__C12972_VT=mkVTable({name:\"MovementAnimation\",numFields:5,classNo:51,lastSubtypeNo:51,methods:{update:animation_MovementAnimation_update__P12974},iface:{startedAt:null,\"set/startedAt\":null,sprite:null,\"set/sprite\":null,loop:null,\"set/loop\":null,path:null,\"set/path\":null,nodeInterval:null,\"set/nodeInterval\":null,update:animation_MovementAnimation_update__P12974,init:animation_SpriteAnimation_init__P12965}});const game_Hitbox__C12017_VT=mkVTable({name:\"Hitbox\",numFields:5,classNo:52,lastSubtypeNo:52,methods:{},iface:{parent:null,\"set/parent\":null,ox:null,\"set/ox\":null,oy:null,\"set/oy\":null,width:null,\"set/width\":null,height:null,\"set/height\":null,left:game_Hitbox_left__P12018,top:game_Hitbox_top__P12019,right:game_Hitbox_right__P12020,bottom:game_Hitbox_bottom__P12021}});const effects_ImageEffect__C12861_VT=mkVTable({name:\"ImageEffect\",numFields:4,classNo:53,lastSubtypeNo:53,methods:{},iface:{preferredDelay:null,\"set/preferredDelay\":null,effect:null,\"set/effect\":null,fastRandom:null,\"set/fastRandom\":null,times:null,\"set/times\":null,applyTo:effects_ImageEffect_applyTo__P12862,change:effects_ImageEffect_change__P12863,startScreenEffect:effects_ImageEffect_startScreenEffect__P12864}});const game_BaseDialog__C12377_VT=mkVTable({name:\"BaseDialog\",numFields:11,classNo:54,lastSubtypeNo:55,methods:{update:game_BaseDialog_update__P12378,drawTextCore:game_BaseDialog_drawTextCore__P12380},iface:{image:null,\"set/image\":null,frame:null,\"set/frame\":null,cursor:null,\"set/cursor\":null,columns:null,\"set/columns\":null,rows:null,\"set/rows\":null,unit:null,\"set/unit\":null,innerLeft:null,\"set/innerLeft\":null,innerTop:null,\"set/innerTop\":null,cursorCount:null,\"set/cursorCount\":null,font:null,\"set/font\":null,textColor:null,\"set/textColor\":null,update:game_BaseDialog_update__P12378,drawTextCore:game_BaseDialog_drawTextCore__P12380,drawCursorRow:game_BaseDialog_drawCursorRow__P12381,drawBorder:game_BaseDialog_drawBorder__P12382,clearInterior:game_BaseDialog_clearInterior__P12383,drawPartial:game_BaseDialog_drawPartial__P12384,cursorRowHeight:game_BaseDialog_cursorRowHeight__P12385,textAreaWidth:game_BaseDialog_textAreaWidth__P12387,textAreaHeight:game_BaseDialog_textAreaHeight__P12388}});const game_GameOverDialog__C12408_VT=mkVTable({name:\"GameOverDialog\",numFields:16,classNo:55,lastSubtypeNo:55,methods:{update:game_GameOverDialog_update__P12411,drawTextCore:game_GameOverDialog_drawTextCore__P12412},iface:{image:null,\"set/image\":null,frame:null,\"set/frame\":null,cursor:null,\"set/cursor\":null,columns:null,\"set/columns\":null,rows:null,\"set/rows\":null,unit:null,\"set/unit\":null,innerLeft:null,\"set/innerLeft\":null,innerTop:null,\"set/innerTop\":null,cursorCount:null,\"set/cursorCount\":null,font:null,\"set/font\":null,textColor:null,\"set/textColor\":null,cursorOn:null,\"set/cursorOn\":null,isNewHighScore:null,\"set/isNewHighScore\":null,win:null,\"set/win\":null,score:null,\"set/score\":null,highScore:null,\"set/highScore\":null,displayCursor:game_GameOverDialog_displayCursor__P12410,update:game_GameOverDialog_update__P12411,drawTextCore:game_GameOverDialog_drawTextCore__P12412,drawCursorRow:game_BaseDialog_drawCursorRow__P12381,drawBorder:game_BaseDialog_drawBorder__P12382,clearInterior:game_BaseDialog_clearInterior__P12383,drawPartial:game_BaseDialog_drawPartial__P12384,cursorRowHeight:game_BaseDialog_cursorRowHeight__P12385,textAreaWidth:game_BaseDialog_textAreaWidth__P12387,textAreaHeight:game_BaseDialog_textAreaHeight__P12388}});const music_MelodyPlayer__C11788_VT=mkVTable({name:\"MelodyPlayer\",numFields:2,classNo:56,lastSubtypeNo:56,methods:{},iface:{melody:null,\"set/melody\":null,onPlayFinished:null,\"set/onPlayFinished\":null,stop:music_MelodyPlayer_stop__P11789,play:music_MelodyPlayer_play__P11790}});const scene_OverlapHandler__C12325_VT=mkVTable({name:\"OverlapHandler\",numFields:3,classNo:57,lastSubtypeNo:57,methods:{},iface:{kind:null,\"set/kind\":null,otherKind:null,\"set/otherKind\":null,handler:null,\"set/handler\":null}});const scene_systemMenu_PauseMenu__C12599_VT=mkVTable({name:\"PauseMenu\",numFields:7,classNo:58,lastSubtypeNo:58,methods:{},iface:{options:null,\"set/options\":null,theme:null,\"set/theme\":null,selection:null,\"set/selection\":null,scrollRow:null,\"set/scrollRow\":null,scrollTarget:null,\"set/scrollTarget\":null,scrollOffset:null,\"set/scrollOffset\":null,generator:null,\"set/generator\":null,show:scene_systemMenu_PauseMenu_show__P12600,onUpdate:scene_systemMenu_PauseMenu_onUpdate__P12601,setSelection:scene_systemMenu_PauseMenu_setSelection__P12602,drawText:scene_systemMenu_PauseMenu_drawText__P12603,dispose:scene_systemMenu_PauseMenu_dispose__P12604,updateScrollTarget:scene_systemMenu_PauseMenu_updateScrollTarget__P12605}});const scene_systemMenu_MenuOption__C12590_VT=mkVTable({name:\"MenuOption\",numFields:8,classNo:59,lastSubtypeNo:59,methods:{},iface:{card:null,\"set/card\":null,icon:null,\"set/icon\":null,top:null,\"set/top\":null,state:null,\"set/state\":null,theme:null,\"set/theme\":null,iconImage:null,\"set/iconImage\":null,getText:null,\"set/getText\":null,action:null,\"set/action\":null,show:scene_systemMenu_MenuOption_show__P12591,position:scene_systemMenu_MenuOption_position__P12592,setOffset:scene_systemMenu_MenuOption_setOffset__P12593,setTheme:scene_systemMenu_MenuOption_setTheme__P12594,setState:scene_systemMenu_MenuOption_setState__P12595,dispose:scene_systemMenu_MenuOption_dispose__P12596,updateCard:scene_systemMenu_MenuOption_updateCard__P12597}});const animation_Path__C12929_VT=mkVTable({name:\"Path\",numFields:2,classNo:60,lastSubtypeNo:60,methods:{},iface:{nodes:null,\"set/nodes\":null,lastNode:null,\"set/lastNode\":null,run:animation_Path_run__P12935}});const animation_PathNode__C12937_VT=mkVTable({name:\"PathNode\",numFields:1,classNo:61,lastSubtypeNo:61,methods:{apply:animation_PathNode_apply__P12938},iface:{setStart:null,\"set/setStart\":null,apply:animation_PathNode_apply__P12938}});const tiles_TileSet__C12281_VT=mkVTable({name:\"TileSet\",numFields:4,classNo:62,lastSubtypeNo:62,methods:{},iface:{obstacle:null,\"set/obstacle\":null,map:null,\"set/map\":null,originalImage:null,\"set/originalImage\":null,cachedImage:null,\"set/cachedImage\":null,image:tiles_TileSet_image__P12282}});const MovingSprite__C12150_VT=mkVTable({name:\"MovingSprite\",numFields:7,classNo:63,lastSubtypeNo:63,methods:{},iface:{sprite:null,\"set/sprite\":null,cachedVx:null,\"set/cachedVx\":null,cachedVy:null,\"set/cachedVy\":null,dx:null,\"set/dx\":null,dy:null,\"set/dy\":null,xStep:null,\"set/xStep\":null,yStep:null,\"set/yStep\":null}});const sprites_StaticObstacle__C12125_VT=mkVTable({name:\"StaticObstacle\",numFields:5,classNo:64,lastSubtypeNo:64,methods:{},iface:{layer:null,\"set/layer\":null,image:null,\"set/image\":null,tileIndex:null,\"set/tileIndex\":null,top:null,\"set/top\":null,left:null,\"set/left\":null,x:sprites_StaticObstacle_x__P12126,y:sprites_StaticObstacle_y__P12127,height:sprites_StaticObstacle_height__P12128,width:sprites_StaticObstacle_width__P12129}});const effects_SceneAnchor__C12831_VT=mkVTable({name:\"SceneAnchor\",numFields:1,classNo:65,lastSubtypeNo:65,methods:{},iface:{camera:null,\"set/camera\":null,x:effects_SceneAnchor_x__P12832,y:effects_SceneAnchor_y__P12833,width:effects_SceneAnchor_width__P12834,height:effects_SceneAnchor_height__P12835}});const breakpoints=setupDebugger(1,[\"Obstacle___26159\",\"bunny___26168\",\"gravity___26177\",\"bird___26198\",\"obstacles___26196\",\"projectile___26190\",\"grass___26189\",\"grassImages___26194\",\"tree___26192\",\"trees___26195\",\"cloud___26191\",\"clouds___26193\",\"birdFrames___26197\"]);return _main___P26156});\n`","import * as events from './svgEvents'\n\nexport type Map<T> = {\n    [index: string]: T;\n};\n\nexport type PointerHandler = () => void;\n\nexport enum PatternUnits {\n    userSpaceOnUse = 0,\n    objectBoundingBox = 1,\n}\n\nexport enum LengthUnit {\n    em,\n    ex,\n    px,\n    in,\n    cm,\n    mm,\n    pt,\n    pc,\n    percent\n}\n\nconst XLINK_NAMESPACE = \"http://www.w3.org/1999/xlink\";\n\nexport class BaseElement<T extends SVGElement> {\n    el: T;\n    protected titleElement: SVGTitleElement;\n    constructor(type: string) {\n        this.el = elt(type) as T;\n    }\n    attr(attributes: Map<string | number | boolean>): this {\n        Object.keys(attributes).forEach(at => {\n            this.setAttribute(at, attributes[at]);\n        });\n        return this;\n    }\n\n    setAttribute(name: string, value: string | number | boolean): this {\n        this.el.setAttribute(name, value.toString());\n        return this;\n    }\n\n    setAttributeNS(ns: string, name: string, value: string | number | boolean): this {\n        this.el.setAttributeNS(ns, name, value.toString());\n        return this;\n    }\n\n    id(id: string): this {\n        return this.setAttribute(\"id\", id);\n    }\n\n    setClass(...classes: string[]): this {\n        return this.setAttribute(\"class\", classes.join(\" \"));\n    }\n\n\n\n    addClassInternal(el: SVGElement | HTMLElement, classes: string) {\n        classes\n            .split(/\\s+/)\n            .forEach(cls => addSingleClass(el, cls));\n\n        function addSingleClass(el: SVGElement | HTMLElement, cls: string) {\n            if (el.classList) {\n                el.classList.add(cls);\n            } else {\n                const classes = (el.className + \"\").split(/\\s+/);\n                if (classes.indexOf(cls) < 0) {\n                    el.className.baseVal += \" \" + cls;\n                }\n            }\n        }\n    }\n\n    removeClassInternal(el: SVGElement | HTMLElement, classes: string) {\n        classes\n            .split(/\\s+/)\n            .forEach(cls => removeSingleClass(el, cls));\n\n        function removeSingleClass(el: SVGElement | HTMLElement, cls: string) {\n            if (el.classList) {\n                el.classList.remove(cls);\n            } else {\n                el.className.baseVal = (el.className + \"\")\n                    .split(/\\s+/)\n                    .filter(c => c != cls)\n                    .join(\" \");\n            }\n        }\n    }\n\n\n    appendClass(className: string): this {\n        this.addClassInternal(this.el, className);\n        return this;\n    }\n\n    removeClass(className: string): void {\n        this.removeClassInternal(this.el, className);\n    }\n\n    title(text: string) {\n        if (!this.titleElement) {\n            this.titleElement = elt(\"title\");\n\n            // Title has to be the first child in the DOM\n            if (this.el.firstChild) {\n                this.el.insertBefore(this.titleElement, this.el.firstChild)\n            }\n            else {\n                this.el.appendChild(this.titleElement);\n            }\n        }\n        this.titleElement.textContent = text;\n    }\n\n    setVisible(visible: boolean): this {\n        return this.setAttribute(\"visibility\", visible ? \"visible\" : \"hidden\");\n    }\n}\n\nexport class DrawContext<T extends SVGElement> extends BaseElement<T> {\n    draw(type: \"text\"): Text;\n    draw(type: \"circle\"): Circle;\n    draw(type: \"rect\"): Rect;\n    draw(type: \"line\"): Line;\n    draw(type: \"polygon\"): Polygon;\n    draw(type: \"polyline\"): Polyline;\n    draw(type: \"path\"): Path;\n    draw(type: string): Drawable<SVGElement> {\n        const el = drawable(type as any /*FIXME?*/);\n        this.el.appendChild(el.el);\n        return el;\n    }\n\n    element(type: \"text\", cb: (newElement: Text) => void): this;\n    element(type: \"circle\", cb: (newElement: Circle) => void): this;\n    element(type: \"rect\", cb: (newElement: Rect) => void): this;\n    element(type: \"line\", cb: (newElement: Line) => void): this;\n    element(type: \"polygon\", cb: (newElement: Polygon) => void): this;\n    element(type: \"polyline\", cb: (newElement: Polyline) => void): this;\n    element(type: \"path\", cb: (newElement: Path) => void): this;\n    element(type: string, cb: (newElement: any) => void): this {\n        cb(this.draw(type as any /*FIXME?*/));\n        return this;\n    }\n\n    group(): Group {\n        const g = new Group();\n        this.el.appendChild(g.el);\n        return g;\n    }\n\n    appendChild<T extends SVGElement>(child: BaseElement<T>): void {\n        this.el.appendChild(child.el);\n    }\n\n    onDown(handler: PointerHandler): this {\n        events.down(this.el, handler);\n        return this;\n    }\n\n    onUp(handler: PointerHandler): this {\n        events.up(this.el, handler);\n        return this;\n    }\n\n    onMove(handler: PointerHandler): this {\n        events.move(this.el, handler);\n        return this;\n    }\n\n    onEnter(handler: (isDown: boolean) => void): this {\n        events.enter(this.el, handler);\n        return this;\n    }\n\n    onLeave(handler: PointerHandler): this {\n        events.leave(this.el, handler);\n        return this;\n    }\n\n    onClick(handler: PointerHandler): this {\n        events.click(this.el, handler);\n        return this;\n    }\n}\n\nexport class SVG extends DrawContext<SVGSVGElement> {\n    defs: DefsElement;\n    constructor(parent?: Element) {\n        super(\"svg\");\n        if (parent) {\n            parent.appendChild(this.el);\n        }\n    }\n\n    define(cb: (defs: DefsElement) => void): this {\n        if (!this.defs) {\n            this.defs = new DefsElement(this.el);\n        }\n        cb(this.defs);\n        return this;\n    }\n}\n\nexport class Group extends DrawContext<SVGGElement> {\n    top: number;\n    left: number;\n    scaleFactor: number;\n\n    constructor(parent?: SVGElement) {\n        super(\"g\");\n        if (parent) {\n            parent.appendChild(this.el);\n        }\n    }\n\n    translate(x: number, y: number): this {\n        this.left = x;\n        this.top = y;\n        return this.updateTransform();\n    }\n\n    scale(factor: number): this {\n        this.scaleFactor = factor;\n        return this.updateTransform();\n    }\n\n    def() {\n        return new DefsElement(this.el);\n    }\n\n    style() {\n        return new StyleElement(this.el);\n    }\n\n    private updateTransform(): this {\n        let transform = \"\";\n        if (this.left != undefined) {\n            transform += `translate(${this.left} ${this.top})`\n        }\n        if (this.scaleFactor != undefined) {\n            transform += ` scale(${this.scaleFactor})`\n        }\n        this.setAttribute(\"transform\", transform);\n        return this;\n    }\n}\n\nexport class Pattern extends DrawContext<SVGPatternElement> {\n    constructor() {\n        super(\"pattern\");\n    }\n\n    units(kind: PatternUnits): this {\n        return this.setAttribute(\"patternUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    contentUnits(kind: PatternUnits): this {\n        return this.setAttribute(\"patternContentUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    size(width: number, height: number): this {\n        this.setAttribute(\"width\", width);\n        this.setAttribute(\"height\", height);\n        return this;\n    }\n}\n\nexport class DefsElement extends BaseElement<SVGDefsElement> {\n    constructor(parent: SVGElement) {\n        super(\"defs\");\n        parent.appendChild(this.el);\n    }\n\n    create(type: \"path\", id: string): Path;\n    create(type: \"pattern\", id: string): Pattern;\n    create(type: \"radialGradient\", id: string): RadialGradient;\n    create(type: \"linearGradient\", id: string): LinearGradient;\n    create(type: \"clipPath\", id: string): ClipPath;\n    create(type: string, id: string): BaseElement<any> {\n        let el: BaseElement<SVGElement>;\n        switch (type) {\n            case \"path\": el = new Path(); break;\n            case \"pattern\": el = new Pattern(); break;\n            case \"radialGradient\": el = new RadialGradient(); break;\n            case \"linearGradient\": el = new LinearGradient(); break;\n            case \"clipPath\": el = new ClipPath(); break;\n            default: el = new BaseElement(type);\n        }\n        el.id(id);\n        this.el.appendChild(el.el);\n        return el;\n    }\n}\n\nexport class StyleElement extends BaseElement<SVGStyleElement> {\n    constructor(parent: SVGElement) {\n        super(\"style\");\n        parent.appendChild(this.el);\n    }\n\n    content(css: string) {\n        this.el.textContent = css;\n    }\n}\n\nexport class Drawable<T extends SVGElement> extends DrawContext<T> {\n    at(x: number, y: number): this {\n        this.setAttribute(\"x\", x);\n        this.setAttribute(\"y\", y);\n        return this;\n    }\n\n    moveTo(x: number, y: number): this {\n        return this.at(x, y);\n    }\n\n    fill(color: string, opacity?: number): this {\n        this.setAttribute(\"fill\", color);\n        if (opacity != undefined) {\n            this.opacity(opacity);\n        }\n        return this;\n    }\n\n    opacity(opacity: number): this {\n        return this.setAttribute(\"fill-opacity\", opacity);\n    }\n\n    stroke(color: string, width?: number): this {\n        this.setAttribute(\"stroke\", color);\n        if (width != undefined) {\n            this.strokeWidth(width);\n        }\n        return this;\n    }\n\n    strokeWidth(width: number): this {\n        return this.setAttribute(\"stroke-width\", width);\n    }\n\n    strokeOpacity(opacity: number): this {\n        return this.setAttribute(\"stroke-opacity\", opacity);\n    }\n\n    clipPath(url: string): this {\n        return this.setAttribute(\"clip-path\", url);\n    }\n}\n\nexport class Text extends Drawable<SVGTextElement> {\n    constructor(text?: string) {\n        super(\"text\");\n\n        if (text != undefined) {\n            this.text(text);\n        }\n    }\n\n    text(text: string): this {\n        this.el.textContent = text;\n        return this;\n    }\n\n    fontFamily(family: string) {\n        return this.setAttribute(\"font-family\", family);\n    }\n\n    fontSize(size: number, units: LengthUnit) {\n        return this.setAttribute(\"font-size\", lengthWithUnits(size, units));\n    }\n\n    offset(dx: number, dy: number, units: LengthUnit) {\n        if (dx !== 0) {\n            this.setAttribute(\"dx\", lengthWithUnits(dx, units));\n        }\n        if (dy !== 0) {\n            this.setAttribute(\"dy\", lengthWithUnits(dy, units));\n        }\n        return this;\n    }\n\n    anchor(type: \"start\" | \"middle\" | \"end\" | \"inherit\") {\n        return this.setAttribute(\"text-anchor\", type);\n    }\n}\n\nexport class Rect extends Drawable<SVGRectElement> {\n    constructor() { super(\"rect\") };\n\n    width(width: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"width\", lengthWithUnits(width, unit));\n    }\n\n    height(height: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"height\", lengthWithUnits(height, unit));\n    }\n\n    corner(radius: number): this {\n        return this.corners(radius, radius);\n    }\n\n    corners(rx: number, ry: number): this {\n        this.setAttribute(\"rx\", rx);\n        this.setAttribute(\"ry\", ry);\n        return this;\n    }\n\n    size(width: number, height: number, unit = LengthUnit.px): this {\n        this.width(width, unit);\n        this.height(height, unit);\n        return this;\n    }\n}\n\nexport class Circle extends Drawable<SVGCircleElement> {\n    constructor() { super(\"circle\"); }\n\n    at(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    radius(r: number): this {\n        return this.setAttribute(\"r\", r);\n    }\n}\n\nclass Ellipse extends Drawable<SVGEllipseElement> {\n    constructor() { super(\"ellipse\"); }\n\n    at(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    radius(rx: number, ry: number): this {\n        this.setAttribute(\"rx\", rx);\n        this.setAttribute(\"ry\", ry);\n        return this;\n    }\n}\n\nexport class Line extends Drawable<SVGLineElement> {\n    constructor() { super(\"line\"); }\n\n    at(x1: number, y1: number, x2?: number, y2?: number): this {\n        this.from(x1, y1);\n        if (x2 != undefined && y2 != undefined) {\n            this.to(x2, y2);\n        }\n        return this;\n    }\n\n    from(x1: number, y1: number): this {\n        this.setAttribute(\"x1\", x1);\n        this.setAttribute(\"y1\", y1);\n        return this;\n    }\n\n    to(x2: number, y2: number): this {\n        this.setAttribute(\"x2\", x2);\n        this.setAttribute(\"y2\", y2);\n        return this;\n    }\n}\n\nexport class PolyElement<T extends SVGPolygonElement | SVGPolylineElement> extends Drawable<T> {\n    points(points: string): this {\n        return this.setAttribute(\"points\", points);\n    }\n\n    with(points: {\n        x: number;\n        y: number;\n    }[]): this {\n        return this.points(points.map(({ x, y }) => x + \" \" + y).join(\",\"))\n    }\n}\n\nexport class Polyline extends PolyElement<SVGPolylineElement> {\n    constructor() { super(\"polyline\") }\n}\n\nexport class Polygon extends PolyElement<SVGPolygonElement> {\n    constructor() { super(\"polygon\") }\n}\n\nexport class Path extends Drawable<SVGPathElement> {\n    d: PathContext;\n\n    constructor() {\n        super(\"path\");\n        this.d = new PathContext();\n    }\n\n    update(): this {\n        return this.setAttribute(\"d\", this.d.toAttribute());\n    }\n\n    path(cb: (d: PathContext) => void): this {\n        cb(this.d);\n        return this.update();\n    }\n}\n\nexport class Image extends Drawable<SVGImageElement> {\n    constructor() { super(\"image\") }\n\n    src(url: string) {\n        return this.setAttributeNS(XLINK_NAMESPACE, \"href\", url);\n    }\n\n    width(width: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"width\", lengthWithUnits(width, unit));\n    }\n\n    height(height: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"height\", lengthWithUnits(height, unit));\n    }\n\n    size(width: number, height: number, unit = LengthUnit.px): this {\n        this.width(width, unit);\n        this.height(height, unit);\n        return this;\n    }\n}\n\nexport class Gradient<T extends SVGGradientElement> extends BaseElement<T> {\n    units(kind: PatternUnits): this {\n        return this.setAttribute(\"gradientUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    stop(offset: number, color?: string, opacity?: string): this {\n        const s = elt(\"stop\");\n        s.setAttribute(\"offset\", offset + \"%\");\n        if (color != undefined) {\n            s.setAttribute(\"stop-color\", color);\n        }\n\n        if (opacity != undefined) {\n            s.setAttribute(\"stop-opacity\", opacity);\n        }\n\n        this.el.appendChild(s);\n        return this;\n    }\n}\n\nexport class LinearGradient extends Gradient<SVGLinearGradientElement> {\n    constructor() { super(\"linearGradient\"); }\n\n    start(x1: number, y1: number): this {\n        this.setAttribute(\"x1\", x1);\n        this.setAttribute(\"y1\", y1);\n        return this;\n    }\n\n    end(x2: number, y2: number): this {\n        this.setAttribute(\"x2\", x2);\n        this.setAttribute(\"y2\", y2);\n        return this;\n    }\n}\n\nexport class RadialGradient extends Gradient<SVGRadialGradientElement> {\n    constructor() { super(\"radialGradient\"); }\n\n    center(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    focus(fx: number, fy: number, fr: number): this {\n        this.setAttribute(\"fx\", fx);\n        this.setAttribute(\"fy\", fy);\n        this.setAttribute(\"fr\", fr);\n        return this;\n    }\n\n    radius(r: number): this {\n        return this.setAttribute(\"r\", r);\n    }\n}\n\nexport class ClipPath extends DrawContext<SVGClipPathElement> {\n    constructor() { super(\"clipPath\") }\n\n    clipPathUnits(objectBoundingBox: boolean) {\n        if (objectBoundingBox) {\n            return this.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n        }\n        else {\n            return this.setAttribute(\"clipPathUnits\", \"userSpaceOnUse\");\n        }\n    }\n}\n\nfunction elt(type: string): SVGElement {\n    let el = document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n    return el;\n}\n\nfunction drawable(type: \"text\"): Text;\nfunction drawable(type: \"circle\"): Circle;\nfunction drawable(type: \"rect\"): Rect;\nfunction drawable(type: \"line\"): Line;\nfunction drawable(type: \"polygon\"): Polygon;\nfunction drawable(type: \"polyline\"): Polyline;\nfunction drawable(type: \"path\"): Path;\nfunction drawable(type: string): Drawable<SVGElement> {\n    switch (type) {\n        case \"text\": return new Text();\n        case \"circle\": return new Circle();\n        case \"rect\": return new Rect();\n        case \"line\": return new Line();\n        case \"polygon\": return new Polygon();\n        case \"polyline\": return new Polyline();\n        case \"path\": return new Path();\n        default: return new Drawable(type);\n    }\n}\n\nexport type OperatorSymbol = \"m\" | \"M\" | \"l\" | \"L\" | \"c\" | \"C\" | \"q\" | \"Q\" | \"T\" | \"t\" | \"S\" | \"s\" | \"z\" | \"Z\" | \"A\" | \"a\";\nexport interface PathOp {\n    op: OperatorSymbol;\n    args: number[];\n}\nexport class PathContext {\n    private ops: PathOp[] = [];\n\n    clear(): void {\n        this.ops = [];\n    }\n\n    moveTo(x: number, y: number): this {\n        return this.op(\"M\", x, y);\n    }\n\n    moveBy(dx: number, dy: number): this {\n        return this.op(\"m\", dx, dy);\n    }\n\n    lineTo(x: number, y: number): this {\n        return this.op(\"L\", x, y);\n    }\n\n    lineBy(dx: number, dy: number): this {\n        return this.op(\"l\", dx, dy);\n    }\n\n    cCurveTo(c1x: number, c1y: number, c2x: number, c2y: number, x: number, y: number): this {\n        return this.op(\"C\", c1x, c1y, c2x, c2y, x, y);\n    }\n\n    cCurveBy(dc1x: number, dc1y: number, dc2x: number, dc2y: number, dx: number, dy: number): this {\n        return this.op(\"c\", dc1x, dc1y, dc2x, dc2y, dx, dy);\n    }\n\n    qCurveTo(cx: number, cy: number, x: number, y: number): this {\n        return this.op(\"Q\", cx, cy, x, y);\n    }\n\n    qCurveBy(dcx: number, dcy: number, dx: number, dy: number): this {\n        return this.op(\"q\", dcx, dcy, dx, dy);\n    }\n\n    sCurveTo(cx: number, cy: number, x: number, y: number): this {\n        return this.op(\"S\", cx, cy, x, y);\n    }\n\n    sCurveBy(dcx: number, dcy: number, dx: number, dy: number): this {\n        return this.op(\"s\", dcx, dcy, dx, dy);\n    }\n\n    tCurveTo(x: number, y: number): this {\n        return this.op(\"T\", x, y);\n    }\n\n    tCurveBy(dx: number, dy: number): this {\n        return this.op(\"t\", dx, dy);\n    }\n\n    arcTo(rx: number, ry: number, xRotate: number, large: boolean, sweepClockwise: boolean, x: number, y: number): this {\n        return this.op(\"A\", rx, ry, xRotate, large ? 1 : 0, sweepClockwise ? 1 : 0, x, y);\n    }\n\n    arcBy(rx: number, ry: number, xRotate: number, large: boolean, sweepClockwise: boolean, x: number, y: number): this {\n        return this.op(\"a\", rx, ry, xRotate, large ? 1 : 0, sweepClockwise ? 1 : 0, x, y);\n    }\n\n    close(): this {\n        return this.op(\"z\");\n    }\n\n    toAttribute(): string {\n        return this.ops.map(op => op.op + \" \" + op.args.join(\" \")).join(\" \");\n    }\n\n    private op(op: OperatorSymbol, ...args: number[]) {\n        this.ops.push({\n            op,\n            args\n        });\n        return this;\n    }\n}\n\nfunction lengthWithUnits(value: number, unit: LengthUnit) {\n    switch (unit) {\n        case LengthUnit.em: return value + \"em\";\n        case LengthUnit.ex: return value + \"ex\";\n        case LengthUnit.px: return value + \"px\";\n        case LengthUnit.in: return value + \"in\";\n        case LengthUnit.cm: return value + \"cm\";\n        case LengthUnit.mm: return value + \"mm\";\n        case LengthUnit.pt: return value + \"pt\";\n        case LengthUnit.pc: return value + \"pc\";\n        case LengthUnit.percent: return value + \"%\";\n        default: return value.toString();\n    }\n}","\n\nexport function isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nexport function hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nexport function down(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerdown\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"mousedown\", handler);\n        el.addEventListener(\"touchstart\", handler);\n    }\n    else {\n        el.addEventListener(\"mousedown\", handler);\n    }\n}\n\nexport function up(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerup\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"mouseup\", handler);\n    }\n    else {\n        el.addEventListener(\"mouseup\", handler);\n    }\n}\n\nexport function enter(el: SVGElement, handler: (isDown: boolean) => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerover\", e => {\n            handler(!!(e.buttons & 1))\n        });\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchstart\", e => {\n            handler(true);\n        });\n    }\n    else {\n        el.addEventListener(\"mouseover\", e => {\n            handler(!!(e.buttons & 1))\n        });\n    }\n}\n\nexport function leave(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerleave\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchend\", handler);\n    }\n    else {\n        el.addEventListener(\"mouseleave\", handler);\n    }\n}\n\nexport function move(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointermove\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchmove\", handler);\n    }\n    else {\n        el.addEventListener(\"mousemove\", handler);\n    }\n}\n\nexport function click(el: SVGElement, handler: () => void) {\n    el.addEventListener(\"click\", handler);\n}","export const DRAG_RADIUS = 3;\n\nexport function hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nexport function isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nexport enum MapTools {\n    Pan,\n    Stamp,\n    Erase\n}\n\nexport class Bitmask {\n    protected mask: Uint8Array;\n\n    constructor(public width: number, public height: number) {\n        this.mask = new Uint8Array(Math.ceil(width * height / 8));\n    }\n\n    set(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        this.mask[index] |= (1 << offset);\n    }\n\n    get(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        return (this.mask[index] >> offset) & 1;\n    }\n}\n\nexport interface IPointerEvents {\n    up: string,\n    down: string[],\n    move: string,\n    enter: string,\n    leave: string\n}\n\nexport const pointerEvents: IPointerEvents = (() => {\n    if (hasPointerEvents()) {\n        return {\n            up: \"pointerup\",\n            down: [\"pointerdown\"],\n            move: \"pointermove\",\n            enter: \"pointerenter\",\n            leave: \"pointerleave\"\n        }\n    } else if (isTouchEnabled()) {\n        return {\n            up: \"mouseup\",\n            down: [\"mousedown\", \"touchstart\"],\n            move: \"touchmove\",\n            enter: \"touchenter\",\n            leave: \"touchend\"\n        }\n    } else {\n        return {\n            up: \"mouseup\",\n            down: [\"mousedown\"],\n            move: \"mousemove\",\n            enter: \"mouseenter\",\n            leave: \"mouseleave\"\n        }\n    }\n})();\n\nexport interface ClientCoordinates {\n    clientX: number;\n    clientY: number;\n}\n\nexport function clientCoord(ev: PointerEvent | MouseEvent | TouchEvent): ClientCoordinates {\n    if ((ev as TouchEvent).touches) {\n        const te = ev as TouchEvent;\n        if (te.touches.length) {\n            return te.touches[0];\n        }\n        return te.changedTouches[0];\n    }\n    return (ev as PointerEvent | MouseEvent);\n}\n\nexport async function loadImageAsync(src: string) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const el = document.createElement(\"img\");\n\n        el.onload = () => resolve(el);\n        el.onerror = () => reject('');\n\n        el.src = src;\n    })\n}\n\nexport interface GestureTarget {\n    onClick(coord: ClientCoordinates): void;\n    onDragStart(coord: ClientCoordinates): void;\n    onDragMove(coord: ClientCoordinates): void;\n    onDragEnd(coord: ClientCoordinates): void;\n}\n\nexport class GestureState {\n    startX: number;\n    startY: number;\n\n    currentX: number;\n    currentY: number;\n\n    isDrag: boolean;\n\n    constructor(protected target: GestureTarget, coord: ClientCoordinates) {\n        this.startX = coord.clientX;\n        this.startY = coord.clientY;\n\n        this.currentX = coord.clientX;\n        this.currentY = coord.clientY;\n    }\n\n    update(coord: ClientCoordinates) {\n        this.currentX = coord.clientX;\n        this.currentY = coord.clientY;\n\n        if (!this.isDrag && this.distance() > DRAG_RADIUS) {\n            this.isDrag = true;\n            this.target.onDragStart(coord);\n        }\n        else if (this.isDrag) {\n            this.target.onDragMove(coord);\n        }\n    }\n\n    end(coord?: ClientCoordinates) {\n        if (coord) {\n            this.update(coord);\n        }\n\n        coord = coord || { clientX: this.currentX, clientY: this.currentY };\n\n        if (this.isDrag) {\n            this.target.onDragEnd(coord);\n        }\n        else {\n            this.target.onClick(coord);\n        }\n    }\n\n    distance() {\n        return Math.sqrt(Math.pow(this.currentX - this.startX, 2) + Math.pow(this.currentY - this.startY, 2));\n    }\n}\n\nexport function bindGestureEvents(el: HTMLElement, target: GestureTarget) {\n    let state: GestureState;\n\n    let upHandler = (ev: MouseEvent) => {\n        endGesture(ev);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let leaveHandler = (ev: MouseEvent) => {\n        endGesture(ev);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let moveHandler = (ev: MouseEvent) => {\n        if (state) state.update(clientCoord(ev));\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let startGesture = (ev: MouseEvent | PointerEvent | TouchEvent) => {\n        if (state) state.end();\n\n        state = new GestureState(target, clientCoord(ev));\n\n        document.addEventListener(pointerEvents.move, <EventListener>moveHandler);\n        document.addEventListener(pointerEvents.up, <EventListener>upHandler);\n\n        if (isTouchEnabled() && !hasPointerEvents()) {\n            document.addEventListener(\"touchend\", <EventListener>upHandler);\n            document.addEventListener(\"touchcancel\", <EventListener>leaveHandler);\n        }\n        else {\n            document.addEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n        }\n    }\n\n    let endGesture = (ev: MouseEvent | PointerEvent | TouchEvent) => {\n        if (state) state.end(clientCoord(ev));\n\n        state = undefined;\n\n        document.removeEventListener(pointerEvents.move, <EventListener>moveHandler);\n        document.removeEventListener(pointerEvents.up, <EventListener>upHandler);\n        document.removeEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n\n        if (isTouchEnabled() && !hasPointerEvents()) {\n            document.removeEventListener(\"touchend\", <EventListener>upHandler);\n            document.removeEventListener(\"touchcancel\", <EventListener>leaveHandler);\n        }\n        else {\n            document.removeEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n        }\n    }\n\n    pointerEvents.down.forEach(evId => {\n        el.addEventListener(evId, <EventListener>startGesture);\n    });\n}","import { CanvasState } from './canvasState'\nimport { Coord } from './bitmap';\nimport { Bitmask } from './util';\n\nexport enum PaintTool {\n    Normal = 0,\n    Rectangle = 1,\n    Outline = 2,\n    Circle = 3,\n    Fill = 4,\n    Line = 5,\n    Erase = 6,\n    Marquee = 7,\n}\n\nexport function getPaintToolShortcut(tool: PaintTool) {\n    switch (tool) {\n        case PaintTool.Normal:\n            return \"p\";\n        case PaintTool.Rectangle:\n            return \"r\";\n        case PaintTool.Circle:\n            return \"c\";\n        case PaintTool.Fill:\n            return \"b\";\n        case PaintTool.Line:\n            return \"l\";\n        case PaintTool.Erase:\n            return \"e\";\n        case PaintTool.Marquee:\n            return \"s\";\n        default:\n            return undefined;\n    }\n}\n\nexport class Cursor {\n    offsetX: number;\n    offsetY: number;\n    constructor(public readonly width: number, public readonly height: number) {\n        this.offsetX = -(width >> 1);\n        this.offsetY = -(height >> 1);\n    }\n}\n\nexport abstract class Edit {\n    protected startCol: number;\n    protected startRow: number;\n    isStarted: boolean;\n    showPreview: boolean;\n\n    constructor(protected canvasWidth: number, protected canvasHeight: number, public color: number, protected toolWidth: number) {\n    }\n\n    public abstract update(col: number, row: number): void;\n    protected abstract doEditCore(state: CanvasState): void;\n\n    public doEdit(state: CanvasState): void {\n        if (this.isStarted) {\n            this.doEditCore(state);\n        }\n    }\n\n\n    start(cursorCol: number, cursorRow: number, state: CanvasState) {\n        this.isStarted = true;\n        this.startCol = cursorCol;\n        this.startRow = cursorRow;\n\n        state.mergeFloatingLayer();\n    }\n\n\n    end(col: number, row: number, state: CanvasState): void {\n\n    }\n\n\n    getCursor(): Cursor {\n        return new Cursor(this.toolWidth, this.toolWidth);\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        draw(col, row);\n    }\n}\n\nexport abstract class SelectionEdit extends Edit {\n    protected endCol: number;\n    protected endRow: number;\n    protected isDragged: boolean;\n\n    update(col: number, row: number) {\n        this.endCol = col;\n        this.endRow = row;\n\n        if (!this.isDragged && !(col == this.startCol && row == this.startRow)) {\n            this.isDragged = true;\n        }\n    }\n\n    protected topLeft(): Coord {\n        return {\n            x: Math.min(this.startCol, this.endCol),\n            y: Math.min(this.startRow, this.endRow)\n        };\n    }\n\n    protected bottomRight(): Coord {\n        return {\n            x: Math.max(this.startCol, this.endCol),\n            y: Math.max(this.startRow, this.endRow)\n        };\n    }\n}\n\n/**\n * Regular old drawing tool\n */\nexport class PaintEdit extends Edit {\n    protected mask: Bitmask;\n    showPreview = true;\n\n    constructor(canvasWidth: number, canvasHeight: number, color: number, toolWidth: number) {\n        super(canvasWidth, canvasHeight, color, toolWidth);\n        this.mask = new Bitmask(canvasWidth, canvasHeight);\n    }\n\n    update(col: number, row: number) {\n        // Interpolate (Draw a line) from startCol, startRow to col, row\n        this.interpolate(this.startCol, this.startRow, col, row);\n\n        this.startCol = col;\n        this.startRow = row;\n    }\n\n    // https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\n    protected interpolate(x0: number, y0: number, x1: number, y1: number) {\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const draw = (c: number, r: number) => this.mask.set(c, r);\n        if (dx === 0) {\n            const startY = dy >= 0 ? y0 : y1;\n            const endY = dy >= 0 ? y1 : y0;\n            for (let y = startY; y <= endY; y++) {\n                this.drawCore(x0, y, draw);\n            }\n            return;\n        }\n\n        const xStep = dx > 0 ? 1 : -1;\n        const yStep = dy > 0 ? 1 : -1;\n        const dErr = Math.abs(dy / dx);\n\n        let err = 0;\n        let y = y0;\n        for (let x = x0; xStep > 0 ? x <= x1 : x >= x1; x += xStep) {\n            this.drawCore(x, y, draw);\n            err += dErr;\n            while (err >= 0.5) {\n                if (yStep > 0 ? y <= y1 : y >= y1) {\n                    this.drawCore(x, y, draw);\n                }\n                y += yStep;\n                err -= 1;\n            }\n        }\n    }\n\n    protected doEditCore(state: CanvasState) {\n        for (let c = 0; c < state.width; c++) {\n            for (let r = 0; r < state.height; r++) {\n                if (this.mask.get(c, r)) {\n                    state.image.set(c, r, this.color);\n                }\n            }\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    protected drawCore(col: number, row: number, setPixel: (col: number, row: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                if (c >= 0 && c < this.canvasWidth && r >= 0 && r < this.canvasHeight) {\n                    setPixel(col + i, row + j);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Tool for drawing filled rectangles\n */\nexport class RectangleEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n        for (let c = tl.x; c <= br.x; c++) {\n            for (let r = tl.y; r <= br.y; r++) {\n                state.image.set(c, r, this.color);\n            }\n        }\n    }\n}\n\n/**\n * Tool for drawing empty rectangles\n */\nexport class OutlineEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        let tl = this.topLeft();\n        tl.x -= this.toolWidth >> 1;\n        tl.y -= this.toolWidth >> 1;\n\n        let br = this.bottomRight();\n        br.x += this.toolWidth >> 1;\n        br.y += this.toolWidth >> 1;\n\n        for (let i = 0; i < this.toolWidth; i++) {\n            this.drawRectangle(state,\n                { x: tl.x + i, y: tl.y + i },\n                { x: br.x - i, y: br.y - i }\n            );\n        }\n    }\n\n    protected drawRectangle(state: CanvasState, tl: Coord, br: Coord) {\n        if (tl.x > br.x || tl.y > br.y) return;\n\n        for (let c = tl.x; c <= br.x; c++) {\n            state.image.set(c, tl.y, this.color);\n            state.image.set(c, br.y, this.color);\n        }\n        for (let r = tl.y; r <= br.y; r++) {\n            state.image.set(tl.x, r, this.color);\n            state.image.set(br.x, r, this.color);\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    protected drawCore(col: number, row: number, setPixel: (col: number, row: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                if (c >= 0 && c < this.canvasWidth && r >= 0 && r < this.canvasHeight) {\n                    setPixel(col + i, row + j);\n                }\n            }\n        }\n    }\n\n}\n\n/**\n * Tool for drawing straight lines\n */\nexport class LineEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        this.bresenham(this.startCol, this.startRow, this.endCol, this.endRow, state);\n    }\n\n    // https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\n    protected bresenham(x0: number, y0: number, x1: number, y1: number, state: CanvasState) {\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const draw = (c: number, r: number) => state.image.set(c, r, this.color);\n        if (dx === 0) {\n            const startY = dy >= 0 ? y0 : y1;\n            const endY = dy >= 0 ? y1 : y0;\n            for (let y = startY; y <= endY; y++) {\n                this.drawCore(x0, y, draw);\n            }\n            return;\n        }\n\n        const xStep = dx > 0 ? 1 : -1;\n        const yStep = dy > 0 ? 1 : -1;\n        const dErr = Math.abs(dy / dx);\n\n        let err = 0;\n        let y = y0;\n        for (let x = x0; xStep > 0 ? x <= x1 : x >= x1; x += xStep) {\n            this.drawCore(x, y, draw);\n            err += dErr;\n            while (err >= 0.5) {\n                if (yStep > 0 ? y <= y1 : y >= y1) {\n                    this.drawCore(x, y, draw);\n                }\n                y += yStep;\n                err -= 1;\n            }\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    // This is surely not the most efficient approach for drawing thick lines...\n    protected drawCore(col: number, row: number, draw: (c: number, r: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                draw(c, r);\n            }\n        }\n    }\n}\n\n/**\n * Tool for circular outlines\n */\nexport class CircleEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n        const dx = br.x - tl.x;\n        const dy = br.y - tl.y;\n\n        const radius = Math.floor(Math.hypot(dx, dy));\n        const cx = this.startCol;\n        const cy = this.startRow;\n\n        this.midpoint(cx, cy, radius, state);\n    }\n\n    // https://en.wikipedia.org/wiki/Midpoint_circle_algorithm\n    midpoint(cx: number, cy: number, radius: number, state: CanvasState) {\n        let x = radius - 1;\n        let y = 0;\n        let dx = 1;\n        let dy = 1;\n        let err = dx - (radius * 2);\n        while (x >= y) {\n            state.image.set(cx + x, cy + y, this.color);\n            state.image.set(cx + x, cy - y, this.color);\n            state.image.set(cx + y, cy + x, this.color);\n            state.image.set(cx + y, cy - x, this.color);\n            state.image.set(cx - y, cy + x, this.color);\n            state.image.set(cx - y, cy - x, this.color);\n            state.image.set(cx - x, cy + y, this.color);\n            state.image.set(cx - x, cy - y, this.color);\n            if (err <= 0) {\n                y++;\n                err += dy;\n                dy += 2;\n            }\n            if (err > 0) {\n                x--;\n                dx += 2;\n                err += dx - (radius * 2);\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return new Cursor(1, 1);\n    }\n}\n\n\nexport class FillEdit extends Edit {\n    protected col: number;\n    protected row: number;\n    showPreview = true;\n\n    start(col: number, row: number, state: CanvasState) {\n        this.isStarted = true;\n        this.col = col;\n        this.row = row;\n\n        state.mergeFloatingLayer();\n    }\n\n    update(col: number, row: number) {\n        this.col = col;\n        this.row = row;\n    }\n\n    protected doEditCore(state: CanvasState) {\n        const replColor = state.image.get(this.col, this.row);\n        if (replColor === this.color) {\n            return;\n        }\n\n        const mask = new Bitmask(state.width, state.height);\n        mask.set(this.col, this.row);\n        const q: Coord[] = [{ x: this.col, y: this.row }];\n        while (q.length) {\n            const curr = q.pop();\n            if (state.image.get(curr.x, curr.y) === replColor) {\n                state.image.set(curr.x, curr.y, this.color);\n                tryPush(curr.x + 1, curr.y);\n                tryPush(curr.x - 1, curr.y);\n                tryPush(curr.x, curr.y + 1);\n                tryPush(curr.x, curr.y - 1);\n            }\n        }\n\n        function tryPush(x: number, y: number) {\n            if (x >= 0 && x < mask.width && y >= 0 && y < mask.height && !mask.get(x, y)) {\n                mask.set(x, y);\n                q.push({ x: x, y: y });\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return new Cursor(1, 1);\n    }\n}\n\n\nexport class MarqueeEdit extends SelectionEdit {\n    protected isMove = false;\n    showPreview = false;\n\n    start(cursorCol: number, cursorRow: number, state: CanvasState) {\n        this.isStarted = true;\n        this.startCol = cursorCol;\n        this.startRow = cursorRow;\n        if (state.floatingLayer) {\n            if (state.inFloatingLayer(cursorCol, cursorRow)) {\n                this.isMove = true;\n            } else {\n                state.mergeFloatingLayer();\n            }\n        }\n    }\n\n    end(cursorCol: number, cursorRow: number, state: CanvasState) {\n        if (!this.isDragged && state.floatingLayer) {\n            state.mergeFloatingLayer();\n        }\n    }\n\n    protected doEditCore(state: CanvasState): void {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n\n        if (this.isDragged) {\n            if (this.isMove) {\n                state.layerOffsetX = state.floatingLayer.x0 + this.endCol - this.startCol;\n                state.layerOffsetY = state.floatingLayer.y0 + this.endRow - this.startRow;\n            }\n            else {\n                state.copyToLayer(tl.x, tl.y, br.x - tl.x + 1, br.y - tl.y + 1, true);\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return undefined;\n    }\n}","import * as svg from './svgUtil'\n\nexport interface ButtonGroup {\n    root: svg.Group;\n    cx: number;\n    cy: number;\n}\n\nconst TOGGLE_WIDTH = 200;\nconst TOGGLE_HEIGHT = 40;\nconst TOGGLE_BORDER_WIDTH = 2;\nconst TOGGLE_CORNER_RADIUS = 4;\n\nconst BUTTON_CORNER_RADIUS = 2;\nconst BUTTON_BORDER_WIDTH = 1;\nconst BUTTON_BOTTOM_BORDER_WIDTH = 2;\n\nexport interface ToggleProps {\n    baseColor: string;\n    borderColor: string;\n    backgroundColor: string;\n    switchColor: string;\n    unselectedTextColor: string;\n    selectedTextColor: string;\n\n    leftText: string;\n    leftIcon: string;\n\n    rightText: string;\n    rightIcon: string;\n}\n\nexport class Toggle {\n    protected leftElement: svg.Group;\n    protected leftText: svg.Text;\n    protected rightElement: svg.Group;\n    protected rightText: svg.Text;\n\n    protected switch: svg.Rect;\n    protected root: svg.Group;\n    protected props: ToggleProps;\n\n    protected isLeft: boolean;\n    protected changeHandler: (left: boolean) => void;\n\n    constructor(parent: svg.SVG, props: Partial<ToggleProps>) {\n        this.props = defaultColors(props);\n        this.root = parent.group();\n        this.buildDom();\n        this.isLeft = true;\n    }\n\n    protected buildDom() {\n        // Our css minifier mangles animation names so they need to be injected manually\n        this.root.style().content(`\n            .toggle-left {\n                transform: translateX(0px);\n                animation: mvleft 0.2s 0s ease;\n            }\n\n            .toggle-right {\n                transform: translateX(100px);\n                animation: mvright 0.2s 0s ease;\n            }\n\n            @keyframes mvright {\n                0% {\n                    transform: translateX(0px);\n                }\n                100% {\n                    transform: translateX(100px);\n                }\n            }\n\n            @keyframes mvleft {\n                0% {\n                    transform: translateX(100px);\n                }\n                100% {\n                    transform: translateX(0px);\n                }\n            }\n            `);\n\n\n        // The outer border has an inner-stroke so we need to clip out the outer part\n        // because SVG's don't support \"inner borders\"\n        const clip = this.root.def().create(\"clipPath\", \"sprite-editor-toggle-border\")\n            .clipPathUnits(true);\n\n        clip.draw(\"rect\")\n            .at(0, 0)\n            .corners(TOGGLE_CORNER_RADIUS / TOGGLE_WIDTH, TOGGLE_CORNER_RADIUS / TOGGLE_HEIGHT)\n            .size(1, 1);\n\n        // Draw the outer border\n        this.root.draw(\"rect\")\n            .size(TOGGLE_WIDTH, TOGGLE_HEIGHT)\n            .fill(this.props.baseColor)\n            .stroke(this.props.borderColor, TOGGLE_BORDER_WIDTH * 2)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS)\n            .clipPath(\"url(#sprite-editor-toggle-border)\");\n\n\n        // Draw the background\n        this.root.draw(\"rect\")\n            .at(TOGGLE_BORDER_WIDTH, TOGGLE_BORDER_WIDTH)\n            .size(TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2, TOGGLE_HEIGHT - TOGGLE_BORDER_WIDTH * 2)\n            .fill(this.props.backgroundColor)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS);\n\n        // Draw the switch\n        this.switch = this.root.draw(\"rect\")\n            .at(TOGGLE_BORDER_WIDTH, TOGGLE_BORDER_WIDTH)\n            .size((TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2) / 2, TOGGLE_HEIGHT - TOGGLE_BORDER_WIDTH * 2)\n            .fill(this.props.switchColor)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS);\n\n        // Draw the left option\n        this.leftElement = this.root.group();\n        this.leftText = mkText(this.props.leftText)\n            .appendClass(\"sprite-editor-text\")\n            .fill(this.props.selectedTextColor);\n        this.leftElement.appendChild(this.leftText);\n\n        // Draw the right option\n        this.rightElement = this.root.group();\n        this.rightText = mkText(this.props.rightText)\n            .appendClass(\"sprite-editor-text\")\n            .fill(this.props.unselectedTextColor);\n        this.rightElement.appendChild(this.rightText);\n\n        this.root.onClick(() => this.toggle());\n    }\n\n    toggle(quiet = false) {\n        if (this.isLeft) {\n            this.switch.removeClass(\"toggle-left\");\n            this.switch.appendClass(\"toggle-right\");\n            this.leftText.fill(this.props.unselectedTextColor);\n            this.rightText.fill(this.props.selectedTextColor);\n        }\n        else {\n            this.switch.removeClass(\"toggle-right\");\n            this.switch.appendClass(\"toggle-left\");\n            this.leftText.fill(this.props.selectedTextColor);\n            this.rightText.fill(this.props.unselectedTextColor);\n        }\n        this.isLeft = !this.isLeft;\n\n        if (!quiet && this.changeHandler) {\n            this.changeHandler(this.isLeft);\n        }\n    }\n\n    onStateChange(handler: (left: boolean) => void) {\n        this.changeHandler = handler;\n    }\n\n    layout() {\n        const centerOffset = (TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2) / 4;\n        this.leftText.moveTo(centerOffset + TOGGLE_BORDER_WIDTH, TOGGLE_HEIGHT / 2);\n        this.rightText.moveTo(TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH - centerOffset, TOGGLE_HEIGHT / 2)\n    }\n\n    translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    height() {\n        return TOGGLE_HEIGHT;\n    }\n\n    width() {\n        return TOGGLE_WIDTH;\n    }\n}\n\nexport class Button {\n    cx: number;\n    cy: number;\n    root: svg.Group;\n    clickHandler: () => void;\n    private _title: string;\n    private _shortcut: string;\n\n    constructor(root: svg.Group, cx: number, cy: number) {\n        this.root = root;\n        this.cx = cx;\n        this.cy = cy;\n        this.root.onClick(() => this.clickHandler && this.clickHandler());\n        this.root.appendClass(\"sprite-editor-button\");\n    }\n\n    public getElement() {\n        return this.root;\n    }\n\n    public addClass(className: string) {\n        this.root.appendClass(className);\n    }\n\n    public removeClass(className: string) {\n        this.root.removeClass(className);\n    }\n\n    public onClick(clickHandler: () => void) {\n        this.clickHandler = clickHandler;\n    }\n\n    public translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    public title(text: string) {\n        this._title = text;\n        this.setRootTitle();\n    }\n\n    public shortcut(text: string) {\n        this._shortcut = text;\n        this.setRootTitle();\n    }\n\n    private setRootTitle() {\n        this.root.title(this._title + (this._shortcut ? \" (\" + this._shortcut + \")\" : \"\"));\n    }\n\n    public setDisabled(disabled: boolean) {\n        this.editClass(\"disabled\", disabled);\n    }\n\n    public setSelected(selected: boolean) {\n        this.editClass(\"selected\", selected);\n    }\n\n    protected layout() { /* subclass */ }\n\n    protected editClass(className: string, add: boolean) {\n        if (add) {\n            this.root.appendClass(className);\n        }\n        else {\n            this.root.removeClass(className);\n        }\n    }\n}\n\nexport class TextButton extends Button {\n    protected textEl: svg.Text;\n\n    constructor(button: ButtonGroup, text: string, className: string) {\n        super(button.root, button.cx, button.cy);\n\n        this.textEl = mkText(text)\n            .appendClass(className);\n\n        this.textEl.moveTo(this.cx, this.cy);\n\n        this.root.appendChild(this.textEl);\n    }\n\n    setText(text: string) {\n        this.textEl.text(text);\n        this.textEl.moveTo(this.cx, this.cy);\n    }\n\n    getComputedTextLength() {\n        try {\n            return this.textEl.el.getComputedTextLength();\n        }\n        catch (e) {\n            // Internet Explorer and Microsoft Edge throw if the element\n            // is not visible. The best we can do is approximate\n            return this.textEl.el.textContent.length * 8;\n        }\n    }\n}\n\nexport class StandaloneTextButton extends TextButton {\n    protected padding = 30;\n\n    constructor(text: string, readonly height: number) {\n        super(drawSingleButton(65, height), text, \"sprite-editor-text\");\n        this.addClass(\"sprite-editor-label\");\n    }\n\n    layout() {\n        const newBG = drawSingleButton(this.width(), this.height);\n\n        while (this.root.el.hasChildNodes()) {\n            this.root.el.removeChild(this.root.el.firstChild);\n        }\n\n        while (newBG.root.el.hasChildNodes()) {\n            const el = newBG.root.el.firstChild;\n            newBG.root.el.removeChild(el);\n            this.root.el.appendChild(el);\n        }\n\n        this.cx = newBG.cx;\n        this.cy = newBG.cy;\n\n        this.root.appendChild(this.textEl);\n        this.textEl.moveTo(this.cx, this.cy);\n    }\n\n    width() {\n        return this.getComputedTextLength() + this.padding * 2;\n    }\n}\n\nexport class CursorButton extends Button {\n    constructor(root: svg.Group, cx: number, cy: number, width: number) {\n        super(root, cx, cy);\n\n        this.root.draw(\"rect\")\n            .fill(\"white\")\n            .size(width, width)\n            .at(Math.floor(this.cx - width / 2), Math.floor(this.cy - width / 2))\n    }\n}\n\nexport function mkIconButton(icon: string, width: number, height = width + BUTTON_BOTTOM_BORDER_WIDTH - BUTTON_BORDER_WIDTH) {\n    const g = drawSingleButton(width, height);\n    return new TextButton(g, icon, \"sprite-editor-icon\");\n}\n\nexport function mkXIconButton(icon: string, width: number, height = width + BUTTON_BOTTOM_BORDER_WIDTH - BUTTON_BORDER_WIDTH) {\n    const g = drawSingleButton(width, height);\n    return new TextButton(g, icon, \"sprite-editor-xicon\");\n}\n\nexport function mkTextButton(text: string, width: number, height: number) {\n    const g = drawSingleButton(width, height);\n    const t = new TextButton(g, text, \"sprite-editor-text\");\n    t.addClass(\"sprite-editor-label\");\n    return t;\n}\n\n/**\n * Draws a button suitable for the left end of a button group.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawLeftButton(width: number, height: number, lip: number, border: number, r: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-bg\");\n    bg.d.moveTo(r, 0)\n        .lineBy(width - r, 0)\n        .lineBy(0, height)\n        .lineBy(-(width - r), 0)\n        .arcBy(r, r, 0, false, true, -r, -r)\n        .lineBy(0, -(height - (r << 1)))\n        .arcBy(r, r, 0, false, true, r, -r)\n        .close();\n    bg.update();\n\n    const fg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-fg\");\n    fg.d.moveTo(border + r, border)\n        .lineBy(width - border - r, 0)\n        .lineBy(0, height - lip - border)\n        .lineBy(-(width - border - r), 0)\n        .arcBy(r, r, 0, false, true, -r, -r)\n        .lineBy(0, -(height - lip - border - (r << 1)))\n        .arcBy(r, r, 0, false, true, r, -r)\n        .close();\n    fg.update();\n\n    return {\n        root,\n        cx: border + (width - border) / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\nexport class CursorMultiButton {\n    root: svg.Group;\n    selected: number;\n    buttons: Button[];\n\n    indexHandler: (index: number) => void;\n\n    constructor(parent: svg.Group, width: number) {\n        this.root = parent.group();\n        const widths = [4, 7, 10]\n\n        this.buttons = buttonGroup(65, 21, 3).map((b, i) => new CursorButton(b.root, b.cx, b.cy, widths[i]));\n        this.buttons.forEach((button, index) => {\n            button.onClick(() => this.handleClick(index));\n            button.title(sizeAdjective(index));\n            this.root.appendChild(button.getElement());\n        });\n    }\n\n    protected handleClick(index: number) {\n        if (index === this.selected) return;\n\n        if (this.selected != undefined) {\n            this.buttons[this.selected].setSelected(false);\n        }\n\n        this.selected = index;\n\n        if (this.selected != undefined) {\n            this.buttons[this.selected].setSelected(true);\n        }\n\n        if (this.indexHandler) this.indexHandler(index);\n    }\n\n    onSelected(cb: (index: number) => void) {\n        this.indexHandler = cb;\n    }\n}\n\nexport interface UndoRedoHost {\n    undo(): void;\n    redo(): void;\n}\n\nexport class UndoRedoGroup {\n    root: svg.Group;\n    undo: TextButton;\n    redo: TextButton;\n\n    host: UndoRedoHost;\n\n    constructor(parent: svg.Group, host: UndoRedoHost, width: number, height: number) {\n        this.root = parent.group();\n        this.host = host;\n        const [undo, redo] = buttonGroup(width, height, 2);\n\n        this.undo = new TextButton(undo, \"\\uf118\", \"sprite-editor-xicon\");\n        this.undo.onClick(() => this.host.undo());\n        this.root.appendChild(this.undo.getElement());\n\n\n        this.redo = new TextButton(redo, \"\\uf111\", \"sprite-editor-xicon\");\n        this.redo.onClick(() => this.host.redo());\n        this.root.appendChild(this.redo.getElement());\n    }\n\n    translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    updateState(undo: boolean, redo: boolean) {\n        this.undo.setDisabled(undo);\n        this.redo.setDisabled(redo);\n    }\n}\n\n\nfunction defaultColors(props: Partial<ToggleProps>): ToggleProps {\n    if (!props.baseColor) props.baseColor = \"#e95153\";\n    if (!props.backgroundColor) props.backgroundColor = \"rgba(52,73,94,.2)\";\n    if (!props.borderColor) props.borderColor = \"rgba(52,73,94,.4)\";\n    if (!props.selectedTextColor) props.selectedTextColor = props.baseColor;\n    if (!props.unselectedTextColor) props.unselectedTextColor = \"hsla(0,0%,100%,.9)\";\n    if (!props.switchColor) props.switchColor = \"#ffffff\";\n\n    return props as ToggleProps;\n}\n\nfunction sizeAdjective(cursorIndex: number) {\n    switch (cursorIndex) {\n        case 0: return \"Small Cursor\";\n        case 1: return \"Medium Cursor\";\n        case 2: return \"Large Cursor\";\n    }\n\n    return undefined;\n}\n\n/**\n* Draws a button suitable for the interior of a button group.\n*\n* @param width The total width of the result (including border)\n* @param height The total height of the resul (including border and lip)\n* @param lip  The width of the bottom border\n* @param border The width of the outer border (except bottom)\n*/\nfunction drawMidButton(width: number, height: number, lip: number, border: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"rect\")\n        .appendClass(\"sprite-editor-button-bg\")\n        .size(width, height)\n\n    const fg = root.draw(\"rect\")\n        .appendClass(\"sprite-editor-button-fg\")\n        .size(width - border, height - lip - border)\n        .at(border, border);\n\n    return {\n        root,\n        cx: border + (width - border) / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\n/**\n * Draws a button suitable for the right end of a button group.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawRightButton(width: number, height: number, lip: number, border: number, r: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-bg\");\n    bg.d.moveTo(0, 0)\n        .lineBy(width - r, 0)\n        .arcBy(r, r, 0, false, true, r, r)\n        .lineBy(0, height - (r << 1))\n        .arcBy(r, r, 0, false, true, -r, r)\n        .lineBy(-(width - r), 0)\n        .lineBy(0, -height)\n        .close();\n    bg.update();\n\n    const fg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-fg\");\n    fg.d.moveTo(border, border)\n        .lineBy(width - border - r, 0)\n        .arcBy(r, r, 0, false, true, r, r)\n        .lineBy(0, height - border - lip - (r << 1))\n        .arcBy(r, r, 0, false, true, -r, r)\n        .lineBy(-(width - border - r), 0)\n        .lineBy(0, -(height - border - lip))\n        .close();\n    fg.update();\n\n    const content = root.group().id(\"sprite-editor-button-content\");\n    content.translate(border + (width - (border << 1)) >> 1, (height - lip - border) >> 1);\n\n    return {\n        root,\n        cx: width / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\n/**\n * Draws a standalone button.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawSingleButton(width: number, height: number, lip = BUTTON_BOTTOM_BORDER_WIDTH, border = BUTTON_BORDER_WIDTH, r = BUTTON_CORNER_RADIUS): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    root.draw(\"rect\")\n        .size(width, height)\n        .corners(r, r)\n        .appendClass(\"sprite-editor-button-bg\");\n\n    root.draw(\"rect\")\n        .at(border, border)\n        .size(width - (border << 1), height - lip - border)\n        .corners(r, r)\n        .appendClass(\"sprite-editor-button-fg\");\n\n    return {\n        root,\n        cx: width / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\nfunction buttonGroup(width: number, height: number, segments: number, lip = BUTTON_BOTTOM_BORDER_WIDTH, border = BUTTON_BORDER_WIDTH, r = BUTTON_CORNER_RADIUS): ButtonGroup[] {\n    const available = width - (segments + 1) * border;\n    const segmentWidth = Math.floor(available / segments);\n\n    const result: ButtonGroup[] = [];\n    for (let i = 0; i < segments; i++) {\n        if (i === 0) {\n            result.push(drawLeftButton(segmentWidth + border, height, lip, border, r));\n        }\n        else if (i === segments - 1) {\n            const b = drawRightButton(segmentWidth + (border << 1), height, lip, border, r);\n            b.root.translate((border + segmentWidth) * i, 0);\n            result.push(b);\n        }\n        else {\n            const b = drawMidButton(segmentWidth + border, height, lip, border);\n            b.root.translate((border + segmentWidth) * i, 0);\n            result.push(b);\n        }\n    }\n\n    return result;\n}\n\nexport function mkText(text: string) {\n    return new svg.Text(text)\n        .anchor(\"middle\")\n        .setAttribute(\"dominant-baseline\", \"middle\")\n        .setAttribute(\"dy\", (false /*IE or edge*/) ? \"0.3em\" : \"0.1em\")\n}","import { PaintTool, getPaintToolShortcut } from \"./tools\";\nimport {\n    Button, CursorMultiButton,\n    mkXIconButton, mkIconButton, UndoRedoGroup, UndoRedoHost\n} from \"./buttons\";\nimport * as svg from './svgUtil'\n\nexport interface SideBarHost {\n    setActiveTool(tool: PaintTool): void;\n    setActiveColor(color: number): void;\n    setToolWidth(width: number): void;\n    setIconsToDefault(): void;\n}\n\nconst TOOLBAR_WIDTH = 65;\nconst INNER_BUTTON_MARGIN = 3;\nconst PALETTE_BORDER_WIDTH = 1;\nconst BUTTON_GROUP_SPACING = 3;\nconst SELECTED_BORDER_WIDTH = 2;\nconst COLOR_PREVIEW_HEIGHT = 30;\nconst COLOR_MARGIN = 7;\n\nconst UNDO_REDO_START = 430;\nconst UNDO_REDO_WIDTH = 65;\nconst UNDO_REDO_HEIGHT = 31;\n\nconst TOOL_BUTTON_WIDTH = (TOOLBAR_WIDTH - INNER_BUTTON_MARGIN) / 2;\nconst PALLETTE_SWATCH_WIDTH = (TOOLBAR_WIDTH - PALETTE_BORDER_WIDTH * 3) / 2;\nconst TOOL_BUTTON_TOP = TOOLBAR_WIDTH / 3 + BUTTON_GROUP_SPACING;\nconst PALETTE_TOP = TOOL_BUTTON_TOP + TOOL_BUTTON_WIDTH * 3 + INNER_BUTTON_MARGIN + COLOR_MARGIN;\n\nexport class SideBar {\n    root: svg.Group;\n    host: SideBarHost;\n    palette: string[];\n\n    protected colorSwatches: svg.Rect[];\n    protected pencilTool: Button;\n    protected eraseTool: Button;\n    protected rectangleTool: Button;\n    protected fillTool: Button;\n    protected marqueeTool: Button;\n\n    protected sizeGroup: svg.Group;\n    protected buttonGroup: svg.Group;\n    protected paletteGroup: svg.Group;\n\n    protected selectedTool: Button;\n    protected selectedSwatch: svg.Rect;\n    protected colorPreview: svg.Rect;\n\n    public undoRedo: UndoRedoGroup;\n\n    constructor(palette: string[], host: SideBarHost & UndoRedoHost, parent: svg.Group) {\n        this.palette = palette;\n        this.host = host;\n        this.root = parent.group().id(\"sprite-editor-sidebar\");\n\n        this.undoRedo = new UndoRedoGroup(this.root, host, UNDO_REDO_WIDTH, UNDO_REDO_HEIGHT);\n\n        this.initSizes();\n        this.initTools();\n        this.initPalette();\n    }\n\n    updateUndoRedo(undo: boolean, redo: boolean) {\n        this.undoRedo.updateState(undo, redo);\n    }\n\n    public setTool(tool: PaintTool) {\n        this.host.setActiveTool(tool);\n\n        if (this.selectedTool) {\n            this.selectedTool.removeClass(\"selected\");\n        }\n\n        this.selectedTool = this.getButtonForTool(tool);\n\n        if (this.selectedTool) {\n            this.selectedTool.addClass(\"selected\");\n        }\n    }\n\n    public setColor(color: number) {\n        this.host.setActiveColor(color);\n\n        if (this.selectedSwatch) {\n            this.selectedSwatch.stroke(\"none\");\n        }\n\n        this.selectedSwatch = this.colorSwatches[color];\n\n        if (this.selectedSwatch) {\n            // Border is multiplied by 2 and the excess is clipped away\n            this.selectedSwatch.stroke(\"orange\", SELECTED_BORDER_WIDTH * 2);\n            this.colorPreview.fill(this.palette[color]);\n        }\n\n        // FIXME: Switch the tool to pencil\n    }\n\n    public setCursorSize(size: number) {\n        this.host.setToolWidth(size);\n    }\n\n    public setWidth(width: number) {\n        this.root.scale(width / TOOLBAR_WIDTH);\n    }\n\n    public translate(left: number, top: number) {\n        this.root.translate(left, top);\n    }\n\n    protected initSizes() {\n        this.sizeGroup = this.root.group().id(\"sprite-editor-cursor-buttons\");\n        const buttonGroup = new CursorMultiButton(this.sizeGroup, TOOLBAR_WIDTH);\n        buttonGroup.onSelected(index => {\n            this.setCursorSize(1 + (index * 2));\n        });\n        // Sets the first button to show as selected\n        buttonGroup.selected = 0;\n        buttonGroup.buttons[0].setSelected(true);\n    }\n\n    protected initTools() {\n        this.buttonGroup = this.root.group()\n            .id(\"sprite-editor-tools\")\n            .translate(0, TOOL_BUTTON_TOP);\n\n        this.pencilTool = this.initButton((\"Pencil\"), \"\\uf040\", PaintTool.Normal);\n\n        this.eraseTool = this.initButton((\"Erase\"), \"\\uf12d\", PaintTool.Erase);\n        this.eraseTool.translate(1 + TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN, 0);\n\n        this.fillTool = this.initButton((\"Fill\"), \"\\uf102\", PaintTool.Fill, true);\n        this.fillTool.translate(0, TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN);\n\n        this.rectangleTool = this.initButton((\"Rectangle\"), \"\\uf096\", PaintTool.Rectangle);\n        this.rectangleTool.translate(1 + TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN, TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN);\n\n        this.marqueeTool = this.initButton((\"Marquee\"), \"\\uf113\", PaintTool.Marquee, true);\n        this.marqueeTool.translate(0, (TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN) << 1);\n\n        this.setTool(PaintTool.Normal);\n        this.undoRedo.translate(0, UNDO_REDO_START);\n    }\n\n    protected initPalette() {\n        this.paletteGroup = this.root.group().id(\"sprite-editor-palette\")\n            .translate(0, PALETTE_TOP);\n\n        // Draw the background/borders for the entire palette\n        const bgHeight = COLOR_PREVIEW_HEIGHT + PALETTE_BORDER_WIDTH * 2;\n        this.paletteGroup.draw(\"rect\")\n            .fill(\"#000000\")\n            .size(TOOLBAR_WIDTH, bgHeight);\n\n        this.paletteGroup.draw(\"rect\")\n            .fill(\"#000000\")\n            .at(0, bgHeight + COLOR_MARGIN)\n            .size(TOOLBAR_WIDTH, PALETTE_BORDER_WIDTH + (this.palette.length >> 1) * (PALLETTE_SWATCH_WIDTH + PALETTE_BORDER_WIDTH));\n\n        // The highlighted swatch has an inner border. The only way to do that in SVG\n        // is to set the stroke to double the border width and clip the excess away\n        const clip = this.paletteGroup.def().create(\"clipPath\", \"sprite-editor-selected-color\")\n            .clipPathUnits(true);\n\n        clip.draw(\"rect\")\n            .at(0, 0)\n            .size(1, 1);\n\n        // Draw a preview of the current color\n        this.colorPreview = this.paletteGroup.draw(\"rect\")\n            .at(PALETTE_BORDER_WIDTH, PALETTE_BORDER_WIDTH)\n            .size(TOOLBAR_WIDTH - PALETTE_BORDER_WIDTH * 2, COLOR_PREVIEW_HEIGHT);\n\n        // Draw the swatches for each color\n        this.colorSwatches = []\n        for (let i = 0; i < this.palette.length; i++) {\n            const col = i % 2;\n            const row = Math.floor(i / 2);\n\n            const swatch = this.paletteGroup\n                .draw(\"rect\")\n                .size(PALLETTE_SWATCH_WIDTH, PALLETTE_SWATCH_WIDTH)\n                .at(col ? PALETTE_BORDER_WIDTH * 2 + PALLETTE_SWATCH_WIDTH : PALETTE_BORDER_WIDTH, bgHeight + COLOR_MARGIN + PALETTE_BORDER_WIDTH + row * (PALETTE_BORDER_WIDTH + PALLETTE_SWATCH_WIDTH))\n                .fill(this.palette[i])\n                .clipPath(\"url(#sprite-editor-selected-color)\")\n                .onClick(() => this.setColor(i));\n            swatch.title(`${i}`)\n\n            this.colorSwatches.push(swatch);\n        }\n\n        this.setColor(0);\n    }\n\n    protected initButton(title: string, icon: string, tool: PaintTool, xicon = false) {\n        const btn = xicon ? mkXIconButton(icon, TOOL_BUTTON_WIDTH) : mkIconButton(icon, TOOL_BUTTON_WIDTH);\n        const shortcut = getPaintToolShortcut(tool);\n        if (shortcut) btn.shortcut(shortcut);\n        btn.title(title);\n\n        btn.onClick(() => {\n            this.host.setIconsToDefault();\n            this.setTool(tool);\n        });\n        this.buttonGroup.appendChild(btn.getElement());\n        return btn;\n    }\n\n    getButtonForTool(tool: PaintTool) {\n        switch (tool) {\n            case PaintTool.Normal:\n            case PaintTool.Line: return this.pencilTool;\n            case PaintTool.Erase: return this.eraseTool;\n            case PaintTool.Fill: return this.fillTool;\n            case PaintTool.Rectangle:\n            case PaintTool.Circle: return this.rectangleTool;\n            case PaintTool.Marquee: return this.marqueeTool;\n            default: return undefined;\n        }\n    }\n}","import { CanvasState } from './canvasState'\nimport { Edit } from './tools'\nimport * as utils from './util'\n\nconst alphaCellWidth = 5;\nconst dropdownPaddding = 4;\nconst lightModeBackground = \"#dedede\";\n\nexport class CanvasGrid {\n    protected cellWidth: number = 16;\n    protected cellHeight: number = 16;\n\n    private gesture: GestureState;\n    private context: CanvasRenderingContext2D;\n    private fadeAnimation: Fade;\n    private selectAnimation: number;\n\n    protected backgroundLayer: HTMLCanvasElement;\n    protected paintLayer: HTMLCanvasElement;\n    protected overlayLayer: HTMLCanvasElement;\n\n    mouseCol: number;\n    mouseRow: number;\n\n    scale: number;\n\n    constructor(protected palette: string[], public state: CanvasState, protected lightMode = false, scale: number) {\n        this.scale = scale;\n        this.paintLayer = document.createElement(\"canvas\");\n        this.paintLayer.setAttribute(\"class\", \"sprite-editor-canvas\");\n        this.overlayLayer = document.createElement(\"canvas\")\n        this.overlayLayer.setAttribute(\"class\", \"sprite-editor-canvas\")\n\n        if (!this.lightMode) {\n            this.backgroundLayer = document.createElement(\"canvas\");\n            this.backgroundLayer.setAttribute(\"class\", \"sprite-editor-canvas\")\n            this.context = this.paintLayer.getContext(\"2d\");\n        }\n        else {\n            this.context = this.paintLayer.getContext(\"2d\", { alpha: false });\n            this.context.fillStyle = lightModeBackground;\n            this.context.fill();\n        }\n\n        this.hideOverlay();\n    }\n\n\n    get image() {\n        return this.state.image;\n    }\n\n    setEyedropperMouse(on: boolean) {\n        /* TODO\n        const eyedropperClass = \"sprite-editor-eyedropper\";\n\n        const toApply = on ? utils.addClass : utils.removeClass;\n        toApply(this.paintLayer, eyedropperClass);\n        toApply(this.overlayLayer, eyedropperClass);\n        if (!this.lightMode) {\n            toApply(this.backgroundLayer, eyedropperClass);\n        }\n        */\n    }\n\n    repaint(): void {\n        this.clearContext(this.context);\n        this.drawImage();\n        if (this.state.floatingLayer) this.drawFloatingLayer();\n        else this.hideOverlay();\n    }\n\n    applyEdit(edit: Edit, cursorCol: number, cursorRow: number, gestureEnd = false) {\n        edit.doEdit(this.state);\n        this.drawCursor(edit, cursorCol, cursorRow);\n    }\n\n    drawCursor(edit: Edit, col: number, row: number) {\n        const cursor = edit.getCursor();\n\n        if (cursor) {\n            this.repaint();\n            if (edit.showPreview) {\n                edit.drawCursor(col, row, (c, r) => {\n                    this.drawColor(c, r, edit.color);\n                });\n            }\n            this.context.strokeStyle = \"#898989\";\n            this.context.strokeRect((col + cursor.offsetX) * this.cellWidth, (row + cursor.offsetY) * this.cellHeight, cursor.width * this.cellWidth, cursor.height * this.cellHeight);\n        }\n        else if (edit.isStarted) {\n            this.repaint();\n        }\n    }\n\n    bitmap() {\n        return this.image;\n    }\n\n    outerWidth(): number {\n        return this.paintLayer.getBoundingClientRect().width;\n    }\n\n    outerHeight(): number {\n        return this.paintLayer.getBoundingClientRect().height;\n    }\n\n    writeColor(col: number, row: number, color: number) {\n        this.image.set(col, row, color);\n        this.drawColor(col, row, color);\n    }\n\n    drawColor(col: number, row: number, color: number, context = this.context, transparency = !this.lightMode) {\n        const x = col * this.cellWidth;\n        const y = row * this.cellHeight;\n\n        if (color) {\n            context.fillStyle = this.palette[color - 1];\n            context.fillRect(x, y, this.cellWidth, this.cellHeight);\n        }\n        else if (!transparency) {\n            context.fillStyle = lightModeBackground;\n            context.fillRect(x, y, this.cellWidth, this.cellHeight);\n        }\n    }\n\n    restore(state: CanvasState, repaint = false) {\n        if (state.height != this.image.height || state.width != this.image.width) {\n            this.state = state.copy();\n            this.resizeGrid(state.width, state.width * state.height);\n        }\n        else {\n            this.state = state.copy();\n        }\n\n        if (repaint) {\n            this.repaint();\n        }\n    }\n\n    showResizeOverlay(): void {\n        if (this.lightMode) return;\n\n        if (this.fadeAnimation) {\n            this.fadeAnimation.kill();\n        }\n        this.showOverlay();\n        this.stopSelectAnimation();\n\n        const w = this.overlayLayer.width;\n        const h = this.overlayLayer.height;\n        const context = this.overlayLayer.getContext(\"2d\");\n        const toastWidth = 100;\n        const toastHeight = 40;\n        const toastLeft = w / 2 - toastWidth / 2;\n        const toastTop = h / 2 - toastWidth / 4;\n\n        this.fadeAnimation = new Fade((opacity, dead) => {\n            if (dead) {\n                this.drawFloatingLayer();\n                return;\n            }\n\n            this.clearContext(context);\n            context.globalAlpha = opacity;\n            context.fillStyle = \"#898989\";\n\n            // After 32x32 the grid isn't easy to see anymore so skip it\n            if (this.image.width <= 32 && this.image.height <= 32) {\n                for (let c = 1; c < this.image.width; c++) {\n                    context.fillRect(c * this.cellWidth, 0, 1, h);\n                }\n                for (let r = 1; r < this.image.height; r++) {\n                    context.fillRect(0, r * this.cellHeight, w, 1);\n                }\n            }\n\n            context.fillRect(toastLeft, toastTop, toastWidth, toastHeight);\n            context.fillStyle = \"#ffffff\";\n            context.font = \"30px sans-serif\";\n            context.textBaseline = \"middle\";\n            context.textAlign = \"center\";\n\n            context.fillText(this.image.width.toString(), toastLeft + toastWidth / 2 - 25, toastTop + toastHeight / 2);\n            context.fillText(\"x\", toastLeft + 50, toastTop + toastHeight / 2, 10);\n            context.fillText(this.image.height.toString(), toastLeft + toastWidth / 2 + 25, toastTop + toastHeight / 2);\n        }, 750, 500);\n    }\n\n    showOverlay() {\n        this.overlayLayer.style.visibility = \"visible\";\n    }\n\n    hideOverlay() {\n        this.stopSelectAnimation();\n\n        this.overlayLayer.style.visibility = \"hidden\";\n\n        if (this.fadeAnimation) {\n            this.fadeAnimation.kill();\n        }\n    }\n\n    resizeGrid(rowLength: number, numCells: number): void {\n        this.repaint();\n    }\n\n    setCellDimensions(width: number, height: number): void {\n        this.cellWidth = width | 0;\n        this.cellHeight = height | 0;\n\n        const canvasWidth = this.cellWidth * this.image.width // * this.scale;\n        const canvasHeight = this.cellHeight * this.image.height // * this.scale;\n\n        this.paintLayer.width = canvasWidth;\n        this.paintLayer.height = canvasHeight;\n        this.overlayLayer.width = canvasWidth;\n        this.overlayLayer.height = canvasHeight;\n\n        if (!this.lightMode) {\n            this.backgroundLayer.width = canvasWidth;\n            this.backgroundLayer.height = canvasHeight;\n        }\n    }\n\n    setGridDimensions(width: number, height = width, lockAspectRatio = true): void {\n        const maxCellWidth = width / this.image.width;\n        const maxCellHeight = height / this.image.height;\n\n        if (lockAspectRatio) {\n            const aspectRatio = this.cellWidth / this.cellHeight;\n\n            if (aspectRatio >= 1) {\n                const w = Math.min(maxCellWidth, maxCellHeight * aspectRatio);\n                this.setCellDimensions(w, w * aspectRatio);\n            }\n            else {\n                const h = Math.min(maxCellHeight, maxCellWidth / aspectRatio)\n                this.setCellDimensions(h / aspectRatio, h);\n            }\n        }\n        else {\n            this.setCellDimensions(maxCellWidth, maxCellHeight);\n        }\n    }\n\n    down(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Down, handler);\n    }\n\n    up(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Up, handler);\n    }\n\n    drag(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Drag, handler);\n    }\n\n    move(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Move, handler);\n    }\n\n    leave(handler: () => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Leave, handler);\n    }\n\n    updateBounds(top: number, left: number, width: number, height: number) {\n        this.layoutCanvas(this.paintLayer, top, left, width, height);\n        this.layoutCanvas(this.overlayLayer, top, left, width, height);\n\n        if (!this.lightMode) {\n            this.layoutCanvas(this.backgroundLayer, top, left, width, height);\n        }\n\n        this.drawImage();\n        this.drawBackground();\n    }\n\n    render(parent: HTMLDivElement) {\n        if (!this.lightMode) {\n            parent.appendChild(this.backgroundLayer);\n        }\n\n        parent.appendChild(this.paintLayer);\n        parent.appendChild(this.overlayLayer);\n    }\n\n    removeMouseListeners() {\n        this.stopSelectAnimation();\n        if (this.fadeAnimation) this.fadeAnimation.kill();\n\n        this.endDrag();\n    }\n\n    onEditStart(col: number, row: number, edit: Edit) {\n        edit.start(col, row, this.state);\n    }\n\n    onEditEnd(col: number, row: number, edit: Edit) {\n        edit.end(col, row, this.state);\n        this.drawFloatingLayer();\n    }\n\n    protected drawImage(image = this.image, context = this.context, left = 0, top = 0, transparency = !this.lightMode) {\n        for (let c = 0; c < image.width; c++) {\n            for (let r = 0; r < image.height; r++) {\n                this.drawColor(left + c, top + r, image.get(c, r), context, transparency);\n            }\n        }\n    }\n\n    protected drawBackground() {\n        if (this.lightMode) return;\n        const context = this.backgroundLayer.getContext(\"2d\", { alpha: false });\n        const alphaCols = Math.ceil(this.paintLayer.width / alphaCellWidth);\n        const alphaRows = Math.ceil(this.paintLayer.height / alphaCellWidth);\n        context.fillStyle = \"#ffffff\";\n        context.fillRect(0, 0, this.paintLayer.width, this.paintLayer.height);\n\n        context.fillStyle = \"#dedede\";\n        for (let ac = 0; ac < alphaCols; ac++) {\n            for (let ar = 0; ar < alphaRows; ar++) {\n                if ((ac + ar) % 2) {\n                    context.fillRect(ac * alphaCellWidth, ar * alphaCellWidth, alphaCellWidth, alphaCellWidth);\n                }\n            }\n        }\n    }\n\n    /**\n     * This calls getBoundingClientRect() so don't call it in a loop!\n     */\n    protected clientEventToCell(ev: MouseEvent) {\n        const coord = clientCoord(ev);\n        const bounds = this.paintLayer.getBoundingClientRect();\n        const left = bounds.left + (window.scrollX !== null ? window.scrollX : window.pageXOffset);\n        const top = bounds.top + (window.scrollY !== null ? window.scrollY : window.pageYOffset);\n\n        this.mouseCol = Math.floor((((coord.clientX) - left) / this.cellWidth));\n        this.mouseRow = Math.floor((((coord.clientY) - top) / this.cellHeight));\n\n        return [\n            this.mouseCol,\n            this.mouseRow\n        ];\n    }\n    protected drawFloatingLayer() {\n        if (!this.state.floatingLayer) {\n            return;\n        }\n        this.drawImage(this.state.floatingLayer, this.context, this.state.layerOffsetX, this.state.layerOffsetY, true);\n\n        this.drawSelectionAnimation();\n    }\n\n    protected drawSelectionAnimation(dashOffset = 0) {\n        if (!this.state.floatingLayer) {\n            this.hideOverlay();\n            return;\n        }\n        this.showOverlay();\n        const context = this.overlayLayer.getContext(\"2d\");\n        this.clearContext(context);\n        context.globalAlpha = 1;\n        context.strokeStyle = \"#303030\";\n        context.lineWidth = 2;\n        context.setLineDash([5, 3]);\n        context.lineDashOffset = dashOffset;\n        context.strokeRect(this.state.layerOffsetX * this.cellWidth, this.state.layerOffsetY * this.cellHeight, this.state.floatingLayer.width * this.cellWidth, this.state.floatingLayer.height * this.cellHeight);\n\n\n        if (!this.lightMode && !this.selectAnimation && (!this.fadeAnimation || this.fadeAnimation.dead)) {\n            let drawLayer = () => {\n                dashOffset++\n                requestAnimationFrame(() => this.drawSelectionAnimation(dashOffset));\n            };\n\n            this.selectAnimation = window.setInterval(drawLayer, 40)\n        }\n    }\n\n    private clearContext(context: CanvasRenderingContext2D) {\n        // Paint Layer has the same dimensions as all other contexts\n        context.clearRect(0, 0, this.paintLayer.width, this.paintLayer.height);\n    }\n\n    private initDragSurface() {\n\n        if (!this.gesture) {\n            this.gesture = new GestureState();\n\n            this.bindEvents(this.paintLayer);\n            this.bindEvents(this.overlayLayer);\n\n            document.addEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        }\n\n    }\n\n    private bindEvents(surface: HTMLElement) {\n        utils.pointerEvents.down.forEach(evId => {\n            surface.addEventListener(evId, <EventListener>((ev: MouseEvent) => {\n                this.startDrag();\n                const [col, row] = this.clientEventToCell(ev);\n                this.gesture.handle(InputEvent.Down, col, row);\n            }));\n        })\n\n\n        // surface.addEventListener(\"click\", (ev: MouseEvent) => {\n        //     const [col, row] = this.clientEventToCell(ev);\n        //     this.gesture.handle(InputEvent.Down, col, row);\n        //     this.gesture.handle(InputEvent.Up, col, row);\n        // });\n    }\n\n    private upHandler = (ev: MouseEvent) => {\n        this.endDrag();\n        const [col, row] = this.clientEventToCell(ev);\n        this.gesture.handle(InputEvent.Up, col, row);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    }\n\n    private leaveHandler = (ev: MouseEvent) => {\n        this.endDrag();\n        const [col, row] = this.clientEventToCell(ev);\n        this.gesture.handle(InputEvent.Leave, col, row);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    private moveHandler = (ev: MouseEvent) => {\n        const [col, row] = this.clientEventToCell(ev);\n        if (col >= 0 && row >= 0 && col < this.image.width && row < this.image.height) {\n            if (ev.buttons & 1) {\n                this.gesture.handle(InputEvent.Down, col, row);\n            }\n            this.gesture.handle(InputEvent.Move, col, row);\n        }\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    }\n\n    private hoverHandler = (ev: MouseEvent) => {\n        const [col, row] = this.clientEventToCell(ev);\n        if (col >= 0 && row >= 0 && col < this.image.width && row < this.image.height) {\n            this.gesture.handle(InputEvent.Move, col, row);\n            this.gesture.isHover = true;\n        }\n        else if (this.gesture.isHover) {\n            this.gesture.isHover = false;\n            this.gesture.handle(InputEvent.Leave, -1, -1);\n        }\n    }\n\n    private startDrag() {\n        document.removeEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        document.addEventListener(utils.pointerEvents.move, <EventListener>this.moveHandler);\n        document.addEventListener(utils.pointerEvents.up, <EventListener>this.upHandler);\n\n        if (utils.isTouchEnabled() && !utils.hasPointerEvents()) {\n            document.addEventListener(\"touchend\", <EventListener>this.upHandler);\n            document.addEventListener(\"touchcancel\", <EventListener>this.leaveHandler);\n        }\n        else {\n            document.addEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n        }\n\n    }\n\n    private endDrag() {\n\n        document.addEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        document.removeEventListener(utils.pointerEvents.move, <EventListener>this.moveHandler);\n        document.removeEventListener(utils.pointerEvents.up, <EventListener>this.upHandler);\n        document.removeEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n\n        if (utils.isTouchEnabled() && !utils.hasPointerEvents()) {\n            document.removeEventListener(\"touchend\", <EventListener>this.upHandler);\n            document.removeEventListener(\"touchcancel\", <EventListener>this.leaveHandler);\n        }\n        else {\n            document.removeEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n        }\n\n    }\n\n\n    private layoutCanvas(canvas: HTMLCanvasElement, top: number, left: number, width: number, height: number) {\n        canvas.style.position = \"absolute\";\n        canvas.style.top = `0px`\n        canvas.style.left = `0px`\n\n        // if (this.image.width === this.image.height) {\n        //     canvas.style.top = top + \"px\";\n        //     canvas.style.left = left + \"px\";\n        // }\n        // else if (this.image.width > this.image.height) {\n        //     canvas.style.top = (top + dropdownPaddding + (height - canvas.height) / 2) + \"px\";\n        //     canvas.style.left = left + \"px\";\n        // }\n        // else {\n        //     canvas.style.top = top + \"px\";\n        //     canvas.style.left = (left + dropdownPaddding + (width - canvas.width) / 2) + \"px\";\n        // }\n    }\n\n    private stopSelectAnimation() {\n        if (this.selectAnimation) {\n            clearInterval(this.selectAnimation);\n            this.selectAnimation = undefined;\n        }\n\n    }\n}\n\nenum InputEvent {\n    Up,\n    Down,\n    Move,\n    Leave\n}\n\nenum GestureType {\n    Up,\n    Down,\n    Move,\n    Drag,\n    Leave\n}\n\ntype GestureHandler = (col: number, row: number) => void;\n\nclass GestureState {\n    lastCol: number;\n    lastRow: number;\n\n    isDown = false;\n    isHover = false;\n\n    handlers: { [index: number]: GestureHandler } = {};\n\n    handle(event: InputEvent, col: number, row: number) {\n        switch (event) {\n            case InputEvent.Up:\n                this.update(col, row);\n                this.isDown = false;\n                this.fire(GestureType.Up);\n                break;\n            case InputEvent.Down:\n                if (!this.isDown) {\n                    this.update(col, row);\n                    this.isDown = true;\n                    this.fire(GestureType.Down);\n                }\n                break;\n            case InputEvent.Move:\n                if (col === this.lastCol && row === this.lastRow) return;\n                this.update(col, row);\n                if (this.isDown) {\n                    this.fire(GestureType.Drag);\n                }\n                else {\n                    this.fire(GestureType.Move);\n                }\n                break;\n\n            case InputEvent.Leave:\n                this.update(col, row);\n                this.isDown = false;\n                this.fire(GestureType.Leave);\n                break;\n        }\n    }\n\n    subscribe(type: GestureType, handler: GestureHandler) {\n        this.handlers[type] = handler;\n    }\n\n    protected update(col: number, row: number) {\n        this.lastCol = col;\n        this.lastRow = row;\n    }\n\n    protected fire(type: GestureType) {\n        if (this.handlers[type]) {\n            this.handlers[type](this.lastCol, this.lastRow);\n        }\n    }\n}\n\nclass Fade {\n    start: number;\n    end: number;\n    slope: number;\n    dead: boolean;\n\n    constructor(protected draw: (opacity: number, dead: boolean) => void, delay: number, duration: number) {\n        this.start = Date.now() + delay;\n        this.end = this.start + duration;\n        this.slope = 1 / duration;\n        this.dead = false;\n\n        draw(1, false);\n\n        setTimeout(() => requestAnimationFrame(() => this.frame()), delay);\n    }\n\n    frame() {\n        if (this.dead) return;\n        const now = Date.now();\n        if (now < this.end) {\n            const v = 1 - (this.slope * (now - this.start));\n            this.draw(v, false);\n            requestAnimationFrame(() => this.frame());\n        }\n        else {\n            this.kill();\n            this.draw(0, true);\n        }\n    }\n\n    kill() {\n        this.dead = true;\n    }\n}\n\nexport interface ClientCoordinates {\n    clientX: number;\n    clientY: number;\n}\n\nfunction clientCoord(ev: PointerEvent | MouseEvent | TouchEvent): ClientCoordinates {\n    if ((ev as TouchEvent).touches) {\n        const te = ev as TouchEvent;\n        if (te.touches.length) {\n            return te.touches[0];\n        }\n        return te.changedTouches[0];\n    }\n    return (ev as PointerEvent | MouseEvent);\n}","import { Bitmap } from './bitmap'\n\nexport class CanvasState {\n    image: Bitmap;\n    floatingLayer: Bitmap;\n    layerOffsetX: number;\n    layerOffsetY: number;\n\n    constructor(bitmap?: Bitmap) {\n        this.image = bitmap;\n        this.layerOffsetX = 0;\n        this.layerOffsetY = 0;\n    }\n\n    get width() {\n        return this.image.width;\n    }\n\n    get height() {\n        return this.image.height;\n    }\n\n    copy() {\n        const res = new CanvasState();\n        res.image = this.image.copy();\n\n        if (this.floatingLayer) {\n            res.floatingLayer = this.floatingLayer.copy();\n            res.floatingLayer.x0 = this.layerOffsetX;\n            res.floatingLayer.y0 = this.layerOffsetY;\n        }\n        res.layerOffsetX = this.layerOffsetX;\n        res.layerOffsetY = this.layerOffsetY;\n\n        return res;\n    }\n\n    equals(other: CanvasState) {\n        if (!this.image.equals(other.image) || (this.floatingLayer && !other.floatingLayer) || (!this.floatingLayer && other.floatingLayer)) return false;\n\n        if (this.floatingLayer) return this.floatingLayer.equals(other.floatingLayer) && this.layerOffsetX === other.layerOffsetX && this.layerOffsetY === other.layerOffsetY;\n\n        return true;\n    }\n\n    mergeFloatingLayer() {\n        if (!this.floatingLayer) return;\n\n        this.floatingLayer.x0 = this.layerOffsetX;\n        this.floatingLayer.y0 = this.layerOffsetY;\n\n        this.image.apply(this.floatingLayer, true);\n        this.floatingLayer = undefined;\n    }\n\n    copyToLayer(left: number, top: number, width: number, height: number, cut = false) {\n        if (width === 0 || height === 0) return;\n\n        if (width < 0) {\n            left += width;\n            width = -width;\n        }\n\n        if (height < 0) {\n            top += height;\n            height = -height;\n        }\n\n        this.floatingLayer = this.image.copy(left, top, width, height);\n        this.layerOffsetX = this.floatingLayer.x0;\n        this.layerOffsetY = this.floatingLayer.y0;\n\n        if (cut) {\n            for (let c = 0; c < width; c++) {\n                for (let r = 0; r < height; r++) {\n                    this.image.set(left + c, top + r, 0);\n                }\n            }\n        }\n    }\n\n    inFloatingLayer(col: number, row: number) {\n        if (!this.floatingLayer) return false;\n\n        col = col - this.layerOffsetX;\n        row = row - this.layerOffsetY;\n\n        return col >= 0 && col < this.floatingLayer.width && row >= 0 && row < this.floatingLayer.height;\n    }\n}","import * as svg from './svgUtil'\nimport { SideBarHost, SideBar } from './sidebar';\nimport { SpriteHeaderHost, SpriteHeader } from './header';\nimport { CanvasGrid } from './canvasGrid';\nimport { ReporterBar } from './reporterBar';\nimport {\n    Edit, PaintTool, getPaintToolShortcut,\n    PaintEdit, OutlineEdit, LineEdit, CircleEdit, FillEdit, MarqueeEdit\n} from './tools';\nimport { Bitmap, resizeBitmap } from './bitmap';\nimport { CanvasState } from './canvasState';\nimport { TextButton, UndoRedoGroup } from './buttons';\n\nexport const TOTAL_HEIGHT = 465;\n\nconst PADDING = 10;\n\nconst DROP_DOWN_PADDING = 4;\n\n// Height of toolbar (the buttons above the canvas)\nexport const HEADER_HEIGHT = 0;\n\n// Spacing between the toolbar and the canvas\nconst HEADER_CANVAS_MARGIN = 10;\n\n// Height of the bar that displays editor size and info below the canvas\nconst REPORTER_BAR_HEIGHT = 31;\n\n// Spacing between the canvas and reporter bar\nconst REPORTER_BAR_CANVAS_MARGIN = 5;\n\n// Spacing between palette and paint surface\nconst SIDEBAR_CANVAS_MARGIN = 10;\n\nconst SIDEBAR_WIDTH = 65;\n\n// Total allowed height of paint surface\nconst CANVAS_HEIGHT = 500 - HEADER_HEIGHT - HEADER_CANVAS_MARGIN\n    - REPORTER_BAR_HEIGHT - REPORTER_BAR_CANVAS_MARGIN - PADDING + DROP_DOWN_PADDING * 2;\n\nconst WIDTH = PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN + CANVAS_HEIGHT + PADDING - DROP_DOWN_PADDING * 2;\n\nexport const COLORS = [\n    \"#ffffff\",\n    \"#ff2121\",\n    \"#ff93c4\",\n    \"#ff8135\",\n    \"#fff609\",\n    \"#249ca3\",\n    \"#78dc52\",\n    \"#003fad\",\n    \"#87f2ff\",\n    \"#8e2ec4\",\n    \"#a4839f\",\n    \"#5c406c\",\n    \"#e5cdc4\",\n    \"#91463d\",\n    \"#000000\"\n];\n\nexport class SpriteEditor implements SideBarHost, SpriteHeaderHost {\n    private group: svg.Group;\n    private toolbarRoot: svg.SVG;\n\n    private paintSurface: CanvasGrid;\n    private sidebar: SideBar;\n    private header: SpriteHeader;\n    // private bottomBar: ReporterBar;\n    // private gallery: Gallery;\n\n    private state: CanvasState;\n\n    // When changing the size, keep the old bitmap around so that we can restore it\n    private cachedState: CanvasState;\n\n    private edit: Edit;\n    private activeTool: PaintTool = PaintTool.Normal;\n    private toolWidth = 1;\n    public color = 1;\n\n    private cursorCol = 0;\n    private cursorRow = 0;\n\n    private undoStack: CanvasState[] = [];\n    private redoStack: CanvasState[] = [];\n    private undoRedo: UndoRedoGroup = undefined;\n\n    private columns: number = 16;\n    private rows: number = 16;\n\n    private shiftDown: boolean = false;\n    private altDown: boolean = false;\n    private mouseDown: boolean = false;\n\n    private closeHandler: () => void;\n\n    constructor(bitmap: Bitmap, blocksInfo?: {}, protected lightMode = false, public scale = 1) {\n\n        this.columns = bitmap.width;\n        this.rows = bitmap.height;\n\n        this.state = new CanvasState(bitmap.copy())\n\n        this.toolbarRoot = new svg.SVG();\n        this.toolbarRoot.setClass(\"sprite-canvas-controls\");\n        this.group = this.toolbarRoot.group();\n        this.createDefs();\n\n        this.paintSurface = new CanvasGrid(COLORS, this.state.copy(), this.lightMode, this.scale);\n\n        this.paintSurface.drag((col, row) => {\n            this.debug(\"gesture (\" + PaintTool[this.activeTool] + \")\");\n            if (!this.altDown) {\n                this.setCell(col, row, this.color, false);\n            }\n\n            // this.bottomBar.updateCursor(col, row);\n        });\n\n        this.paintSurface.up((col, row) => {\n            this.debug(\"gesture end (\" + PaintTool[this.activeTool] + \")\");\n            if (this.altDown) {\n                const color = this.state.image.get(col, row);\n                this.sidebar.setColor(color);\n            } else {\n                this.paintSurface.onEditEnd(col, row, this.edit);\n                if (this.state.floatingLayer && !this.paintSurface.state.floatingLayer) {\n                    this.pushState(true);\n                    this.state = this.paintSurface.state.copy();\n                    this.rePaint();\n                }\n                this.commit();\n                this.shiftAction();\n            }\n\n            this.mouseDown = false;\n        });\n\n        this.paintSurface.down((col, row) => {\n            if (!this.altDown) {\n                this.setCell(col, row, this.color, false);\n            }\n            this.mouseDown = true;\n        });\n\n        this.paintSurface.move((col, row) => {\n            this.drawCursor(col, row);\n            this.shiftAction()\n            // this.bottomBar.updateCursor(col, row);\n        });\n\n        this.paintSurface.leave(() => {\n            if (this.edit) {\n                this.rePaint();\n                if (this.edit.isStarted && !this.shiftDown) {\n                    this.commit();\n                }\n            }\n            // this.bottomBar.hideCursor();\n        });\n\n        this.sidebar = new SideBar(['url(\"#alpha-background\")'].concat(COLORS), this, this.group);\n        this.sidebar.setColor(COLORS.length >= 3 ? 3 : 1); // colors omits 0\n\n        // this.header = new SpriteHeader(this);\n        // this.gallery = new Gallery(blocksInfo);\n        // this.bottomBar = new ReporterBar(this.group, this, REPORTER_BAR_HEIGHT);\n\n        this.updateUndoRedo();\n\n        // Sets canvas scale\n        this.scale = scale;\n    }\n\n    setSidebarColor(color: number) {\n        this.sidebar.setColor(color);\n    }\n\n    setCell(col: number, row: number, color: number, commit: boolean): void {\n        if (commit) {\n            this.state.image.set(col, row, color);\n            this.paintCell(col, row, color);\n        }\n        else if (this.edit) {\n            if (!this.edit.isStarted) {\n                this.paintSurface.onEditStart(col, row, this.edit);\n\n                if (this.state.floatingLayer && !this.paintSurface.state.floatingLayer) {\n                    this.pushState(true);\n                    this.state = this.paintSurface.state.copy();\n                }\n            }\n            this.edit.update(col, row);\n            this.cursorCol = col;\n            this.cursorRow = row;\n            this.paintEdit(this.edit, col, row);\n        }\n    }\n\n    render(el: HTMLDivElement): void {\n        // el.appendChild(this.header.getElement());\n        // el.appendChild(this.gallery.getElement());\n        el.appendChild(this.toolbarRoot.el);\n        this.layout();\n        this.toolbarRoot.attr({ \"width\": `${65 * this.scale}px`, \"height\": this.outerHeight() + \"px\" });\n        // this.toolbarRoot.el.style.position = \"absolute\";\n        // this.toolbarRoot.el.style.top = \"0px\";\n        // this.toolbarRoot.el.style.left = \"0px\";\n\n        let canvasHolder = document.createElement(\"div\")\n        canvasHolder.setAttribute(\"class\", \"sprite-canvas-container\")\n        el.appendChild(canvasHolder)\n        this.paintSurface.render(canvasHolder);\n    }\n\n    layout(): void {\n        if (!this.toolbarRoot) {\n            return;\n        }\n\n        this.paintSurface.setGridDimensions(CANVAS_HEIGHT * this.scale);\n\n        // The width of the palette + editor\n        const paintAreaTop = (HEADER_HEIGHT + HEADER_CANVAS_MARGIN) * this.scale;\n        const paintAreaLeft = (PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN) * this.scale;\n\n        // this.sidebar.translate(PADDING * this.scale, paintAreaTop);\n        // TODO(dz): hacky scaling\n        this.paintSurface.updateBounds(paintAreaTop, paintAreaLeft, CANVAS_HEIGHT * this.scale, CANVAS_HEIGHT * this.scale);\n        // this.bottomBar.layout(\n        //     HEADER_HEIGHT + HEADER_CANVAS_MARGIN + (CANVAS_HEIGHT + REPORTER_BAR_CANVAS_MARGIN),\n        //     PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN, CANVAS_HEIGHT);\n\n        // this.gallery.layout(0, HEADER_HEIGHT, TOTAL_HEIGHT - HEADER_HEIGHT);\n        // this.header.layout();\n    }\n\n    rePaint() {\n        this.commit();\n        this.paintSurface.repaint();\n    }\n\n    setActiveColor(color: number, setPalette = false) {\n        if (setPalette) {\n        }\n        else if (this.color != color) {\n            this.color = color;\n\n            // If the user is erasing, go back to pencil\n            if (this.activeTool === PaintTool.Erase) {\n                this.sidebar.setTool(PaintTool.Normal);\n            } else {\n                this.updateEdit();\n            }\n        }\n    }\n\n    setActiveTool(tool: PaintTool) {\n        if (this.activeTool != tool) {\n            this.activeTool = tool;\n            this.updateEdit()\n        }\n    }\n\n    setToolWidth(width: number) {\n        if (this.toolWidth != width) {\n            this.toolWidth = width;\n            this.updateEdit();\n        }\n    }\n\n    initializeUndoRedo(undoStack: CanvasState[], redoStack: CanvasState[]) {\n        if (undoStack) {\n            this.undoStack = undoStack;\n        }\n        if (redoStack) {\n            this.redoStack = redoStack;\n        }\n        this.updateUndoRedo();\n    }\n\n    getUndoStack() {\n        return this.undoStack.slice();\n    }\n\n    getRedoStack() {\n        return this.redoStack.slice();\n    }\n\n    undo() {\n        if (this.undoStack.length) {\n            this.debug(\"undo\");\n            const todo = this.undoStack.pop();\n            this.pushState(false);\n\n            // The current state is at the top of the stack unless the user has pressed redo, so\n            // we need to discard it\n            if (todo.equals(this.state)) {\n                this.undo();\n                return;\n            }\n            this.restore(todo);\n        }\n        this.updateUndoRedo();\n    }\n\n    redo() {\n        if (this.redoStack.length) {\n            this.debug(\"redo\");\n            const todo = this.redoStack.pop();\n            this.pushState(true);\n            this.restore(todo);\n        }\n        this.updateUndoRedo();\n    }\n\n    resize(width: number, height: number) {\n        if (!this.cachedState) {\n            this.cachedState = this.state.copy();\n            this.undoStack.push(this.cachedState)\n            this.redoStack = [];\n        }\n        this.state.image = resizeBitmap(this.cachedState.image, width, height);\n        this.afterResize(true);\n    }\n\n    setSizePresets(presets: [number, number][]) {\n        // this.bottomBar.setSizePresets(presets, this.columns, this.rows);\n    }\n\n    canvasWidth() {\n        return this.columns;\n    }\n\n    canvasHeight() {\n        return this.rows;\n    }\n\n    outerWidth() {\n        return WIDTH * this.scale;\n    }\n\n    outerHeight() {\n        return TOTAL_HEIGHT * this.scale;\n    }\n\n    bitmap() {\n        return this.state;\n    }\n\n    showGallery() {\n        /*\n        this.gallery.show((result: Bitmap, err?: string) => {\n            if (err && err !== \"cancelled\") {\n                console.error(err);\n            }\n            else if (result) {\n                this.redoStack = [];\n                this.pushState(true);\n                this.restore(new CanvasState(result));\n                this.hideGallery();\n                this.header.toggle.toggle(true);\n            }\n        });*/\n    }\n\n    hideGallery() {\n        //this.gallery.hide();\n    }\n\n    closeEditor() {\n        if (this.closeHandler) {\n            const ch = this.closeHandler;\n            this.closeHandler = undefined;\n            ch();\n        }\n        if (this.state.floatingLayer) {\n            this.state.mergeFloatingLayer();\n            this.pushState(true);\n        }\n    }\n\n    onClose(handler: () => void) {\n        this.closeHandler = handler;\n    }\n\n    switchIconTo(tool: PaintTool) {\n        if (this.activeTool === tool) return;\n\n        const btn = this.sidebar.getButtonForTool(tool) as TextButton;\n\n        switch (tool) {\n            case PaintTool.Rectangle:\n                updateIcon(btn, \"\\uf096\", (\"Rectangle\"));\n                break;\n            case PaintTool.Circle:\n                updateIcon(btn, \"\\uf10c\", (\"Circle\"));\n                break;\n            case PaintTool.Normal:\n                updateIcon(btn, \"\\uf040\", (\"Pencil\"));\n                break;\n            case PaintTool.Line:\n                updateIcon(btn, \"\\uf07e\", (\"Line\"));\n                break;\n            default:  // no alternate icon, do not change\n                return;\n        }\n\n        btn.onClick(() => {\n            if (tool != PaintTool.Circle && tool != PaintTool.Line) {\n                this.setIconsToDefault();\n                this.sidebar.setTool(tool);\n            }\n        });\n\n        function updateIcon(button: TextButton, text: string, title: string) {\n            const shortcut = getPaintToolShortcut(tool);\n\n            button.setText(text);\n            button.title(title);\n            button.shortcut(shortcut);\n        }\n    }\n\n    setIconsToDefault() {\n        this.switchIconTo(PaintTool.Rectangle);\n        this.switchIconTo(PaintTool.Normal);\n    }\n\n    private keyDown = (event: KeyboardEvent) => {\n        if (event.keyCode == 16) { // Shift\n            this.shiftDown = true;\n            this.shiftAction();\n        }\n\n        if (event.keyCode === 18) { // Alt\n            this.discardEdit();\n            this.paintSurface.setEyedropperMouse(true);\n            this.altDown = true;\n        }\n\n        if (this.state.floatingLayer) {\n            let didSomething = true;\n\n            switch (event.keyCode) {\n                case 8: // backspace\n                case 46: // delete\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.state.floatingLayer = undefined;\n                    break;\n                case 37: // Left arrow\n                    this.state.layerOffsetX--;\n                    break;\n                case 38: // Up arrow\n                    this.state.layerOffsetY--;\n                    break;\n                case 39: // Right arrow\n                    this.state.layerOffsetX++;\n                    break;\n                case 40: // Down arrow\n                    this.state.layerOffsetY++;\n                    break;\n                default:\n                    didSomething = false;\n            }\n\n            if (didSomething) {\n                this.updateEdit();\n                this.pushState(true);\n                this.paintSurface.restore(this.state, true);\n            }\n        }\n\n        const tools = [\n            PaintTool.Fill,\n            PaintTool.Normal,\n            PaintTool.Rectangle,\n            PaintTool.Erase,\n            PaintTool.Circle,\n            PaintTool.Line,\n            PaintTool.Marquee\n        ]\n\n        tools.forEach(tool => {\n            if (event.key === getPaintToolShortcut(tool)) {\n                this.setIconsToDefault();\n                this.switchIconTo(tool);\n                this.sidebar.setTool(tool);\n            }\n        });\n\n        const zeroKeyCode = 48;\n        const nineKeyCode = 57;\n\n        if (event.keyCode >= zeroKeyCode && event.keyCode <= nineKeyCode) {\n            let color = event.keyCode - zeroKeyCode;\n            if (this.shiftDown) {\n                color += 9;\n            }\n            if (color <= COLORS.length) { // colors omits 0\n                this.sidebar.setColor(color);\n            }\n        }\n    }\n\n    private keyUp = (event: KeyboardEvent) => {\n        // If not drawing a circle, switch back to Rectangle and Pencil\n        if (event.keyCode === 16) { // Shift\n            this.shiftDown = false;\n            this.clearShiftAction();\n        } else if (event.keyCode === 18) { // Alt\n            this.altDown = false;\n            this.paintSurface.setEyedropperMouse(false);\n            this.updateEdit();\n        }\n    }\n\n    private undoRedoEvent = (event: KeyboardEvent) => {\n        const controlOrMeta = event.ctrlKey || event.metaKey; // ctrl on windows, meta on mac\n        if (event.key === \"Undo\" || (controlOrMeta && event.key === \"z\")) {\n            this.undo();\n            event.preventDefault();\n            event.stopPropagation();\n        } else if (event.key === \"Redo\" || (controlOrMeta && event.key === \"y\")) {\n            this.redo();\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    addKeyListeners() {\n        document.addEventListener(\"keydown\", this.keyDown);\n        document.addEventListener(\"keyup\", this.keyUp);\n        document.addEventListener(\"keydown\", this.undoRedoEvent, true);\n    }\n\n    removeKeyListeners() {\n        document.removeEventListener(\"keydown\", this.keyDown);\n        document.removeEventListener(\"keyup\", this.keyUp);\n        document.removeEventListener(\"keydown\", this.undoRedoEvent, true);\n        this.paintSurface.removeMouseListeners();\n    }\n\n    private afterResize(showOverlay: boolean) {\n        this.columns = this.state.width;\n        this.rows = this.state.height;\n        this.paintSurface.restore(this.state, true);\n        // this.bottomBar.updateDimensions(this.columns, this.rows);\n        this.layout();\n\n        if (showOverlay) this.paintSurface.showResizeOverlay();\n\n        // Canvas size changed and some edits rely on that (like paint)\n        this.updateEdit();\n    }\n\n    private drawCursor(col: number, row: number) {\n        if (this.edit) {\n            this.paintSurface.drawCursor(this.edit, col, row);\n        }\n    }\n\n    private paintEdit(edit: Edit, col: number, row: number, gestureEnd = false) {\n        this.paintSurface.restore(this.state);\n        this.paintSurface.applyEdit(edit, col, row, gestureEnd);\n    }\n\n    public commit() {\n        if (this.edit) {\n            if (this.cachedState) {\n                this.cachedState = undefined;\n            }\n            this.pushState(true);\n            this.paintEdit(this.edit, this.cursorCol, this.cursorRow, true);\n            this.state = this.paintSurface.state.copy();\n            this.updateEdit();\n            this.redoStack = [];\n        }\n    }\n\n    private pushState(undo: boolean) {\n        const stack = undo ? this.undoStack : this.redoStack;\n        if (stack.length && this.state.equals(stack[stack.length - 1])) {\n            // Don't push empty commits\n            return;\n        }\n\n        stack.push(this.state.copy());\n        this.updateUndoRedo();\n    }\n\n    private discardEdit() {\n        if (this.edit) {\n            this.edit = undefined;\n            this.rePaint();\n        }\n    }\n\n    private updateEdit() {\n        if (!this.altDown) {\n            this.edit = this.newEdit();\n        }\n    }\n\n    private restore(state: CanvasState) {\n        if (state.width !== this.state.width || state.height !== this.state.height) {\n            this.state = state;\n            this.afterResize(false);\n        }\n        else {\n            this.state = state.copy();\n            this.paintSurface.restore(state, true);\n        }\n    }\n\n    private updateUndoRedo() {\n        // this.bottomBar.updateUndoRedo(this.undoStack.length === 0, this.redoStack.length === 0)\n        this.sidebar.updateUndoRedo(this.undoStack.length === 0, this.redoStack.length === 0)\n    }\n\n    private paintCell(col: number, row: number, color: number) {\n        this.paintSurface.writeColor(col, row, color);\n    }\n\n    private newEdit() {\n        switch (this.activeTool) {\n            case PaintTool.Normal:\n                return new PaintEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Rectangle:\n                return new OutlineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Outline:\n                return new OutlineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Line:\n                return new LineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Circle:\n                return new CircleEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Erase:\n                return new PaintEdit(this.columns, this.rows, 0, this.toolWidth);\n            case PaintTool.Fill:\n                return new FillEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Marquee:\n                return new MarqueeEdit(this.columns, this.rows, this.color, this.toolWidth);\n        }\n    }\n\n    private shiftAction() {\n        if (!this.shiftDown || this.altDown)\n            return;\n\n        switch (this.activeTool) {\n            case PaintTool.Line:\n            case PaintTool.Rectangle:\n            case PaintTool.Circle:\n                this.setCell(this.paintSurface.mouseCol, this.paintSurface.mouseRow, this.color, false);\n                break;\n        }\n    }\n\n    private clearShiftAction() {\n        if (this.mouseDown)\n            return;\n\n        switch (this.activeTool) {\n            case PaintTool.Line:\n            case PaintTool.Rectangle:\n            case PaintTool.Circle:\n                this.updateEdit();\n                this.paintSurface.restore(this.state, true);\n                break;\n        }\n    }\n\n    private debug(msg: string) {\n        // if (this.debugText) {\n        //     this.debugText.text(\"DEBUG: \" + msg);\n        // }\n    }\n\n    private createDefs() {\n        this.toolbarRoot.define(defs => {\n            const p = defs.create(\"pattern\", \"alpha-background\")\n                .size(10, 10)\n                .units(svg.PatternUnits.userSpaceOnUse);\n\n            p.draw(\"rect\")\n                .at(0, 0)\n                .size(10, 10)\n                .fill(\"white\");\n            p.draw(\"rect\")\n                .at(0, 0)\n                .size(5, 5)\n                .fill(\"#dedede\");\n            p.draw(\"rect\")\n                .at(5, 5)\n                .size(5, 5)\n                .fill(\"#dedede\");\n        })\n    }\n}","import React from 'react';\nimport { Bitmap } from '../sprite-editor/bitmap';\nimport * as SE from '../sprite-editor/spriteEditor'\nimport { SpriteEditor } from '../sprite-editor/spriteEditor';\n\ninterface SpriteEditorProps {\n    onPlay: () => void;\n    scale: number;\n    startImage: Bitmap;\n}\ninterface SpriteEditorState {\n    image: Bitmap\n}\n\nexport class SpriteEditorComp extends React.Component<SpriteEditorProps, SpriteEditorState>\n{\n    protected spriteEditorHolder: HTMLDivElement | undefined;\n    public editor: SpriteEditor | undefined;\n\n    constructor(props: SpriteEditorProps) {\n        super(props);\n\n        this.state = {\n            image: this.props.startImage\n        }\n\n    }\n\n    componentDidMount() {\n        this.spriteEditorHolder = this.refs['sprite-editor-holder'] as HTMLDivElement;\n        this.renderSpriteEditor()\n    }\n    componentWillUnmount() {\n        this.spriteEditorHolder = undefined;\n    }\n\n    renderSpriteEditor() {\n        if (!this.spriteEditorHolder)\n            return;\n\n        // const { value } = this.props;\n        // const stateSprite = value && this.stripImageLiteralTags(value)\n\n        console.log(`Sprite editor scale: ${this.props.scale}`)\n        let htmlEl = document.getElementsByTagName('html')[0]\n        // htmlEl.setAttribute(\"style\", `font-size: ${scale}px`)\n\n        let currImg = this.state.image\n        let spriteEditor = this.editor = new SpriteEditor(currImg, null, false, this.props.scale);\n        spriteEditor.render(this.spriteEditorHolder);\n        function scaleAtt(el: Element, attName: string, scale: number) {\n            let oldW = parseInt(el.getAttribute(attName))\n            let newW = oldW * scale\n            el.setAttribute(attName, newW.toString())\n        }\n        let canvases = document.getElementsByClassName(\"sprite-editor-canvas\")\n        for (let c of canvases) {\n            // scaleAtt(c, \"width\", scale)\n            // scaleAtt(c, \"height\", scale)\n        }\n        let controls = document.getElementsByClassName(\"sprite-canvas-controls\")\n        for (let c of controls) {\n            let oldW = parseInt(c.getAttribute(\"width\").replace(\"px\", \"\"))\n            let oldH = parseInt(c.getAttribute(\"height\").replace(\"px\", \"\"))\n            // fudge of 5 for scale 1.892\n            const fudge = 0 // 5 * scale\n            let newW = (oldW - fudge) / this.props.scale\n            let newH = (oldH - fudge) / this.props.scale\n            c.setAttribute(\"viewBox\", `${fudge} ${fudge} ${newW} ${newH}`)\n        }\n        // END HACK\n\n        spriteEditor.rePaint();\n        spriteEditor.setActiveColor(1, true);\n        spriteEditor.setSizePresets([\n            [8, 8],\n            [16, 16],\n            [32, 32],\n            [10, 8]\n        ]);\n\n        this.spriteEditorHolder.style.height = (spriteEditor.outerHeight()) + \"px\";\n        this.spriteEditorHolder.style.width = (spriteEditor.outerWidth()) + \"px\";\n        this.spriteEditorHolder.style.overflow = \"hidden\";\n        this.spriteEditorHolder.className += ' sprite-editor-container sprite-editor-dropdown-bg sprite-editor-dropdown';\n        spriteEditor.addKeyListeners();\n        spriteEditor.onClose(() => {\n            console.log(\"Closing sprite editor!\")\n            this.props.onPlay()\n        });\n    }\n\n    render() {\n        return (\n            <div ref=\"sprite-editor-holder\">\n            </div>\n        );\n    }\n}\n\nexport default SpriteEditor;\n","import React, { CSSProperties } from 'react';\n\nimport '../css/SpriteGallery.css';\nimport { Bitmap } from '../sprite-editor/bitmap';\nimport { bitmapToUrl } from '../bitmap_helpers';\n\ninterface SpriteGalleryProps {\n    height: number,\n    options: Bitmap[],\n    onClick: (b: Bitmap) => void,\n}\ninterface SpriteGalleryState {\n}\n\ninterface ItemProps {\n    onClick: () => void,\n    img: Bitmap\n}\nconst Item: React.FC<ItemProps> = (props: ItemProps) => {\n    let style: CSSProperties = {\n        backgroundColor: \"blue\"\n    }\n    let classes = `item`\n    let data = bitmapToUrl(props.img)\n    return (\n        <div className={classes} style={style} onClick={props.onClick}>\n            <img src={data}>\n            </img>\n        </div>\n    );\n}\nexport class SpriteGallery extends React.Component<SpriteGalleryProps, SpriteGalleryState>\n{\n    private spriteGallery: HTMLDivElement | undefined;\n\n    constructor(props: SpriteGalleryProps) {\n        super(props);\n\n        this.state = {\n        }\n\n    }\n\n    componentDidMount() {\n        this.spriteGallery = this.refs[\"sprite-gallery\"] as HTMLDivElement\n\n        this.spriteGallery.setAttribute(\"style\", `height:${this.props.height}px`)\n    }\n    componentWillUnmount() {\n        this.spriteGallery = undefined\n    }\n\n    clickHandler(idx: number) {\n        this.props.onClick(this.props.options[idx])\n    }\n\n    render() {\n        let items = this.props.options\n            .map((c, i) =>\n                <Item\n                    key={c.buf.toString()}\n                    img={c}\n                    onClick={this.clickHandler.bind(this, i)}></Item>\n            )\n\n        return (\n            <div ref=\"sprite-gallery\"\n                className=\"sprite-gallery\">\n                {items}\n            </div>\n        );\n    }\n}\n\nexport default SpriteGallery;\n\n","import React from 'react';\nimport TabBar from './TabBar'\nimport ColorPicker from './ColorPicker'\n\nimport '../css/GameModder.css';\nimport '../css/icons.css';\nimport '../css/SpriteEditor.css';\nimport { imageLiteralToBitmap, Bitmap } from '../sprite-editor/bitmap';\nimport { textToBitmap, createPngImg, updatePngImg, bitmapToBinHex, textToBinHex } from '../bitmap_helpers';\nimport { tickEvent } from '../telemetry/appinsights';\nimport { bunny_hop_bin_js } from '../games/bunny_hop/bin.js';\nimport { bunny_hop_main_ts } from '../games/bunny_hop/main.ts';\nimport { gameModderState } from '../App';\nimport { SpriteEditorComp } from './SpriteEditor';\nimport * as SE from '../sprite-editor/spriteEditor'\nimport SpriteGallery from './SpriteGallery';\n// import { bunnyHopBinJs } from '../../public/games/bunny_hop/bunny_hop_min.js.js';\n\nexport interface GameModderProps {\n    playHandler: (binJs: string) => void;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nexport interface UserImage {\n    default: Bitmap,\n    data: Bitmap,\n    name: string,\n    callToAction: string,\n}\nexport interface GameModderState {\n    userImages: UserImage[]\n    currentImg: number,\n    currentBackground: number,\n}\nfunction IsGameModderState(s: any): s is GameModderState {\n    return !!(s as GameModderState).userImages\n}\n\nfunction CreateEmptyImageText(w: number, h: number) {\n    let res = \"\\n\"\n    for (let i = 0; i < h; i++)\n        res += \".\".repeat(w) + \"\\n\"\n    return res\n}\nfunction GetImageTextDimensions(s: string): { w: number, h: number } {\n    s = s.trim()\n    let lns = s.split(\"\\n\")\n    let ln1 = lns[0].replace(/\\s/g, \"\")\n    return {\n        w: ln1.length,\n        h: lns.length\n    }\n}\n\n// TODO: either we need binHexToBitmap or we need the original source code\n\nfunction mkPxtJson(): string {\n    let json = {\n        \"name\": \"SampleIMages\",\n        \"dependencies\": {\n            \"device\": \"*\"\n        },\n        \"description\": \"\",\n        \"files\": [\n            \"main.blocks\",\n            \"main.ts\",\n            \"README.md\"\n        ],\n        \"preferredEditor\": \"blocksprj\"\n    }\n    return JSON.stringify(json)\n}\n\nasync function getTxtFile(url: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'text';\n        xhr.onload = function () {\n            var status = xhr.status;\n            if (status === 200) {\n                resolve(xhr.response);\n            } else {\n                const err = new Error(`Error response (${status}) from '${url}'; content: ${xhr.response}`);\n                reject(err)\n            }\n        };\n        xhr.send();\n    });\n};\n\nconst moddableImages: { [k: string]: string } = {\n    \"character\": `\n        . . . . . . . . . . . .\n        . . . 1 1 . 1 1 . . . .\n        . . . 1 3 . 1 3 . . . .\n        . . . . 1 3 . 1 3 . . .\n        . . . . 1 3 . 1 3 . . .\n        . . . 1 1 1 1 1 1 . . .\n        . . 1 1 1 1 1 1 1 1 . .\n        . . 1 1 1 f 1 1 f 1 . .\n        . . 1 1 1 1 1 1 1 1 . .\n        . . 1 1 1 1 f f 1 1 . .\n        . . . 1 1 1 1 1 1 . . .\n        . 1 1 1 1 1 1 1 1 1 1 .\n        . 1 1 1 1 1 1 1 1 1 1 .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . . 1 1 . . . . .\n        . . . . . . 1 . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n    `,\n    \"obstacle1\": `\n        . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . 7 . . . . . . . . . . .\n        . . . . . . . . . . 7 7 . . . . . . . . . .\n        . . . . . . . . . 6 7 7 . . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 7 . . . . . . . .\n        . . . . . . . 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 6 6 . . . . . . . . .\n        . . . . . . . . 6 6 6 6 . . . . . . . . . .\n        . . . . . . . 6 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 7 . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 7 7 . . . . .\n        . . 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 . . .\n        . . . 6 6 6 6 6 7 7 7 7 7 6 6 6 6 6 . . . .\n        . . . . . . . . 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 7 7 7 . . . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 . . . . . . .\n        . . . 6 6 6 7 7 7 7 7 7 7 7 7 7 7 . . . . .\n        6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . . . .\n        6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 6\n        . . . 6 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 6 .\n        . . . . . 6 6 6 6 e e e e 7 7 7 7 7 6 6 6 .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . 6 . e e e e . . 6 . . . . . .\n        . . . 6 6 6 . . . e e e e . 6 . . . . . . .\n        . . . 6 . 6 . . . e e e e . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . .\n   `,\n    \"obstacle2\": `\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . e e e e e . . . . .\n        . . . . e e b b b e e . . . .\n        . . . e e b e e e b e e . . .\n        . . . e e b e e b b e e . . .\n        . . . . e e b b e e e . . . .\n        . . . e b e e e e b b e . . .\n        . . . e e b b b b e e e . . e\n        . . . e e e e e e e e . . e .\n        . . . e b e e b e b e . e . e\n        . . . e b e e e e b e e . . .\n        . . . e e e b e e e e . . . .\n        . . e e b e b e b e e e . . .\n        . e e e e e e e e e e e e . .\n        . . . . . . e e . . . . . . .\n   `,\n    \"background\": `\n    . . . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d . . .\n    . . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d . .\n    . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d .\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d b b b b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b b d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d b b b b b b b b b b d d d d d d d d d d d d\n    d d d d d d d d d d d d b b b b d d b b b b b b b d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d b b b b b b b b d d d d d d d d d d d d d\n    d d d d d d d d d d d d b b b b b b b b b b b b b d d d d d d d d d d d\n    d d d d d d d d b b b b b b b b b b b b b b b b b b b b d d d d d d d d\n    d d d d d d d d d d d b b b b b b b b b b b b b b b b d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b b d b d d d d d d d d d d d\n    d d d d d d d d d d d d d d b b b b b b b b b b b b b b b b d d d d d d\n    d d d d d d d d d d d b b b b b b b b b b b b b b b b b b d d d d d d d\n    d d d d d d d d b b b b b b b b b b b b b b b b b b b d d d d d d d d d\n    d d d d d d d d d d b b b b b d d d b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b d b d d d d d d d d d d d d d d d\n    . d d d d d d d d d d d d d d d d d b d b d d d d d d d d d d d d d d .\n    . . d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d . .\n    . . . d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d . . .\n`\n}\nconst CALL_TO_ACTION: { [k: string]: string } = {\n    \"character\": \"Draw your character!\",\n    \"obstacle1\": \"Draw an obstacle!\",\n    \"obstacle2\": \"Draw another obstacle!\",\n    \"background\": \"Choose your background!\"\n}\n// TODO:\n// 15x32 stump\n// 22x32 tree\n\n\n\nfunction range(len: number): number[] {\n    return new Array(len)\n        .fill(undefined)\n        .map((_, i) => i)\n}\nfunction img2Rows(imgTxt: string) {\n    let rows = imgTxt.split(\"\\n\")\n        .map(r => r.replace(/\\s/g, \"\"))\n        .filter(r => !!r)\n    return rows\n}\nfunction rows2img(rows: string[]): string {\n    return rows.join('\\n')\n}\nfunction resizeUp(imgTxt: string, targW: number, targH: number): string {\n    let rows = img2Rows(imgTxt)\n    let oldW = rows[0].length\n    let oldH = rows.length\n\n    if (oldW > targW || oldH > targH)\n        return imgTxt;\n\n    const left2add = Math.floor((targW - oldW) / 2)\n    const right2add = targW - oldW - left2add\n    const top2add = targH - oldH\n\n    let addCols = (numL: number, numR: number) => {\n        let l = '.'.repeat(numL)\n        let r = '.'.repeat(numR)\n        rows = rows.map(o => l + o + r)\n    }\n    let addRows = (numT: number) => {\n        let newR = range(numT)\n            .map(_ => '.'.repeat(targW))\n        rows = [...newR, ...rows]\n    }\n\n    addCols(left2add, right2add)\n    addRows(top2add)\n\n    return rows2img(rows)\n}\nfunction resizeTo24x24(imgTxt: string) {\n    return resizeUp(imgTxt, 24, 24)\n}\nfunction mirror(imgTxt: string): string {\n    let rows = img2Rows(imgTxt)\n\n    rows = rows.map(r =>\n        r.split(\"\").reverse().join(\"\"))\n\n    return rows2img(rows)\n}\n\nconst SAMPLE_CHARACTERS = [`.`, `\n    . . . . . . . . . . b 5 b . . .\n    . . . . . . . . . b 5 b . . . .\n    . . . . . . . . . b c . . . . .\n    . . . . . . b b b b b b . . . .\n    . . . . . b b 5 5 5 5 5 b . . .\n    . . . . b b 5 d 1 f 5 5 d f . .\n    . . . . b 5 5 1 f f 5 d 4 c . .\n    . . . . b 5 5 d f b d d 4 4 . .\n    b d d d b b d 5 5 5 4 4 4 4 4 b\n    b b d 5 5 5 b 5 5 4 4 4 4 4 b .\n    b d c 5 5 5 5 d 5 5 5 5 5 b . .\n    c d d c d 5 5 b 5 5 5 5 5 5 b .\n    c b d d c c b 5 5 5 5 5 5 5 b .\n    . c d d d d d d 5 5 5 5 5 d b .\n    . . c b d d d d d 5 5 5 b b . .\n    . . . c c c c c c c c b b . . .\n`, mirror(`\n    e e e . . . . e e e . . . .\n    c d d c . . c d d c . . . .\n    c b d d f f d d b c . . . .\n    c 3 b d d b d b 3 c . . . .\n    f b 3 d d d d 3 b f . . . .\n    e d d d d d d d d e . . . .\n    e d f d d d d f d e . b f b\n    f d d f d d f d d f . f d f\n    f b d d b b d d 2 f . f d f\n    . f 2 2 2 2 2 2 b b f f d f\n    . f b d d d d d d b b d b f\n    . f d d d d d b d d f f f .\n    . f d f f f d f f d f . . .\n    . f f . . f f . . f f . . .\n`), mirror(`\n    . . 4 4 4 . . . . 4 4 4 . . . .\n    . 4 5 5 5 e . . e 5 5 5 4 . . .\n    4 5 5 5 5 5 e e 5 5 5 5 5 4 . .\n    4 5 5 4 4 5 5 5 5 4 4 5 5 4 . .\n    e 5 4 4 5 5 5 5 5 5 4 4 5 e . .\n    . e e 5 5 5 5 5 5 5 5 e e . . .\n    . . e 5 f 5 5 5 5 f 5 e . . . .\n    . . f 5 5 5 4 4 5 5 5 f . . f f\n    . . f 4 5 5 f f 5 5 6 f . f 5 f\n    . . . f 6 6 6 6 6 6 4 4 f 5 5 f\n    . . . f 4 5 5 5 5 5 5 4 4 5 f .\n    . . . f 5 5 5 5 5 4 5 5 f f . .\n    . . . f 5 f f f 5 f f 5 f . . .\n    . . . f f . . f f . . f f . . .\n`)].map(resizeTo24x24)\nconst SAMPLE_OBSTACLES = [`.`, `\n    . . . . . . . . . c c 8 . . . .\n    . . . . . . 8 c c c f 8 c c . .\n    . . . c c 8 8 f c a f f f c c .\n    . . c c c f f f c a a f f c c c\n    8 c c c f f f f c c a a c 8 c c\n    c c c b f f f 8 a c c a a a c c\n    c a a b b 8 a b c c c c c c c c\n    a f c a a b b a c c c c c f f c\n    a 8 f c a a c c a c a c f f f c\n    c a 8 a a c c c c a a f f f 8 a\n    . a c a a c f f a a b 8 f f c a\n    . . c c b a f f f a b b c c 6 c\n    . . . c b b a f f 6 6 a b 6 c .\n    . . . c c b b b 6 6 a c c c c .\n    . . . . c c a b b c c c . . . .\n    . . . . . c c c c c c . . . . .\n`, `\n    . . . . . . b b b b . . . . . .\n    . . . . . . b 4 4 4 b . . . . .\n    . . . . . . b b 4 4 4 b . . . .\n    . . . . . b 4 b b b 4 4 b . . .\n    . . . . b d 5 5 5 4 b 4 4 b . .\n    . . . . b 3 2 3 5 5 4 e 4 4 b .\n    . . . b d 2 2 2 5 7 5 4 e 4 4 e\n    . . . b 5 3 2 3 5 5 5 5 e e e e\n    . . b d 7 5 5 5 3 2 3 5 5 e e e\n    . . b 5 5 5 5 5 2 2 2 5 5 d e e\n    . b 3 2 3 5 7 5 3 2 3 5 d d e 4\n    . b 2 2 2 5 5 5 5 5 5 d d e 4 .\n    b d 3 2 d 5 5 5 d d d 4 4 . . .\n    b 5 5 5 5 d d 4 4 4 4 . . . . .\n    4 d d d 4 4 4 . . . . . . . . .\n    4 4 4 4 . . . . . . . . . . . .\n`, `\n    . . . b b b b b b b b b b . . .\n    . . b 1 1 1 1 1 1 1 1 1 1 b . .\n    . b 1 1 1 1 1 1 1 1 1 1 1 1 b .\n    . b 1 1 1 1 1 1 1 1 1 1 1 1 b .\n    . b d d c c c c c c c c d d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 1 d 6 6 6 6 6 c d b .\n    . b d c 6 d 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d d c c c c c c c c d d b .\n    . c b b b b b b b b b b b b c .\n    f c c c c c c c c c c c c c c f\n    f b b b b b b b b b b b b b b f\n    f b c d d d d d d d d d d d b f\n    f b c b b b b b b b b b b c b f\n    f b c b b b b b b b b b b c b f\n    f b c c c c c c c c c c c c b f\n    f b b b b b b b b b b b b b b f\n    f b f f f f f f f f f f f f b f\n    f f f f f f f f f f f f f f f f\n`].map(resizeTo24x24)\n\nconst SAMPLE_OBSTACLES2 = [`.`, `\n    . . . . . . . 6 . . . . . . . .\n    . . . . . . 8 6 6 . . . 6 8 . .\n    . . . e e e 8 8 6 6 . 6 7 8 . .\n    . . e 2 2 2 2 e 8 6 6 7 6 . . .\n    . e 2 2 4 4 2 7 7 7 7 7 8 6 . .\n    . e 2 4 4 2 6 7 7 7 6 7 6 8 8 .\n    e 2 4 5 2 2 6 7 7 6 2 7 7 6 . .\n    e 2 4 4 2 2 6 7 6 2 2 6 7 7 6 .\n    e 2 4 2 2 2 6 6 2 2 2 e 7 7 6 .\n    e 2 4 2 2 4 2 2 2 4 2 2 e 7 6 .\n    e 2 4 2 2 2 2 2 2 2 2 2 e c 6 .\n    e 2 2 2 2 2 2 2 4 e 2 e e c . .\n    e e 2 e 2 2 4 2 2 e e e c . . .\n    e e e e 2 e 2 2 e e e c . . . .\n    e e e 2 e e c e c c c . . . . .\n    . c c c c c c c . . . . . . . .\n`, `\n    . . . . . c c b b b . . . . . .\n    . . . . c b d d d d b . . . . .\n    . . . . c d d d d d d b b . . .\n    . . . . c d d d d d d d d b . .\n    . . . c b b d d d d d d d b . .\n    . . . c b b d d d d d d d b . .\n    . c c c c b b b b d d d b b b .\n    . c d d b c b b b b b b b b d b\n    c b b d d d b b b b b d d b d b\n    c c b b d d d d d d d b b b d c\n    c b c c c b b b b b b b d d c c\n    c c b b c c c c b d d d b c c b\n    . c c c c c c c c c c c b b b b\n    . . c c c c c b b b b b b b c .\n    . . . . . . c c b b b b c c . .\n    . . . . . . . . c c c c . . . .\n`, `\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . f f f . . . . . . . .\n    . . . . . . . . . . . . f 2 f f f f f . . . . .\n    . . . . . . . . . . f f 2 2 e e e e e f f . . .\n    . . . . . . . . . f f 2 2 2 e e e e e e f f . .\n    . . . . . . . . . f e e e e f f f e e e e f . .\n    . . . . . . . . f e 2 2 2 2 e e e f f f f f . .\n    . . . . . . . . f 2 e f f f f f 2 2 2 e f f f .\n    . c c . . . . . f f f e e e f f f f f f f f f .\n    . c d c c . . . f e e 4 4 f b b e 4 4 e f e f .\n    . c c d d c c . . f e d d f b b 4 d 4 e e f . .\n    . . . c d d d c e e f d d d d d 4 e e e f . . .\n    . . . . c c d c d d e e 2 2 2 2 2 2 2 f . . . .\n    . . . . . c c c d d 4 4 e 5 4 4 4 4 4 f . . . .\n    . . . . . . . . e e e e f f f f f f f f . . . .\n    . . . . . . . . . . . . f f . . . f f f . . . .\n`].map(resizeTo24x24)\n\nconsole.dir(SAMPLE_CHARACTERS)\nconsole.dir(SAMPLE_OBSTACLES)\n\nexport class GameModder extends React.Component<GameModderProps, GameModderState> {\n    protected playBtn: HTMLButtonElement | undefined;\n    protected spriteEditor: SpriteEditorComp;\n    protected header: HTMLHeadingElement | undefined;\n    private tabImages: Bitmap[];\n    private scale: number = 1.0;\n\n    constructor(props: GameModderProps) {\n        super(props);\n\n        if (IsGameModderState(gameModderState)) {\n            // Loading previous modder state\n            this.state = gameModderState\n        } else {\n            // Creating new modder state\n            let imgs = Object.keys(moddableImages)\n                .map((name) => {\n                    let def = moddableImages[name]\n                    // TODO: match the original dimensions? One difficulty with this\n                    // is the sprite editor canvas can't handle this\n                    // let { w, h } = GetImageTextDimensions(moddableImages[name])\n                    let [w, h] = [24, 24]\n                    let blank = CreateEmptyImageText(w, h);\n                    return {\n                        data: imageLiteralToBitmap(blank),\n                        name: name,\n                        callToAction: CALL_TO_ACTION[name],\n                        default: textToBitmap(def)\n                    };\n                })\n\n            this.state = {\n                userImages: imgs,\n                currentImg: 0,\n                currentBackground: 12\n            }\n            Object.assign(gameModderState, this.state)\n        }\n\n        this.tabImages = Object.keys(moddableImages)\n            .map(k => moddableImages[k])\n            .map(textToBitmap)\n    }\n\n\n    // async renderExperiments() {\n    //     let tabBar = this.refs[\"tab-bar\"] as TabBar\n    //     let dummyImg = createPngImg(20, 20, 64, 64)\n    //     tabBar.TabBarSvg.appendChild(dummyImg)\n    //     setInterval(() => {\n    //         updatePngImg(dummyImg, this.spriteEditor.bitmap().image)\n    //     }, 500)\n\n    //     function getImages(ts: string) {\n    //         let imgRegex = /img`([\\d\\s\\.a-f]*)`/gm\n    //         let match = imgRegex.exec(ts);\n    //         let res: string[] = []\n    //         while (match != null) {\n    //             res.push(match[1])\n    //             match = imgRegex.exec(ts);\n    //         }\n    //         return res\n    //     }\n\n    //     // HACK:\n    //     let mainTs = bunny_hop_main_ts;\n    //     // let mainTs = await getTxtFile(\"games/bunny_hop/main.ts\")\n\n    //     // TODO: find images\n    //     let imgs = getImages(mainTs)\n    //     // console.dir(imgs)\n\n    //     let imgsAsBmps = imgs.map(textToBitmap)\n    //     // console.dir(imgsAsBmps)\n    // }\n\n    async renderGallery() {\n        // TODO: move to seperate component\n        const SVG_W = 541\n        const OUT = 40\n        const GAL_MARGIN_B = 50\n        const GAL_SVG_H = 10 + GAL_MARGIN_B\n        // const GAL_MARGIN_B = 20\n        // const GAL_SVG_H = 40\n        let galleryHolder = this.refs[\"sprite-gallery\"] as HTMLDivElement\n        let gallerySvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")// as unknown as SVGSVGElement;\n        let galleryEnd = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\")\n        let galleryEndPath = `M -${OUT},-${OUT} l 0,${OUT} l 0,${GAL_SVG_H - GAL_MARGIN_B} l ${OUT},0 h ${SVG_W} l ${OUT},0 l 0,-${GAL_SVG_H - GAL_MARGIN_B} l 0,-${OUT} z`\n        galleryEnd.setAttribute(\"d\", galleryEndPath)\n        gallerySvg.setAttribute('viewBox', `0 0 ${SVG_W} ${GAL_SVG_H}`)\n        gallerySvg.appendChild(galleryEnd)\n        galleryHolder.appendChild(gallerySvg)\n    }\n\n    private saveCurrentUserImage(bmp: Bitmap) {\n        // TODO: set image bug somehow?\n        function updateUserImage(old: UserImage, nw: Bitmap): UserImage {\n            return {\n                data: nw,\n                name: old.name,\n                callToAction: old.callToAction,\n                default: old.default\n            }\n        }\n        let newState = {\n            userImages: this.state.userImages.map((m, i) =>\n                i === this.state.currentImg\n                    ? updateUserImage(m, bmp)\n                    : m)\n        }\n        this.setState(newState)\n        Object.assign(gameModderState, newState)\n    }\n\n    private save() {\n        if (this.spriteEditor) {\n            tickEvent(\"shareExperiment.mod.image\");\n            this.spriteEditor.editor.commit()\n            this.saveCurrentUserImage(this.spriteEditor.editor.bitmap().image)\n        }\n    }\n    private applyImage(bmp: Bitmap) {\n        if (this.spriteEditor) {\n            this.spriteEditor.editor.bitmap().image = bmp\n            this.spriteEditor.editor.rePaint()\n        }\n    }\n    private load(idx: number) {\n        let currImg = this.state.userImages[idx].data\n        if (this.spriteEditor) {\n            this.applyImage(currImg)\n        }\n    }\n\n    onTabChange(idx: number) {\n        this.save()\n        this.setState({ currentImg: idx })\n        if (IsGameModderState(gameModderState))\n            gameModderState.currentImg = idx\n        this.load(idx)\n        tickEvent(\"shareExperiment.mod.tabChange\");\n    }\n\n    onBackgroundColorChanged(idx: number) {\n        this.setState({ currentBackground: idx })\n        if (IsGameModderState(gameModderState))\n            gameModderState.currentBackground = idx\n    }\n\n    onSpriteGalleryPick(bmp: Bitmap) {\n        this.saveCurrentUserImage(bmp)\n        this.applyImage(bmp)\n    }\n\n    render() {\n        let currImg = this.state.userImages[this.state.currentImg]\n        let isBackgroundTab = this.state.currentImg === 3\n\n        let body = document.getElementsByTagName('body')[0]\n        // const MARGIN = 20\n        const HEADER_HEIGHT = 50\n        let actualWidth = body.clientWidth\n        let actualHeight = body.clientHeight - HEADER_HEIGHT\n        let refWidth = 539.0\n        let refHeight = SE.TOTAL_HEIGHT\n        let wScale = actualWidth / refWidth\n        let hScale = actualHeight / refHeight\n        this.scale = Math.min(wScale, hScale)\n\n        const SPRITE_GALLERY_HEIGHT = 100\n        let spriteGalleryHeight = SPRITE_GALLERY_HEIGHT * this.scale\n        let colorPickerHeight = (SE.TOTAL_HEIGHT + SPRITE_GALLERY_HEIGHT) * this.scale\n\n        // TODO\n        let samples = [\n            SAMPLE_CHARACTERS,\n            SAMPLE_OBSTACLES,\n            SAMPLE_OBSTACLES2\n        ]\n        let spriteGalleryOptions =\n            (samples[this.state.currentImg] || SAMPLE_CHARACTERS)\n                .map(i => imageLiteralToBitmap(i))\n\n        let startImg = this.state.userImages[this.state.currentImg].data\n        let galKey = `tab${this.state.currentImg}__` + spriteGalleryOptions.map(b => b.buf.toString()).join(\"_\")\n        return (\n            <div className=\"game-modder\">\n                <h1 ref=\"header\">{currImg.callToAction}</h1>\n                <TabBar ref=\"tab-bar\" tabImages={this.tabImages}\n                    tabChange={this.onTabChange.bind(this)} startTab={this.state.currentImg} />\n                {isBackgroundTab\n                    ?\n                    <ColorPicker selectionChanged={this.onBackgroundColorChanged.bind(this)}\n                        selected={this.state.currentBackground} colors={SE.COLORS}\n                        height={colorPickerHeight}></ColorPicker>\n                    :\n                    [\n                        <SpriteEditorComp ref=\"sprite-editor\" key=\"image-editor\" startImage={startImg}\n                            onPlay={this.onPlay} scale={this.scale}></SpriteEditorComp>,\n                        <SpriteGallery key={galKey} height={spriteGalleryHeight}\n                            options={spriteGalleryOptions} onClick={this.onSpriteGalleryPick.bind(this)}\n                        ></SpriteGallery>\n                    ]}\n                {/* <div ref=\"sprite-gallery\" className=\"sprite-gallery\">\n                </div> */}\n                <button ref=\"play-btn\" className=\"play-btn\">Play!</button>\n            </div>\n        )\n    }\n\n    async componentDidMount() {\n        this.playBtn = this.refs[\"play-btn\"] as HTMLButtonElement;\n        this.spriteEditor = this.refs[\"sprite-editor\"] as SpriteEditorComp;\n        this.header = this.refs['header'] as HTMLHeadingElement\n\n        // events\n        this.playBtn.addEventListener('click', this.onPlay.bind(this))\n\n        // TODO(dz):\n        // await this.renderGallery();\n        // await this.renderExperiments();\n\n        // HACK: scaling\n        this.header.setAttribute(\"style\", `transform: scale(${this.scale})`);\n\n        // HACK: Disable scrolling in iOS\n        document.ontouchmove = function (e) {\n            e.preventDefault();\n        }\n    }\n\n    componentWillUnmount() {\n        this.playBtn = undefined;\n        this.spriteEditor = undefined;\n        this.header = undefined;\n    }\n\n    async onPlay() {\n        this.save()\n\n        function modBackground(bin: string, newColor: number): string {\n            const originalColor = 13\n            const template = (color: number) => `scene_setBackgroundColor__P12360_mk(s);s.tmp_0.arg0=${color}`\n            let old = template(originalColor)\n            let newIdx = newColor + 1 // arcade function is 1-based b/c 0 is transparent\n            let nw = template(newIdx)\n            return bin.replace(old, nw)\n        }\n\n        function modImg(bin: string, img: UserImage): string {\n            // HACK: for some reason the compiler emits image prefixes that look like:\n            // 8704100010000000\n            // whereas ours look like:\n            // e4101000\n            const MOD_PREFIX_LEN = \"e4101000\".length\n            const BIN_PREFIX_LEN = \"8704100010000000\".length\n\n            let newHex = bitmapToBinHex(img.data)\n            let newIsBlank = newHex.slice(MOD_PREFIX_LEN).replace(/0/g, \"\").length == 0\n            if (newIsBlank)\n                newHex = bitmapToBinHex(img.default)\n\n            const oldToFind = bitmapToBinHex(img.default)\n                .slice(MOD_PREFIX_LEN)\n            let oldStartIncl = bin.indexOf(oldToFind) - BIN_PREFIX_LEN\n            if (oldStartIncl < 0)\n                return bin;\n            let oldEndExcl = bin.indexOf(`\"`, oldStartIncl)\n            let oldHex = bin.slice(oldStartIncl, oldEndExcl)\n\n            return bin.replace(oldHex, newHex)\n        }\n\n        // HACK:\n        let gameBinJs = bunny_hop_bin_js;\n        for (let i of this.state.userImages) {\n            gameBinJs = modImg(gameBinJs, i)\n        }\n        gameBinJs = modBackground(gameBinJs, this.state.currentBackground)\n\n        this.props.playHandler(gameBinJs)\n    }\n}\n\nexport default GameModder;\n","import React from 'react';\nimport './App.css';\n\nimport GamePlayer from './components/GamePlayer';\nimport GameModder, { GameModderState } from './components/GameModder';\nimport Share from './components/Share';\nimport HeaderBar from './components/HeaderBar';\n\nimport { loadAppInsights, tickEvent } from './telemetry/appinsights';\n\ninterface AppState {\n    mode: \"mod\" | \"play\" | \"share\"\n}\n\nlet lastBinary: string;\nlet playTimestamp: number;\nexport let gameModderState: GameModderState | {} = {};\n\n// HACK: Disable scrolling in iOS\ndocument.ontouchmove = function (e) {\n    e.preventDefault();\n}\n\nexport class App extends React.Component<{}, AppState> {\n    constructor(props: {}) {\n        super(props)\n        this.state = {\n            mode: \"mod\"\n        }\n\n        this.playGame = this.playGame.bind(this);\n\n        loadAppInsights(false);\n        tickEvent(\"shareExperiment.landing\");\n\n        window.addEventListener('resize', this.setVh);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.setVh);\n    }\n\n    render() {\n        this.setVh();\n        return (\n            <div className=\"App\">\n                {this.state.mode === \"mod\" ?\n                    <GameModder playHandler={this.playGame} changeMode={this.changeMode} /> :\n                    (\n                        this.state.mode === \"play\" ?\n                            <GamePlayer binJs={lastBinary} changeMode={this.changeMode} /> :\n                            <Share changeMode={this.changeMode} />\n                    )\n                }\n            </div>\n        );\n    }\n\n    playGame(binJs: string) {\n        lastBinary = binJs;\n        playTimestamp = Date.now();\n\n        this.setState({ mode: \"play\" })\n        tickEvent(\"shareExperiment.play\");\n    }\n\n    modGame() {\n        if (playTimestamp) {\n            // TODO ensure that time is calculated on play -> share page navigation as well\n            tickEvent(\"shareExperiment.playtime\", { \"duration\": Date.now() - playTimestamp });\n            playTimestamp = null;\n        }\n\n        this.setState({ mode: \"mod\" });\n        tickEvent(\"shareExperiment.mod\");\n    }\n\n    protected changeMode = (mode: \"play\" | \"share\" | \"mod\") => {\n        this.setState({ mode });\n    }\n\n    protected setVh = () => {\n        let vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n}\n\nexport default App;\n","import React from 'react';\n\nimport '../css/Share.css';\nimport '../css/icons.css';\n\nconst legalText = \"You need to publish your project to share it. You acknowledge having consent to publish this project.\";\nconst testURL = \"data:image/png;base64,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\";\n\ninterface ShareProps {\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nclass Share extends React.Component<ShareProps, {}> {\n\n    render() {\n        const { changeMode } = this.props;\n        return (\n            <div className=\"share-page\">\n                <div className=\"share-header\">\n                    <div className=\"back-arrow-button\" title=\"Mod\" role=\"button\" onClick={() => changeMode(\"mod\")}>\n                        <div className=\"back-arrow\"></div>\n                        <div className=\"back-arrow-label\">Mod</div>\n                    </div>\n                </div>\n                <h1>Share your game!</h1>\n                <div className=\"share-screenshot-container\">\n                    <img className=\"share-screenshot\" src={testURL} ></img>\n                </div>\n                <div className=\"share-legal-text\">\n                    {legalText}\n                </div>\n                <div className=\"publish-action\">\n                    <button className=\"publish-button\">Publish Project</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Share;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}